# LINE Bot 測試用例

## 📋 測試分類

### 1. FAQ 功能測試（基礎）

#### 會員相關

- [ ] "如何加入 OPENTIX 會員？"
- [ ] "忘記密碼怎麼辦？"
- [ ] "OPENTIX 會員和國家兩廳院會員是否相同？"
- [ ] "會員身分已被其他帳號綁定，我該怎麼辦？"

#### 購票流程

- [ ] "購票步驟是什麼？"
- [ ] "如何購票？"
- [ ] "購票時無法使用折扣優惠，原因可能是什麼？"
- [ ] "選擇取票方式後可以更改嗎？"
- [ ] "如何使用文化幣？"

#### 取票方式

- [ ] "OPENTIX 提供哪些取票方式？"
- [ ] "電子票在哪裡取票？"
- [ ] "如何於分銷點/超商取票？"
- [ ] "忘記取票代碼怎麼辦？"

#### 退票政策

- [ ] "退票期限是什麼？"
- [ ] "退票手續費是多少？"
- [ ] "換票視同退票嗎？"
- [ ] "退票後多久才能收到款項？"

#### 支付方式

- [ ] "OPENTIX 接受哪些付款方式？"
- [ ] "為什麼輸入信用卡資訊後仍無法成立訂單？"
- [ ] "是否支援分期付款？"

---

### 2. FAQ 功能測試（邊界情況）

#### 模糊查詢

- [ ] "退票"（只有關鍵字，沒有完整問題）
- [ ] "會員"（單一關鍵字）
- [ ] "購票？"（只有動作詞+問號）
- [ ] "OPENTIX"（只有平台名稱）
- [ ] "?"（只有問號）
- [ ] "什麼"（模糊疑問詞）

#### 相似問題變體

- [ ] "要怎麼買票？"（口語化）
- [ ] "買票的流程是什麼？"（不同表達方式）
- [ ] "我該如何註冊？"（不同問題結構）
- [ ] "密碼忘掉了，怎辦？"（口語、錯字）

#### 中英文混合

- [ ] "How to buy tickets?"（純英文）
- [ ] "退票 policy 是什麼？"（中英混合）
- [ ] "OPENTIX 的 refund policy"（中英混合）
- [ ] "會員 registration"（中英混合）

#### 無效或範圍外問題

- [ ] "今天天氣怎麼樣？"（範圍外）
- [ ] "現在幾點？"（範圍外）
- [ ] "幫我算數學"（範圍外）
- [ ] "123456"（純數字）
- [ ] "@#$%"（特殊符號）

---

### 3. 演出搜尋測試（基礎）

#### 藝人搜尋

- [ ] "Eric Lu"
- [ ] "陸逸軒"
- [ ] "魏德曼"
- [ ] "黎卓宇"
- [ ] "成田達輝"

#### 場館搜尋

- [ ] "國家音樂廳"
- [ ] "衛武營"
- [ ] "臺中國家歌劇院"
- [ ] "兩廳院"

#### 類型搜尋

- [ ] "室內樂"
- [ ] "鋼琴獨奏會"
- [ ] "交響樂"

#### 完整演出名稱

- [ ] "水火交融－黎卓宇2026鋼琴獨奏會"
- [ ] "《瘋迷24柴可夫斯基》"
- [ ] "魏德曼與NSO《跨樂自由的邊界》"

---

### 4. 演出搜尋測試（邊界情況）

#### 模糊搜尋

- [ ] "有鋼琴的嗎？"（模糊類型）
- [ ] "音樂會"（只有類型，沒有其他資訊）
- [ ] "這個月有什麼演出？"（時間查詢）
- [ ] "台北"（地點，但可能不是場館）

#### 不存在或拼寫錯誤

- [ ] "蔡依林演唱會"（可能不存在）
- [ ] "周傑倫"（拼寫錯誤：周杰倫 vs 周杰倫）
- [ ] "Eric Lu concert"（英文搜尋，但資料可能主要是中文）
- [ ] "不存在的藝人123"

#### 特殊字符和格式

- [ ] "【2025誠品室內樂節10週年】"（包含特殊符號）
- [ ] "愛與遠方～日本武尊篇"（包含特殊符號）
- [ ] "水火交融－黎卓宇2026鋼琴獨奏會"（包含破折號和年份）

#### 極短或極長查詢

- [ ] "音樂"（只有2個字）
- [ ] "有"（只有1個字）
- [ ] "我想找一個關於古典音樂的鋼琴獨奏會，最好是歐洲的音樂家，在台北地區的場館演出，時間最好是在週末"（非常長的查詢）

---

### 5. 上下文理解測試（後續問題）

#### 基本後續問題

1. 先搜尋："Eric Lu"
2. 然後問：
   - [ ] "這個演出的票價是多少？"（使用"這個"）
   - [ ] "它什麼時候演出？"（使用"它"）
   - [ ] "地點在哪裡？"（沒有明確指代，但應該是上下文中的演出）
   - [ ] "票價"（只有關鍵字，沒有明確指代）

#### 複雜後續問題

1. 先搜尋："黎卓宇"
2. 然後問：
   - [ ] "第一個演出的詳細介紹是什麼？"（指定序號）
   - [ ] "第二個的票價"（簡短表達）
   - [ ] "它們分別在哪裡演出？"（複數指代）

#### 上下文切換

1. 先搜尋："Eric Lu"
2. 然後問："國家音樂廳有什麼演出？"（這應該是新搜尋，不是後續問題）

#### 混合查詢

1. 先問："如何購票？"（FAQ）
2. 然後問："Eric Lu"（搜尋）
3. 然後問："這個演出的票價是多少？"（應該指代 Eric Lu 的演出，不是購票流程）

---

### 6. 狀態機測試

#### 主選單操作

- [ ] 輸入"主選單"
- [ ] 輸入"幫助"
- [ ] 輸入"Main Menu"
- [ ] 點擊"🔙 回到主畫面"按鈕

#### 搜尋引導流程

1. [ ] 輸入"搜尋"
2. [ ] 選擇搜尋類型（例如："🎭 演出全名"）
3. [ ] 輸入搜尋關鍵字
4. [ ] 查看結果

#### 收藏功能

1. [ ] 搜尋一個演出
2. [ ] 點擊"⭐ 收藏演出"
3. [ ] 輸入"我的收藏"
4. [ ] 查看收藏列表
5. [ ] 輸入"取消收藏：1"

---

### 7. 多語言測試

#### 中文測試

- [ ] "如何購票？"
- [ ] "退票政策是什麼？"
- [ ] "Eric Lu 的演出"
- [ ] "國家音樂廳有什麼表演？"

#### 英文測試

- [ ] "How to buy tickets?"
- [ ] "What is the refund policy?"
- [ ] "Eric Lu concerts"
- [ ] "What shows are at National Concert Hall?"

#### 語言切換

1. [ ] 輸入"Language"或"語言"
2. [ ] 切換到英文
3. [ ] 測試英文問題
4. [ ] 切換回中文
5. [ ] 測試中文問題

---

### 8. 錯誤處理測試

#### 空值或無效輸入

- [ ] ""（空字串）
- [ ] "   "（只有空格）
- [ ] "\\n\\n\\n"（只有換行）
- [ ] "undefined"
- [ ] "null"

#### 特殊字符攻擊

- [ ] "`<script>`alert('xss')`</script>`"（XSS 嘗試）
- [ ] "'; DROP TABLE users; --"（SQL 注入嘗試）
- [ ] "../../etc/passwd"（路徑遍歷嘗試）

#### 超長輸入

- [ ] 1000 個字符的重複文字
- [ ] 10000 個字符的超長查詢

#### 編碼問題

- [ ] "測試\x00\x01\x02"（包含控制字符）
- [ ] "測試\\u0000\\u0001"（Unicode 控制字符）

---

### 9. 性能測試

#### 快速連續查詢

1. [ ] 連續發送 5 個不同的問題（間隔 < 1 秒）
2. [ ] 觀察響應時間和順序

#### 大量上下文

1. [ ] 先進行 10 輪對話
2. [ ] 然後問一個需要上下文的問題
3. [ ] 觀察是否能正確理解上下文

---

### 10. 整合測試場景

#### 完整購票流程模擬

1. [ ] "OPENTIX 是什麼？"（FAQ）
2. [ ] "如何加入會員？"（FAQ）
3. [ ] "搜尋音樂會"（搜尋）
4. [ ] "Eric Lu"（具體搜尋）
5. [ ] "第一個演出的票價"（後續問題）
6. [ ] "如何購票？"（回到 FAQ）
7. [ ] "收藏：[eventId]"（收藏功能）
8. [ ] "我的收藏"（查看收藏）

#### 問題類型切換

1. [ ] "Eric Lu"（搜尋）
2. [ ] "如何購票？"（FAQ）
3. [ ] "退票政策"（FAQ）
4. [ ] "國家音樂廳"（新搜尋）
5. [ ] "這個演出的介紹"（後續問題，應該指國家音樂廳的演出）

---

## 📊 測試檢查清單

### 功能檢查

- [ ] FAQ 回答是否準確且相關？
- [ ] 演出搜尋是否返回正確結果？
- [ ] 後續問題是否正確理解上下文？
- [ ] 主選單和按鈕是否正常工作？
- [ ] 收藏功能是否正常運作？

### 邊界情況檢查

- [ ] 模糊查詢是否給出合理回應？
- [ ] 無效輸入是否優雅處理？
- [ ] 不存在內容是否正確提示？
- [ ] 範圍外問題是否正確拒絕？

### 用戶體驗檢查

- [ ] 回應是否自然友好？
- [ ] 回應格式是否正確（無 Markdown）？
- [ ] 是否提供了相關的 Quick Reply？
- [ ] 錯誤訊息是否清楚易懂？

### 性能檢查

- [ ] 回應時間是否合理（< 5 秒）？
- [ ] 連續查詢是否正常工作？
- [ ] 大量上下文是否正確處理？

---

## 🎯 優先測試項目（建議順序）

1. **基本 FAQ**：會員、購票、退票（確保核心功能正常）
2. **演出搜尋**：藝人、場館、類型（確保搜尋功能正常）
3. **後續問題**：上下文理解（確保狀態機正常）
4. **邊界情況**：模糊查詢、無效輸入（確保錯誤處理正常）
5. **整合測試**：完整流程（確保各功能協同正常）

---

## 📝 測試記錄範本

```
測試日期：_________
測試人員：_________

| 測試項目 | 輸入 | 預期結果 | 實際結果 | 狀態 |
|---------|------|---------|---------|------|
| FAQ-會員註冊 | "如何加入會員？" | 提供註冊步驟 | ✅/❌ | |
| ... | ... | ... | ... | |
```

---

## 🐛 已知問題追蹤

如果在測試中發現問題，請記錄：

1. 問題描述
2. 重現步驟
3. 預期行為
4. 實際行為
5. 截圖或日誌
