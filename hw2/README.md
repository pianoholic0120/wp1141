# 滑動方塊覆蓋遊戲 (Sliding Blocks Coverage Game)

一個基於React TypeScript開發的網頁版益智解謎遊戲，玩家需要控制多個方塊在網格地圖上移動，目標是讓所有可達的格子都被方塊經過至少一次。遊戲採用現代UI/UX設計，提供流暢的遊戲體驗和清晰的視覺回饋。

## 遊戲特色

### 核心玩法
- **同步移動機制**: 所有方塊同時向選定方向移動，直到撞到障礙物、邊界或其他已停止的方塊
- **覆蓋目標**: 讓所有可達格子都被方塊經過至少一次
- **步數限制**: 每個關卡都有步數限制，挑戰玩家找到最優解
- **多難度設計**: 從簡單的3x3網格到複雜的6x6網格，共8個關卡

### 技術特色
- **React TypeScript**: 使用現代前端技術棧，確保代碼質量和可維護性
- **響應式設計**: 適配各種螢幕尺寸，提供良好的用戶體驗
- **狀態管理**: 完整的遊戲狀態追蹤，包括進度保存和恢復
- **動畫效果**: 流暢的方塊移動動畫和通關特效
- **音效系統**: 程序化生成的背景音樂和音效回饋
- **現代UI/UX**: 採用專業UI/UX設計原則，提供清晰的視覺層次和直觀的操作體驗
- **跨瀏覽器兼容**: 支援Chrome、Edge等主流瀏覽器
- **無障礙設計**: 遵循WCAG 2.1 AA標準，支援鍵盤導航和螢幕閱讀器

## 遊戲規則

### 基本操作
1. **方向控制**: 使用方向鍵或點擊按鈕控制方塊移動方向
2. **同步移動**: 所有方塊同時移動，直到無法繼續為止
3. **覆蓋機制**: 方塊經過的格子會被標記為已覆蓋
4. **步數計算**: 每次移動算作一步，需要在不超過限制步數內完成目標

### 評分系統
- **一星**: 完成關卡但步數較多
- **二星**: 使用較少步數完成
- **三星**: 使用最少步數完成（完美通關）

### 關卡設計
- **Level-1 到 Level-2**: Easy難度，3x3和4x4網格
- **Level-3 到 Level-4**: Normal難度，4x4和5x5網格
- **Level-5 到 Level-6**: Hard難度，5x5和6x5網格（支援矩形棋盤）
- **Level-7 到 Level-8**: Expert難度，6x6網格

### 界面設計
- **主選單**: 簡潔的開始界面，支援背景音樂
- **規則說明**: 詳細的遊戲規則和操作指南，採用分欄佈局
- **關卡選擇**: 水平輪播式關卡選擇器，支援難度篩選
- **遊戲界面**: 三欄式佈局，包含控制面板、遊戲棋盤和說明面板
- **通關特效**: 全螢幕慶祝動畫，根據星級評分顯示不同效果

## 技術架構

### 項目結構
```
src/
├── components/          # React組件
│   ├── MainMenu.tsx     # 主選單
│   ├── RulesPage.tsx    # 規則說明頁
│   ├── NewLevelSelector.tsx  # 關卡選擇頁
│   ├── NewGame.tsx      # 遊戲主界面
│   ├── GameBoard.tsx    # 遊戲棋盤
│   ├── VictoryEffect.tsx # 通關特效
│   └── ...
├── utils/               # 工具函數
│   ├── GameLogic.ts     # 核心遊戲邏輯
│   ├── AudioManager.ts  # 音效管理
│   └── LevelNames.ts    # 關卡名稱映射
├── types/               # TypeScript類型定義
│   └── GameTypes.ts     # 遊戲相關類型
├── data/                # 遊戲數據
│   └── levels.json      # 關卡配置
└── App.tsx             # 主應用組件
```

### 核心技術
- **React 18**: 使用React特性
- **TypeScript**: 類型安全
- **CSS Modules**: 組件化樣式管理
- **Web Audio API**: 程式化音效生成
- **Local Storage**: 進度持久化
- **響應式字體**: 基於rem單位的響應式字體系統
- **CSS Grid/Flexbox**: 現代佈局技術
- **CSS自定義屬性**: 主題色彩系統
- **媒體查詢**: 多螢幕尺寸適配

## 安裝與運行

### 環境要求
- Node.js 16.0 或更高版本
- npm 包管理器

    **若有安裝npm之困難，可以參考：**
    1. [Windows 教學](https://hackmd.io/@kenny88881234/Hyz69OXJB)
    2. [Mac 教學](https://medium.com/@1chooo/%E5%A6%82%E4%BD%95%E5%9C%A8-mac-%E5%AE%89%E8%A3%9D-node-js-npm-3d7101d998f4)

### 安裝依賴
```bash
# 到這份作業的資料夾位置
cd hw2
npm install
```

### 開發模式
```bash
npm start
```
遊戲將在 http://localhost:3000 啟動

- 注意： 遊戲已針對不同瀏覽器進行優化，支援自動適配螢幕尺寸。如遇到顯示問題，可調整瀏覽器縮放比例：
    - Windows 使用者可用Ctrl 鍵加 + (放大) 或 - (縮小) 
    - Mac 使用者可用 ⌘ 鍵加 + 或 - 快捷鍵
    - 建議縮放比例：75%-100% 以獲得最佳體驗

### 生產構建
```bash
npm run build
```
構建文件將生成在 `build/` 目錄中

## 遊戲控制

### 鍵盤控制
- **方向鍵**: 控制方塊移動方向
- **Z鍵**: 撤銷上一步
- **R鍵**: 重置當前關卡
- **H鍵**: 顯示提示

### 滑鼠控制
- 點擊方向按鈕進行移動
- 點擊功能按鈕執行對應操作

## 開發說明

### 添加新關卡
1. 在 `src/data/levels.json` 中添加關卡配置
2. 在 `src/utils/LevelNames.ts` 中添加中文名稱
3. 確保關卡ID格式為 "Level-X"

### 自定義音效
修改 `src/utils/AudioManager.ts` 中的音效配置：
- 背景音樂旋律
- 音效頻率和持續時間
- 音量控制

### 樣式定制
各組件的樣式文件位於對應的 `.css` 文件中，支持：
- 主題色彩調整
- 動畫效果修改
- 響應式布局優化

## 瀏覽器兼容性

- Chrome 90+ (推薦)
- Firefox 88+
- Safari 14+
- Edge 90+

## 授權

本項目僅供學習和研究使用。

## 更新日誌

### v1.0.0
- 完成核心遊戲功能
- 實現8個關卡設計
- 支持進度保存和恢復
- 響應式UI設計