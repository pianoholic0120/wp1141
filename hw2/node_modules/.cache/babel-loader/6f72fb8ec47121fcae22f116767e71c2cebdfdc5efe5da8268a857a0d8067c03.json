{"ast":null,"code":"var _jsxFileName = \"/Users/arthurlin/Desktop/\\u7DB2\\u670D/wp1141/hw2/src/components/NewGame.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { initializeGameState, executeMove, undoMove, calculateCoverage } from '../utils/GameLogic';\nimport { getLevelChineseName } from '../utils/LevelNames';\nimport AudioManager from '../utils/AudioManager';\nimport GameBoard from './GameBoard';\nimport ProgressBar from './ProgressBar';\nimport Icon from './Icon';\nimport './NewGame.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewGame = ({\n  level,\n  onLevelComplete,\n  onLevelFailed,\n  onBack\n}) => {\n  _s();\n  const [gameState, setGameState] = useState(() => initializeGameState(level));\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [audioManager] = useState(() => AudioManager.getInstance());\n  const [showHint, setShowHint] = useState(false);\n  const [hintIndex, setHintIndex] = useState(0);\n  const [hasCalledComplete, setHasCalledComplete] = useState(false); // 防止重複調用\n\n  const resetGame = useCallback(() => {\n    audioManager.playSound('click');\n    setGameState(initializeGameState(level));\n    setIsAnimating(false);\n    setShowHint(false);\n    setHintIndex(0);\n    setHasCalledComplete(false); // 重置完成標記\n  }, [level, audioManager]);\n  const handleMove = useCallback(direction => {\n    if (isAnimating || gameState.isGameWon || gameState.isGameLost) return;\n    audioManager.playSound('move');\n    setIsAnimating(true);\n    setTimeout(() => {\n      setGameState(prevState => executeMove(prevState, direction));\n      setIsAnimating(false);\n    }, 200);\n  }, [isAnimating, gameState.isGameWon, gameState.isGameLost, audioManager]);\n  const handleUndo = useCallback(() => {\n    if (isAnimating || gameState.moveHistory.length <= 1) return;\n    audioManager.playSound('click');\n    setGameState(prevState => undoMove(prevState));\n  }, [isAnimating, gameState.moveHistory.length, audioManager]);\n  const handleHint = useCallback(() => {\n    if (!level.solution || level.solution.length === 0) {\n      audioManager.playSound('error');\n      alert('此關卡沒有提示可用');\n      return;\n    }\n    if (hintIndex >= level.solution.length) {\n      audioManager.playSound('error');\n      alert('已顯示所有提示步驟');\n      return;\n    }\n    audioManager.playSound('success');\n    const nextMove = level.solution[hintIndex];\n    const directionMap = {\n      'U': '上',\n      'D': '下',\n      'L': '左',\n      'R': '右'\n    };\n    alert(`提示 ${hintIndex + 1}/${level.solution.length}: 向${directionMap[nextMove]}移動`);\n    setHintIndex(prev => prev + 1);\n    setShowHint(true);\n  }, [level.solution, hintIndex, audioManager]);\n\n  // 鍵盤控制\n  useEffect(() => {\n    const handleKeyPress = event => {\n      if (isAnimating || gameState.isGameWon || gameState.isGameLost) return;\n      switch (event.key) {\n        case 'ArrowUp':\n          event.preventDefault();\n          handleMove('up');\n          break;\n        case 'ArrowDown':\n          event.preventDefault();\n          handleMove('down');\n          break;\n        case 'ArrowLeft':\n          event.preventDefault();\n          handleMove('left');\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          handleMove('right');\n          break;\n        case 'z':\n        case 'Z':\n          event.preventDefault();\n          handleUndo();\n          break;\n        case 'r':\n        case 'R':\n          event.preventDefault();\n          resetGame();\n          break;\n        case 'h':\n        case 'H':\n          event.preventDefault();\n          handleHint();\n          break;\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [handleMove, handleUndo, resetGame, handleHint, isAnimating, gameState.isGameWon, gameState.isGameLost]);\n\n  // 遊戲狀態變化處理 - 防止重複調用\n  useEffect(() => {\n    if (gameState.isGameWon && onLevelComplete && !hasCalledComplete) {\n      console.log('NewGame: 檢測到通關，調用 onLevelComplete');\n      setHasCalledComplete(true); // 標記已調用\n      onLevelComplete(gameState);\n    } else if (gameState.isGameLost && onLevelFailed) {\n      console.log('NewGame: 檢測到失敗，調用 onLevelFailed');\n      onLevelFailed(gameState);\n    }\n  }, [gameState.isGameWon, gameState.isGameLost, hasCalledComplete]); // 添加標記依賴\n\n  // 當關卡改變時重置遊戲\n  useEffect(() => {\n    resetGame();\n  }, [level.id, resetGame]);\n  const canUndo = gameState.moveHistory.length > 1;\n  const isGameActive = !gameState.isGameWon && !gameState.isGameLost;\n  const coverage = calculateCoverage(gameState);\n  const remainingMoves = level.turnLimit - (gameState.currentTurn - 1);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"new-game-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-game-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-button-game\",\n        onClick: onBack,\n        children: \"\\u2190 \\u8FD4\\u56DE\\u9078\\u95DC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"level-info-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-name-header\",\n          children: getLevelChineseName(level.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-id-header\",\n          children: level.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-status\",\n        children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n          current: coverage,\n          total: 100,\n          label: \"\\u8986\\u84CB\\u7387\",\n          showPercentage: true,\n          animated: true,\n          color: \"success\",\n          size: \"md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-item moves-counter\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-label\",\n            children: \"\\u5269\\u9918\\u6B65\\u6578\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-value remaining-moves\",\n            children: remainingMoves\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-game-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-controls-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u904A\\u6232\\u63A7\\u5236\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"control-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline control-btn undo-btn\",\n              onClick: handleUndo,\n              disabled: !canUndo || !isGameActive,\n              \"aria-label\": \"\\u64A4\\u92B7\\u4E0A\\u4E00\\u6B65\",\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                name: \"undo\",\n                size: \"sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), \"\\u64A4\\u92B7 (Z)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline control-btn reset-btn\",\n              onClick: resetGame,\n              \"aria-label\": \"\\u91CD\\u7F6E\\u95DC\\u5361\",\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                name: \"reset\",\n                size: \"sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), \"\\u91CD\\u7F6E (R)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline control-btn hint-btn\",\n              onClick: handleHint,\n              disabled: !isGameActive,\n              \"aria-label\": \"\\u986F\\u793A\\u63D0\\u793A\",\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                name: \"hint\",\n                size: \"sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), \"\\u63D0\\u793A (H)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u65B9\\u5411\\u63A7\\u5236\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"direction-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"direction-btn up\",\n              onClick: () => handleMove('up'),\n              disabled: !isGameActive || isAnimating,\n              \"aria-label\": \"\\u5411\\u4E0A\\u79FB\\u52D5\",\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                name: \"arrow-up\",\n                size: \"md\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"direction-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"direction-btn left\",\n                onClick: () => handleMove('left'),\n                disabled: !isGameActive || isAnimating,\n                \"aria-label\": \"\\u5411\\u5DE6\\u79FB\\u52D5\",\n                children: /*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"arrow-left\",\n                  size: \"md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"direction-btn right\",\n                onClick: () => handleMove('right'),\n                disabled: !isGameActive || isAnimating,\n                \"aria-label\": \"\\u5411\\u53F3\\u79FB\\u52D5\",\n                children: /*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"arrow-right\",\n                  size: \"md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"direction-btn down\",\n              onClick: () => handleMove('down'),\n              disabled: !isGameActive || isAnimating,\n              \"aria-label\": \"\\u5411\\u4E0B\\u79FB\\u52D5\",\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                name: \"arrow-down\",\n                size: \"md\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u95DC\\u5361\\u4FE1\\u606F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"level-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-label\",\n                children: \"\\u5730\\u5716:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-value\",\n                children: [level.gridSize[0], \"\\xD7\", level.gridSize[1]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-label\",\n                children: \"\\u65B9\\u584A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-value\",\n                children: level.blocks.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-label\",\n                children: \"\\u6700\\u5C11\\u6B65\\u6578:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-value\",\n                children: level.minSteps\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-label\",\n                children: \"\\u76EE\\u524D\\u6B65\\u6578:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-value\",\n                children: gameState.currentTurn - 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-board-container\",\n        children: /*#__PURE__*/_jsxDEV(GameBoard, {\n          gameState: gameState,\n          onCellClick: position => {\n            console.log('Clicked cell:', position);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-info-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u904A\\u6232\\u8AAA\\u660E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-instructions\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                name: \"target\",\n                size: \"sm\",\n                color: \"var(--color-accent)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this), \"\\u76EE\\u6A19\\uFF1A\\u8B93\\u6240\\u6709\\u683C\\u5B50\\u90FD\\u88AB\\u65B9\\u584A\\u7D93\\u904E\\u81F3\\u5C11\\u4E00\\u6B21\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                name: \"controls\",\n                size: \"sm\",\n                color: \"var(--color-primary)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this), \"\\u63A7\\u5236\\uFF1A\\u4F7F\\u7528\\u65B9\\u5411\\u9375\\u6216\\u9EDE\\u64CA\\u6309\\u9215\\u79FB\\u52D5\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                name: \"rules\",\n                size: \"sm\",\n                color: \"var(--color-secondary)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this), \"\\u898F\\u5247\\uFF1A\\u6240\\u6709\\u65B9\\u584A\\u540C\\u6642\\u79FB\\u52D5\\u76F4\\u5230\\u649E\\u5230\\u969C\\u7919\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                name: \"scoring\",\n                size: \"sm\",\n                color: \"var(--color-warning)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), \"\\u8A55\\u5206\\uFF1A\\u8D8A\\u5C11\\u6B65\\u6578\\u5B8C\\u6210\\uFF0C\\u661F\\u6578\\u8D8A\\u9AD8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u5716\\u4F8B\\u8AAA\\u660E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-color block-example\",\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u53EF\\u79FB\\u52D5\\u65B9\\u584A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-color obstacle-example\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u56FA\\u5B9A\\u969C\\u7919\\u7269\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-color covered-example\",\n                children: \"\\u2713\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u5DF2\\u8986\\u84CB\\u683C\\u5B50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-color empty-example\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u7A7A\\u767D\\u683C\\u5B50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), showHint && level.solution && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-section hint-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u89E3\\u6CD5\\u63D0\\u793A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hint-display\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u5B8C\\u6574\\u89E3\\u6CD5 (\", level.solution.length, \" \\u6B65):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"solution-steps\",\n              children: level.solution.map((step, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `step ${index < hintIndex ? 'revealed' : ''}`,\n                children: step\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n_s(NewGame, \"0mEf9N3fvPlIoYoxCy1kxK7PmCY=\");\n_c = NewGame;\nexport default NewGame;\nvar _c;\n$RefreshReg$(_c, \"NewGame\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","initializeGameState","executeMove","undoMove","calculateCoverage","getLevelChineseName","AudioManager","GameBoard","ProgressBar","Icon","jsxDEV","_jsxDEV","NewGame","level","onLevelComplete","onLevelFailed","onBack","_s","gameState","setGameState","isAnimating","setIsAnimating","audioManager","getInstance","showHint","setShowHint","hintIndex","setHintIndex","hasCalledComplete","setHasCalledComplete","resetGame","playSound","handleMove","direction","isGameWon","isGameLost","setTimeout","prevState","handleUndo","moveHistory","length","handleHint","solution","alert","nextMove","directionMap","prev","handleKeyPress","event","key","preventDefault","window","addEventListener","removeEventListener","console","log","id","canUndo","isGameActive","coverage","remainingMoves","turnLimit","currentTurn","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","current","total","label","showPercentage","animated","color","size","disabled","name","gridSize","blocks","minSteps","onCellClick","position","map","step","index","_c","$RefreshReg$"],"sources":["/Users/arthurlin/Desktop/網服/wp1141/hw2/src/components/NewGame.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Level, GameState, Direction } from '../types/GameTypes';\nimport { initializeGameState, executeMove, undoMove, calculateCoverage, calculateStarRating } from '../utils/GameLogic';\nimport { getLevelChineseName } from '../utils/LevelNames';\nimport AudioManager from '../utils/AudioManager';\nimport GameBoard from './GameBoard';\nimport ProgressBar from './ProgressBar';\nimport Icon from './Icon';\nimport './NewGame.css';\n\ninterface NewGameProps {\n  level: Level;\n  onLevelComplete: (gameState: GameState) => void;\n  onLevelFailed: (gameState: GameState) => void;\n  onBack: () => void;\n}\n\nconst NewGame: React.FC<NewGameProps> = ({\n  level,\n  onLevelComplete,\n  onLevelFailed,\n  onBack\n}) => {\n  const [gameState, setGameState] = useState<GameState>(() => initializeGameState(level));\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [audioManager] = useState(() => AudioManager.getInstance());\n  const [showHint, setShowHint] = useState(false);\n  const [hintIndex, setHintIndex] = useState(0);\n  const [hasCalledComplete, setHasCalledComplete] = useState(false); // 防止重複調用\n\n  const resetGame = useCallback(() => {\n    audioManager.playSound('click');\n    setGameState(initializeGameState(level));\n    setIsAnimating(false);\n    setShowHint(false);\n    setHintIndex(0);\n    setHasCalledComplete(false); // 重置完成標記\n  }, [level, audioManager]);\n\n  const handleMove = useCallback((direction: Direction) => {\n    if (isAnimating || gameState.isGameWon || gameState.isGameLost) return;\n\n    audioManager.playSound('move');\n    setIsAnimating(true);\n    setTimeout(() => {\n      setGameState(prevState => executeMove(prevState, direction));\n      setIsAnimating(false);\n    }, 200);\n  }, [isAnimating, gameState.isGameWon, gameState.isGameLost, audioManager]);\n\n  const handleUndo = useCallback(() => {\n    if (isAnimating || gameState.moveHistory.length <= 1) return;\n    \n    audioManager.playSound('click');\n    setGameState(prevState => undoMove(prevState));\n  }, [isAnimating, gameState.moveHistory.length, audioManager]);\n\n  const handleHint = useCallback(() => {\n    if (!level.solution || level.solution.length === 0) {\n      audioManager.playSound('error');\n      alert('此關卡沒有提示可用');\n      return;\n    }\n    \n    if (hintIndex >= level.solution.length) {\n      audioManager.playSound('error');\n      alert('已顯示所有提示步驟');\n      return;\n    }\n    \n    audioManager.playSound('success');\n    const nextMove = level.solution[hintIndex];\n    const directionMap: Record<string, string> = {\n      'U': '上',\n      'D': '下',\n      'L': '左',\n      'R': '右'\n    };\n    \n    alert(`提示 ${hintIndex + 1}/${level.solution.length}: 向${directionMap[nextMove]}移動`);\n    setHintIndex(prev => prev + 1);\n    setShowHint(true);\n  }, [level.solution, hintIndex, audioManager]);\n\n  // 鍵盤控制\n  useEffect(() => {\n    const handleKeyPress = (event: KeyboardEvent) => {\n      if (isAnimating || gameState.isGameWon || gameState.isGameLost) return;\n\n      switch (event.key) {\n        case 'ArrowUp':\n          event.preventDefault();\n          handleMove('up');\n          break;\n        case 'ArrowDown':\n          event.preventDefault();\n          handleMove('down');\n          break;\n        case 'ArrowLeft':\n          event.preventDefault();\n          handleMove('left');\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          handleMove('right');\n          break;\n        case 'z':\n        case 'Z':\n          event.preventDefault();\n          handleUndo();\n          break;\n        case 'r':\n        case 'R':\n          event.preventDefault();\n          resetGame();\n          break;\n        case 'h':\n        case 'H':\n          event.preventDefault();\n          handleHint();\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [handleMove, handleUndo, resetGame, handleHint, isAnimating, gameState.isGameWon, gameState.isGameLost]);\n\n  // 遊戲狀態變化處理 - 防止重複調用\n  useEffect(() => {\n    if (gameState.isGameWon && onLevelComplete && !hasCalledComplete) {\n      console.log('NewGame: 檢測到通關，調用 onLevelComplete');\n      setHasCalledComplete(true); // 標記已調用\n      onLevelComplete(gameState);\n    } else if (gameState.isGameLost && onLevelFailed) {\n      console.log('NewGame: 檢測到失敗，調用 onLevelFailed');\n      onLevelFailed(gameState);\n    }\n  }, [gameState.isGameWon, gameState.isGameLost, hasCalledComplete]); // 添加標記依賴\n\n  // 當關卡改變時重置遊戲\n  useEffect(() => {\n    resetGame();\n  }, [level.id, resetGame]);\n\n  const canUndo = gameState.moveHistory.length > 1;\n  const isGameActive = !gameState.isGameWon && !gameState.isGameLost;\n  const coverage = calculateCoverage(gameState);\n  const remainingMoves = level.turnLimit - (gameState.currentTurn - 1);\n\n  return (\n    <div className=\"new-game-container\">\n      {/* 頂部信息欄 */}\n      <div className=\"new-game-header\">\n        <button className=\"back-button-game\" onClick={onBack}>\n          ← 返回選關\n        </button>\n        \n        <div className=\"level-info-header\">\n          <div className=\"level-name-header\">{getLevelChineseName(level.id)}</div>\n          <div className=\"level-id-header\">{level.id}</div>\n        </div>\n        \n        <div className=\"game-status\">\n          <ProgressBar\n            current={coverage}\n            total={100}\n            label=\"覆蓋率\"\n            showPercentage={true}\n            animated={true}\n            color=\"success\"\n            size=\"md\"\n          />\n          <div className=\"status-item moves-counter\">\n            <span className=\"status-label\">剩餘步數</span>\n            <span className=\"status-value remaining-moves\">{remainingMoves}</span>\n          </div>\n        </div>\n      </div>\n\n      {/* 遊戲主體 */}\n      <div className=\"new-game-main\">\n        {/* 左側控制面板 */}\n        <div className=\"game-controls-panel\">\n          <div className=\"control-section\">\n            <h3>遊戲控制</h3>\n            <div className=\"control-buttons\">\n              <button \n                className=\"btn btn-outline control-btn undo-btn\"\n                onClick={handleUndo}\n                disabled={!canUndo || !isGameActive}\n                aria-label=\"撤銷上一步\"\n              >\n                <Icon name=\"undo\" size=\"sm\" />\n                撤銷 (Z)\n              </button>\n              <button \n                className=\"btn btn-outline control-btn reset-btn\"\n                onClick={resetGame}\n                aria-label=\"重置關卡\"\n              >\n                <Icon name=\"reset\" size=\"sm\" />\n                重置 (R)\n              </button>\n              <button \n                className=\"btn btn-outline control-btn hint-btn\"\n                onClick={handleHint}\n                disabled={!isGameActive}\n                aria-label=\"顯示提示\"\n              >\n                <Icon name=\"hint\" size=\"sm\" />\n                提示 (H)\n              </button>\n            </div>\n          </div>\n\n          <div className=\"control-section\">\n            <h3>方向控制</h3>\n            <div className=\"direction-controls\">\n              <button \n                className=\"direction-btn up\"\n                onClick={() => handleMove('up')}\n                disabled={!isGameActive || isAnimating}\n                aria-label=\"向上移動\"\n              >\n                <Icon name=\"arrow-up\" size=\"md\" />\n              </button>\n              <div className=\"direction-row\">\n                <button \n                  className=\"direction-btn left\"\n                  onClick={() => handleMove('left')}\n                  disabled={!isGameActive || isAnimating}\n                  aria-label=\"向左移動\"\n                >\n                  <Icon name=\"arrow-left\" size=\"md\" />\n                </button>\n                <button \n                  className=\"direction-btn right\"\n                  onClick={() => handleMove('right')}\n                  disabled={!isGameActive || isAnimating}\n                  aria-label=\"向右移動\"\n                >\n                  <Icon name=\"arrow-right\" size=\"md\" />\n                </button>\n              </div>\n              <button \n                className=\"direction-btn down\"\n                onClick={() => handleMove('down')}\n                disabled={!isGameActive || isAnimating}\n                aria-label=\"向下移動\"\n              >\n                <Icon name=\"arrow-down\" size=\"md\" />\n              </button>\n            </div>\n          </div>\n\n          <div className=\"control-section\">\n            <h3>關卡信息</h3>\n            <div className=\"level-details\">\n              <div className=\"detail-item\">\n                <span className=\"detail-label\">地圖:</span>\n                <span className=\"detail-value\">{level.gridSize[0]}×{level.gridSize[1]}</span>\n              </div>\n              <div className=\"detail-item\">\n                <span className=\"detail-label\">方塊:</span>\n                <span className=\"detail-value\">{level.blocks.length}</span>\n              </div>\n              <div className=\"detail-item\">\n                <span className=\"detail-label\">最少步數:</span>\n                <span className=\"detail-value\">{level.minSteps}</span>\n              </div>\n              <div className=\"detail-item\">\n                <span className=\"detail-label\">目前步數:</span>\n                <span className=\"detail-value\">{gameState.currentTurn - 1}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* 中央遊戲板 */}\n        <div className=\"game-board-container\">\n          <GameBoard \n            gameState={gameState}\n            onCellClick={(position) => {\n              console.log('Clicked cell:', position);\n            }}\n          />\n        </div>\n\n        {/* 右側信息面板 */}\n        <div className=\"game-info-panel\">\n          <div className=\"info-section\">\n            <h3>遊戲說明</h3>\n            <div className=\"game-instructions\">\n              <p>\n                <Icon name=\"target\" size=\"sm\" color=\"var(--color-accent)\" />\n                目標：讓所有格子都被方塊經過至少一次\n              </p>\n              <p>\n                <Icon name=\"controls\" size=\"sm\" color=\"var(--color-primary)\" />\n                控制：使用方向鍵或點擊按鈕移動\n              </p>\n              <p>\n                <Icon name=\"rules\" size=\"sm\" color=\"var(--color-secondary)\" />\n                規則：所有方塊同時移動直到撞到障礙\n              </p>\n              <p>\n                <Icon name=\"scoring\" size=\"sm\" color=\"var(--color-warning)\" />\n                評分：越少步數完成，星數越高\n              </p>\n            </div>\n          </div>\n\n          <div className=\"info-section\">\n            <h3>圖例說明</h3>\n            <div className=\"legend\">\n              <div className=\"legend-item\">\n                <div className=\"legend-color block-example\">1</div>\n                <span>可移動方塊</span>\n              </div>\n              <div className=\"legend-item\">\n                <div className=\"legend-color obstacle-example\"></div>\n                <span>固定障礙物</span>\n              </div>\n              <div className=\"legend-item\">\n                <div className=\"legend-color covered-example\">✓</div>\n                <span>已覆蓋格子</span>\n              </div>\n              <div className=\"legend-item\">\n                <div className=\"legend-color empty-example\"></div>\n                <span>空白格子</span>\n              </div>\n            </div>\n          </div>\n\n          {showHint && level.solution && (\n            <div className=\"info-section hint-section\">\n              <h3>解法提示</h3>\n              <div className=\"hint-display\">\n                <p>完整解法 ({level.solution.length} 步):</p>\n                <div className=\"solution-steps\">\n                  {level.solution.map((step, index) => (\n                    <span \n                      key={index} \n                      className={`step ${index < hintIndex ? 'revealed' : ''}`}\n                    >\n                      {step}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NewGame;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}