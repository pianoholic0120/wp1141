{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./MainMenu.css';import AudioManager from'../utils/AudioManager';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MainMenu=_ref=>{let{onStartGame,onShowRules}=_ref;const[isAudioEnabled,setIsAudioEnabled]=useState(true);const audioManager=AudioManager.getInstance();useEffect(()=>{setIsAudioEnabled(audioManager.isAudioEnabled());if(audioManager.isAudioEnabled()){audioManager.playBackgroundMusic();}},[audioManager]);const toggleAudio=()=>{const newState=!isAudioEnabled;setIsAudioEnabled(newState);audioManager.setEnabled(newState);if(newState){audioManager.playBackgroundMusic();}else{audioManager.stopBackgroundMusic();}};return/*#__PURE__*/_jsx(\"div\",{className:\"main-menu-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-menu-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"audio-toggle-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"audio-toggle \".concat(isAudioEnabled?'enabled':'disabled'),onClick:toggleAudio,title:isAudioEnabled?'關閉音樂':'開啟音樂',children:/*#__PURE__*/_jsx(\"div\",{className:\"audio-icon\",children:isAudioEnabled?/*#__PURE__*/_jsxs(\"div\",{className:\"sound-waves\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"wave wave-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"wave wave-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"wave wave-3\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"sound-off\",children:/*#__PURE__*/_jsx(\"span\",{className:\"mute-line\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-button start-button\",onClick:onStartGame,children:\"\\u958B\\u59CB\\u904A\\u6232\"}),/*#__PURE__*/_jsx(\"button\",{className:\"menu-button rules-button\",onClick:onShowRules,children:\"\\u904A\\u6232\\u898F\\u5247\"})]})]})});};export default MainMenu;","map":{"version":3,"names":["React","useState","useEffect","AudioManager","jsx","_jsx","jsxs","_jsxs","MainMenu","_ref","onStartGame","onShowRules","isAudioEnabled","setIsAudioEnabled","audioManager","getInstance","playBackgroundMusic","toggleAudio","newState","setEnabled","stopBackgroundMusic","className","children","concat","onClick","title"],"sources":["/Users/arthurlin/Desktop/網服/wp1141/hw2/src/components/MainMenu.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './MainMenu.css';\nimport AudioManager from '../utils/AudioManager';\n\ninterface MainMenuProps {\n  onStartGame: () => void;\n  onShowRules: () => void;\n}\n\nconst MainMenu: React.FC<MainMenuProps> = ({ onStartGame, onShowRules }) => {\n  const [isAudioEnabled, setIsAudioEnabled] = useState(true);\n  const audioManager = AudioManager.getInstance();\n\n  useEffect(() => {\n    setIsAudioEnabled(audioManager.isAudioEnabled());\n    if (audioManager.isAudioEnabled()) {\n      audioManager.playBackgroundMusic();\n    }\n  }, [audioManager]);\n\n  const toggleAudio = () => {\n    const newState = !isAudioEnabled;\n    setIsAudioEnabled(newState);\n    audioManager.setEnabled(newState);\n    if (newState) {\n      audioManager.playBackgroundMusic();\n    } else {\n      audioManager.stopBackgroundMusic();\n    }\n  };\n\n  return (\n    <div className=\"main-menu-container\">\n      <div className=\"main-menu-content\">\n        {/* 讓底圖的原始標題顯示，不添加自定義文字 */}\n        \n        {/* 音樂開關 */}\n        <div className=\"audio-toggle-container\">\n          <button \n            className={`audio-toggle ${isAudioEnabled ? 'enabled' : 'disabled'}`}\n            onClick={toggleAudio}\n            title={isAudioEnabled ? '關閉音樂' : '開啟音樂'}\n          >\n            <div className=\"audio-icon\">\n              {isAudioEnabled ? (\n                <div className=\"sound-waves\">\n                  <span className=\"wave wave-1\"></span>\n                  <span className=\"wave wave-2\"></span>\n                  <span className=\"wave wave-3\"></span>\n                </div>\n              ) : (\n                <div className=\"sound-off\">\n                  <span className=\"mute-line\"></span>\n                </div>\n              )}\n            </div>\n          </button>\n        </div>\n        \n        <div className=\"menu-buttons\">\n          <button \n            className=\"menu-button start-button\"\n            onClick={onStartGame}\n          >\n            開始遊戲\n          </button>\n          \n          <button \n            className=\"menu-button rules-button\"\n            onClick={onShowRules}\n          >\n            遊戲規則\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MainMenu;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,gBAAgB,CACvB,MAAO,CAAAC,YAAY,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAOjD,KAAM,CAAAC,QAAiC,CAAGC,IAAA,EAAkC,IAAjC,CAAEC,WAAW,CAAEC,WAAY,CAAC,CAAAF,IAAA,CACrE,KAAM,CAACG,cAAc,CAAEC,iBAAiB,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAAAa,YAAY,CAAGX,YAAY,CAACY,WAAW,CAAC,CAAC,CAE/Cb,SAAS,CAAC,IAAM,CACdW,iBAAiB,CAACC,YAAY,CAACF,cAAc,CAAC,CAAC,CAAC,CAChD,GAAIE,YAAY,CAACF,cAAc,CAAC,CAAC,CAAE,CACjCE,YAAY,CAACE,mBAAmB,CAAC,CAAC,CACpC,CACF,CAAC,CAAE,CAACF,YAAY,CAAC,CAAC,CAElB,KAAM,CAAAG,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,QAAQ,CAAG,CAACN,cAAc,CAChCC,iBAAiB,CAACK,QAAQ,CAAC,CAC3BJ,YAAY,CAACK,UAAU,CAACD,QAAQ,CAAC,CACjC,GAAIA,QAAQ,CAAE,CACZJ,YAAY,CAACE,mBAAmB,CAAC,CAAC,CACpC,CAAC,IAAM,CACLF,YAAY,CAACM,mBAAmB,CAAC,CAAC,CACpC,CACF,CAAC,CAED,mBACEf,IAAA,QAAKgB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClCf,KAAA,QAAKc,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAIhCjB,IAAA,QAAKgB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCjB,IAAA,WACEgB,SAAS,iBAAAE,MAAA,CAAkBX,cAAc,CAAG,SAAS,CAAG,UAAU,CAAG,CACrEY,OAAO,CAAEP,WAAY,CACrBQ,KAAK,CAAEb,cAAc,CAAG,MAAM,CAAG,MAAO,CAAAU,QAAA,cAExCjB,IAAA,QAAKgB,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBV,cAAc,cACbL,KAAA,QAAKc,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjB,IAAA,SAAMgB,SAAS,CAAC,aAAa,CAAO,CAAC,cACrChB,IAAA,SAAMgB,SAAS,CAAC,aAAa,CAAO,CAAC,cACrChB,IAAA,SAAMgB,SAAS,CAAC,aAAa,CAAO,CAAC,EAClC,CAAC,cAENhB,IAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBjB,IAAA,SAAMgB,SAAS,CAAC,WAAW,CAAO,CAAC,CAChC,CACN,CACE,CAAC,CACA,CAAC,CACN,CAAC,cAENd,KAAA,QAAKc,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BjB,IAAA,WACEgB,SAAS,CAAC,0BAA0B,CACpCG,OAAO,CAAEd,WAAY,CAAAY,QAAA,CACtB,0BAED,CAAQ,CAAC,cAETjB,IAAA,WACEgB,SAAS,CAAC,0BAA0B,CACpCG,OAAO,CAAEb,WAAY,CAAAW,QAAA,CACtB,0BAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}