{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getLevelChineseName}from'../utils/LevelNames';import'./NewLevelSelector.css';import AudioManager from'../utils/AudioManager';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NewLevelSelector=_ref=>{let{levels,completedLevels,levelScores,onLevelSelect,onResetProgress,onBack}=_ref;const[selectedDifficulty,setSelectedDifficulty]=useState('All');const[currentIndex,setCurrentIndex]=useState(0);const[isAudioEnabled,setIsAudioEnabled]=useState(true);const audioManager=AudioManager.getInstance();const difficulties=['All','Easy','Normal','Hard','Expert'];const filteredLevels=levels.filter(level=>selectedDifficulty==='All'||level.difficulty===selectedDifficulty).sort((a,b)=>a.id.localeCompare(b.id));// ÈáçÁΩÆÁ¥¢ÂºïÁï∂ÁØ©ÈÅ∏ÊîπËÆäÊôÇÔºåÁ¢∫‰øùÁ¥¢ÂºïÂú®ÊúâÊïàÁØÑÂúçÂÖß\nuseEffect(()=>{if(filteredLevels.length>0){setCurrentIndex(0);}},[selectedDifficulty,filteredLevels.length]);// Èü≥ÊïàÂàùÂßãÂåñ\nuseEffect(()=>{setIsAudioEnabled(audioManager.isAudioEnabled());},[audioManager]);const getDifficultyColor=difficulty=>{switch(difficulty){case'Easy':return'#4caf50';case'Normal':return'#ff9800';case'Hard':return'#f44336';case'Expert':return'#9c27b0';default:return'#666';}};const getStarDisplay=levelId=>{const score=levelScores[levelId];if(!score)return'‚òÜ‚òÜ‚òÜ';return'‚òÖ'.repeat(score.stars)+'‚òÜ'.repeat(3-score.stars);};const goToPrevious=()=>{if(filteredLevels.length===0)return;setCurrentIndex(prev=>prev>0?prev-1:filteredLevels.length-1);};const goToNext=()=>{if(filteredLevels.length===0)return;setCurrentIndex(prev=>prev<filteredLevels.length-1?prev+1:0);};const handleResetConfirm=()=>{if(window.confirm('Á¢∫ÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâÈÄ≤Â∫¶ÂóéÔºüÊ≠§Êìç‰ΩúÁÑ°Ê≥ïÂæ©Âéü„ÄÇ')){onResetProgress();}};const toggleAudio=()=>{const newState=!isAudioEnabled;setIsAudioEnabled(newState);audioManager.setEnabled(newState);if(newState){audioManager.playBackgroundMusic();}else{audioManager.stopBackgroundMusic();}};// Á¢∫‰øùÁ¥¢ÂºïÂú®ÊúâÊïàÁØÑÂúçÂÖß\nconst safeIndex=filteredLevels.length>0?Math.max(0,Math.min(currentIndex,filteredLevels.length-1)):0;const currentLevel=filteredLevels[safeIndex];// Â¶ÇÊûúÂÆâÂÖ®Á¥¢ÂºïËàáÁï∂ÂâçÁ¥¢Âºï‰∏çÂêåÔºåÊõ¥Êñ∞Á¥¢Âºï\nuseEffect(()=>{if(filteredLevels.length>0&&safeIndex!==currentIndex){setCurrentIndex(safeIndex);}},[safeIndex,currentIndex,filteredLevels.length]);if(filteredLevels.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"new-level-selector-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"no-levels\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u6C92\\u6709\\u7B26\\u5408\\u689D\\u4EF6\\u7684\\u95DC\\u5361\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCurrentIndex(0);setSelectedDifficulty('All');},children:\"\\u986F\\u793A\\u6240\\u6709\\u95DC\\u5361\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"new-level-selector-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-level-selector-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button-selector\",onClick:onBack,children:\"\\u2190 \\u8FD4\\u56DE\\u4E3B\\u9078\\u55AE\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"new-selector-title\",children:\"\\u9078\\u64C7\\u95DC\\u5361\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"audio-toggle-small \".concat(isAudioEnabled?'enabled':'disabled'),onClick:toggleAudio,title:isAudioEnabled?'ÈóúÈñâÈü≥Ê®Ç':'ÈñãÂïüÈü≥Ê®Ç',children:/*#__PURE__*/_jsx(\"div\",{className:\"audio-icon-small\",children:isAudioEnabled?'üîä':'üîá'})}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-button\",onClick:handleResetConfirm,children:\"\\u91CD\\u7F6E\\u9032\\u5EA6\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"difficulty-filter-bar\",children:difficulties.map(difficulty=>/*#__PURE__*/_jsx(\"button\",{className:\"difficulty-tab \".concat(selectedDifficulty===difficulty?'active':''),onClick:()=>{setCurrentIndex(0);setSelectedDifficulty(difficulty);},children:difficulty==='All'?'ÂÖ®ÈÉ®':difficulty},difficulty))}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-carousel\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"carousel-nav prev\",onClick:goToPrevious,disabled:filteredLevels.length<=1,children:\"\\u2039\"}),/*#__PURE__*/_jsx(\"div\",{className:\"level-display\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"level-card-large\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level-header-large\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"level-id-large\",children:currentLevel.id}),/*#__PURE__*/_jsx(\"div\",{className:\"difficulty-badge-large\",style:{backgroundColor:getDifficultyColor(currentLevel.difficulty)},children:currentLevel.difficulty})]}),/*#__PURE__*/_jsx(\"div\",{className:\"level-chinese-name\",children:getLevelChineseName(currentLevel.id)}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"\\u5730\\u5716\\u5927\\u5C0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-value\",children:[currentLevel.gridSize[0],\"\\xD7\",currentLevel.gridSize[1]]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"\\u65B9\\u584A\\u6578\\u91CF\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:currentLevel.blocks.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"\\u6700\\u5C11\\u6B65\\u6578\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:currentLevel.minSteps})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"\\u6B65\\u6578\\u9650\\u5236\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:currentLevel.turnLimit})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-progress-large\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stars-large\",children:getStarDisplay(currentLevel.id)}),levelScores[currentLevel.id]&&/*#__PURE__*/_jsxs(\"div\",{className:\"best-score-large\",children:[\"\\u6700\\u4F73\\u7D00\\u9304\\uFF1A\",levelScores[currentLevel.id].moves,\" \\u6B65\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"level-status-large\",children:completedLevels.has(currentLevel.id)?/*#__PURE__*/_jsx(\"span\",{className:\"completed-badge-large\",children:\"\\u2713 \\u5DF2\\u5B8C\\u6210\"}):/*#__PURE__*/_jsx(\"span\",{className:\"incomplete-badge-large\",children:\"\\u6E96\\u5099\\u6311\\u6230\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"play-button\",onClick:()=>onLevelSelect(currentLevel),children:\"\\u958B\\u59CB\\u904A\\u6232\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"carousel-nav next\",onClick:goToNext,disabled:filteredLevels.length<=1,children:\"\\u203A\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel-indicators\",children:filteredLevels.map((_,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"indicator \".concat(index===safeIndex?'active':''),onClick:()=>setCurrentIndex(index)},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:completedLevels.size}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"\\u5DF2\\u5B8C\\u6210\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:levels.length-completedLevels.size}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"\\u5269\\u9918\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:Object.values(levelScores).reduce((sum,score)=>sum+score.stars,0)}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"\\u7E3D\\u661F\\u6578\"})]})]})]});};export default NewLevelSelector;","map":{"version":3,"names":["React","useState","useEffect","getLevelChineseName","AudioManager","jsx","_jsx","jsxs","_jsxs","NewLevelSelector","_ref","levels","completedLevels","levelScores","onLevelSelect","onResetProgress","onBack","selectedDifficulty","setSelectedDifficulty","currentIndex","setCurrentIndex","isAudioEnabled","setIsAudioEnabled","audioManager","getInstance","difficulties","filteredLevels","filter","level","difficulty","sort","a","b","id","localeCompare","length","getDifficultyColor","getStarDisplay","levelId","score","repeat","stars","goToPrevious","prev","goToNext","handleResetConfirm","window","confirm","toggleAudio","newState","setEnabled","playBackgroundMusic","stopBackgroundMusic","safeIndex","Math","max","min","currentLevel","className","children","onClick","concat","title","map","disabled","style","backgroundColor","gridSize","blocks","minSteps","turnLimit","moves","has","_","index","size","Object","values","reduce","sum"],"sources":["/Users/arthurlin/Desktop/Á∂≤Êúç/wp1141/hw2/src/components/NewLevelSelector.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Level } from '../types/GameTypes';\nimport { getLevelChineseName } from '../utils/LevelNames';\nimport './NewLevelSelector.css';\nimport AudioManager from '../utils/AudioManager';\n\ninterface NewLevelSelectorProps {\n  levels: Level[];\n  completedLevels: Set<string>;\n  levelScores: Record<string, { stars: number; moves: number }>;\n  onLevelSelect: (level: Level) => void;\n  onResetProgress: () => void;\n  onBack: () => void;\n}\n\nconst NewLevelSelector: React.FC<NewLevelSelectorProps> = ({\n  levels,\n  completedLevels,\n  levelScores,\n  onLevelSelect,\n  onResetProgress,\n  onBack\n}) => {\n  const [selectedDifficulty, setSelectedDifficulty] = useState('All');\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isAudioEnabled, setIsAudioEnabled] = useState(true);\n  const audioManager = AudioManager.getInstance();\n\n  const difficulties = ['All', 'Easy', 'Normal', 'Hard', 'Expert'];\n\n  const filteredLevels = levels\n    .filter(level => selectedDifficulty === 'All' || level.difficulty === selectedDifficulty)\n    .sort((a, b) => a.id.localeCompare(b.id));\n\n  // ÈáçÁΩÆÁ¥¢ÂºïÁï∂ÁØ©ÈÅ∏ÊîπËÆäÊôÇÔºåÁ¢∫‰øùÁ¥¢ÂºïÂú®ÊúâÊïàÁØÑÂúçÂÖß\n  useEffect(() => {\n    if (filteredLevels.length > 0) {\n      setCurrentIndex(0);\n    }\n  }, [selectedDifficulty, filteredLevels.length]);\n\n  // Èü≥ÊïàÂàùÂßãÂåñ\n  useEffect(() => {\n    setIsAudioEnabled(audioManager.isAudioEnabled());\n  }, [audioManager]);\n\n  const getDifficultyColor = (difficulty: string) => {\n    switch (difficulty) {\n      case 'Easy': return '#4caf50';\n      case 'Normal': return '#ff9800';\n      case 'Hard': return '#f44336';\n      case 'Expert': return '#9c27b0';\n      default: return '#666';\n    }\n  };\n\n  const getStarDisplay = (levelId: string) => {\n    const score = levelScores[levelId];\n    if (!score) return '‚òÜ‚òÜ‚òÜ';\n    return '‚òÖ'.repeat(score.stars) + '‚òÜ'.repeat(3 - score.stars);\n  };\n\n  const goToPrevious = () => {\n    if (filteredLevels.length === 0) return;\n    setCurrentIndex(prev => \n      prev > 0 ? prev - 1 : filteredLevels.length - 1\n    );\n  };\n\n  const goToNext = () => {\n    if (filteredLevels.length === 0) return;\n    setCurrentIndex(prev => \n      prev < filteredLevels.length - 1 ? prev + 1 : 0\n    );\n  };\n\n  const handleResetConfirm = () => {\n    if (window.confirm('Á¢∫ÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâÈÄ≤Â∫¶ÂóéÔºüÊ≠§Êìç‰ΩúÁÑ°Ê≥ïÂæ©Âéü„ÄÇ')) {\n      onResetProgress();\n    }\n  };\n\n  const toggleAudio = () => {\n    const newState = !isAudioEnabled;\n    setIsAudioEnabled(newState);\n    audioManager.setEnabled(newState);\n    if (newState) {\n      audioManager.playBackgroundMusic();\n    } else {\n      audioManager.stopBackgroundMusic();\n    }\n  };\n\n  // Á¢∫‰øùÁ¥¢ÂºïÂú®ÊúâÊïàÁØÑÂúçÂÖß\n  const safeIndex = filteredLevels.length > 0 ? Math.max(0, Math.min(currentIndex, filteredLevels.length - 1)) : 0;\n  const currentLevel = filteredLevels[safeIndex];\n  \n  // Â¶ÇÊûúÂÆâÂÖ®Á¥¢ÂºïËàáÁï∂ÂâçÁ¥¢Âºï‰∏çÂêåÔºåÊõ¥Êñ∞Á¥¢Âºï\n  useEffect(() => {\n    if (filteredLevels.length > 0 && safeIndex !== currentIndex) {\n      setCurrentIndex(safeIndex);\n    }\n  }, [safeIndex, currentIndex, filteredLevels.length]);\n\n  if (filteredLevels.length === 0) {\n    return (\n      <div className=\"new-level-selector-container\">\n        <div className=\"no-levels\">\n          <p>Ê≤íÊúâÁ¨¶ÂêàÊ¢ù‰ª∂ÁöÑÈóúÂç°</p>\n          <button onClick={() => {\n            setCurrentIndex(0);\n            setSelectedDifficulty('All');\n          }}>È°ØÁ§∫ÊâÄÊúâÈóúÂç°</button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"new-level-selector-container\">\n      {/* È†ÇÈÉ®ÊéßÂà∂Ê¨Ñ */}\n      <div className=\"new-level-selector-header\">\n        <button className=\"back-button-selector\" onClick={onBack}>\n          ‚Üê ËøîÂõû‰∏ªÈÅ∏ÂñÆ\n        </button>\n        \n        <h1 className=\"new-selector-title\">ÈÅ∏ÊìáÈóúÂç°</h1>\n        \n        <div className=\"header-controls\">\n          <button \n            className={`audio-toggle-small ${isAudioEnabled ? 'enabled' : 'disabled'}`}\n            onClick={toggleAudio}\n            title={isAudioEnabled ? 'ÈóúÈñâÈü≥Ê®Ç' : 'ÈñãÂïüÈü≥Ê®Ç'}\n          >\n            <div className=\"audio-icon-small\">\n              {isAudioEnabled ? 'üîä' : 'üîá'}\n            </div>\n          </button>\n          <button className=\"reset-button\" onClick={handleResetConfirm}>\n            ÈáçÁΩÆÈÄ≤Â∫¶\n          </button>\n        </div>\n      </div>\n\n      {/* Èõ£Â∫¶ÁØ©ÈÅ∏ */}\n      <div className=\"difficulty-filter-bar\">\n        {difficulties.map(difficulty => (\n          <button\n            key={difficulty}\n            className={`difficulty-tab ${selectedDifficulty === difficulty ? 'active' : ''}`}\n            onClick={() => {\n              setCurrentIndex(0);\n              setSelectedDifficulty(difficulty);\n            }}\n          >\n            {difficulty === 'All' ? 'ÂÖ®ÈÉ®' : difficulty}\n          </button>\n        ))}\n      </div>\n\n      {/* ÈóúÂç°Ëº™Êí≠ */}\n      <div className=\"level-carousel\">\n        <button \n          className=\"carousel-nav prev\" \n          onClick={goToPrevious}\n          disabled={filteredLevels.length <= 1}\n        >\n          ‚Äπ\n        </button>\n\n        <div className=\"level-display\">\n          <div className=\"level-card-large\">\n            <div className=\"level-header-large\">\n              <div className=\"level-id-large\">{currentLevel.id}</div>\n              <div \n                className=\"difficulty-badge-large\"\n                style={{ backgroundColor: getDifficultyColor(currentLevel.difficulty) }}\n              >\n                {currentLevel.difficulty}\n              </div>\n            </div>\n            \n            <div className=\"level-chinese-name\">\n              {getLevelChineseName(currentLevel.id)}\n            </div>\n            \n            <div className=\"level-info-grid\">\n              <div className=\"info-item\">\n                <div className=\"info-label\">Âú∞ÂúñÂ§ßÂ∞è</div>\n                <div className=\"info-value\">{currentLevel.gridSize[0]}√ó{currentLevel.gridSize[1]}</div>\n              </div>\n              <div className=\"info-item\">\n                <div className=\"info-label\">ÊñπÂ°äÊï∏Èáè</div>\n                <div className=\"info-value\">{currentLevel.blocks.length}</div>\n              </div>\n              <div className=\"info-item\">\n                <div className=\"info-label\">ÊúÄÂ∞ëÊ≠•Êï∏</div>\n                <div className=\"info-value\">{currentLevel.minSteps}</div>\n              </div>\n              <div className=\"info-item\">\n                <div className=\"info-label\">Ê≠•Êï∏ÈôêÂà∂</div>\n                <div className=\"info-value\">{currentLevel.turnLimit}</div>\n              </div>\n            </div>\n            \n            <div className=\"level-progress-large\">\n              <div className=\"stars-large\">{getStarDisplay(currentLevel.id)}</div>\n              {levelScores[currentLevel.id] && (\n                <div className=\"best-score-large\">\n                  ÊúÄ‰Ω≥Á¥ÄÈåÑÔºö{levelScores[currentLevel.id].moves} Ê≠•\n                </div>\n              )}\n            </div>\n            \n            <div className=\"level-status-large\">\n              {completedLevels.has(currentLevel.id) ? (\n                <span className=\"completed-badge-large\">‚úì Â∑≤ÂÆåÊàê</span>\n              ) : (\n                <span className=\"incomplete-badge-large\">Ê∫ñÂÇôÊåëÊà∞</span>\n              )}\n            </div>\n\n            <button \n              className=\"play-button\"\n              onClick={() => onLevelSelect(currentLevel)}\n            >\n              ÈñãÂßãÈÅäÊà≤\n            </button>\n          </div>\n        </div>\n\n        <button \n          className=\"carousel-nav next\" \n          onClick={goToNext}\n          disabled={filteredLevels.length <= 1}\n        >\n          ‚Ä∫\n        </button>\n      </div>\n\n      {/* ÊåáÁ§∫Âô® */}\n      <div className=\"carousel-indicators\">\n        {filteredLevels.map((_, index) => (\n          <button\n            key={index}\n            className={`indicator ${index === safeIndex ? 'active' : ''}`}\n            onClick={() => setCurrentIndex(index)}\n          />\n        ))}\n      </div>\n\n      {/* ÈóúÂç°Áµ±Ë®à */}\n      <div className=\"level-stats\">\n        <div className=\"stat-item\">\n          <span className=\"stat-number\">{completedLevels.size}</span>\n          <span className=\"stat-label\">Â∑≤ÂÆåÊàê</span>\n        </div>\n        <div className=\"stat-item\">\n          <span className=\"stat-number\">{levels.length - completedLevels.size}</span>\n          <span className=\"stat-label\">Ââ©È§ò</span>\n        </div>\n        <div className=\"stat-item\">\n          <span className=\"stat-number\">\n            {Object.values(levelScores).reduce((sum, score) => sum + score.stars, 0)}\n          </span>\n          <span className=\"stat-label\">Á∏ΩÊòüÊï∏</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NewLevelSelector;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}