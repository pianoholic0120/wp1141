{"ast":null,"code":"var _jsxFileName = \"/Users/arthurlin/Desktop/\\u7DB2\\u670D/wp1141/hw2/src/components/GameBoard.tsx\";\nimport React from 'react';\nimport Icon from './Icon';\nimport './GameBoard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameBoard = ({\n  gameState,\n  onCellClick\n}) => {\n  const {\n    currentLevel,\n    blocks,\n    coveredCells\n  } = gameState;\n  const {\n    gridSize,\n    obstacles\n  } = currentLevel;\n  const [rows, cols] = gridSize;\n  const renderCell = (row, col) => {\n    const position = {\n      row,\n      col\n    };\n    const positionKey = `${row},${col}`;\n\n    // 檢查是否為障礙物\n    const isObstacle = obstacles.some(obs => obs.row === row && obs.col === col);\n\n    // 檢查是否有方塊\n    const block = blocks.find(block => block.position.row === row && block.position.col === col);\n\n    // 檢查是否已覆蓋\n    const isCovered = coveredCells.has(positionKey);\n    let cellClass = 'game-cell';\n    let ariaLabel = `位置 ${row + 1}, ${col + 1}`;\n    if (isObstacle) {\n      cellClass += ' obstacle';\n      ariaLabel += ', 障礙物';\n    } else if (block) {\n      cellClass += ` block block-${block.id - 1}`;\n      ariaLabel += `, 方塊 ${block.id}`;\n    } else if (isCovered) {\n      cellClass += ' covered';\n      ariaLabel += ', 已覆蓋';\n    } else {\n      cellClass += ' empty';\n      ariaLabel += ', 空格';\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cellClass,\n      onClick: () => onCellClick === null || onCellClick === void 0 ? void 0 : onCellClick(position),\n      \"data-row\": row,\n      \"data-col\": col,\n      role: \"gridcell\",\n      \"aria-label\": ariaLabel,\n      tabIndex: 0,\n      onKeyDown: e => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          e.preventDefault();\n          onCellClick === null || onCellClick === void 0 ? void 0 : onCellClick(position);\n        }\n      },\n      children: [block && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"block-number\",\n        \"aria-hidden\": \"true\",\n        children: block.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), isCovered && !block && !isObstacle && /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"check\",\n        size: \"sm\",\n        className: \"covered-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), isObstacle && /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"cross\",\n        size: \"sm\",\n        className: \"obstacle-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, `${row}-${col}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-board\",\n    style: {\n      gridTemplateColumns: `repeat(${cols}, 1fr)`,\n      gridTemplateRows: `repeat(${rows}, 1fr)`\n    },\n    children: Array.from({\n      length: rows\n    }, (_, row) => Array.from({\n      length: cols\n    }, (_, col) => renderCell(row, col)))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_c = GameBoard;\nexport default GameBoard;\nvar _c;\n$RefreshReg$(_c, \"GameBoard\");","map":{"version":3,"names":["React","Icon","jsxDEV","_jsxDEV","GameBoard","gameState","onCellClick","currentLevel","blocks","coveredCells","gridSize","obstacles","rows","cols","renderCell","row","col","position","positionKey","isObstacle","some","obs","block","find","isCovered","has","cellClass","ariaLabel","id","className","onClick","role","tabIndex","onKeyDown","e","key","preventDefault","children","fileName","_jsxFileName","lineNumber","columnNumber","name","size","style","gridTemplateColumns","gridTemplateRows","Array","from","length","_","_c","$RefreshReg$"],"sources":["/Users/arthurlin/Desktop/網服/wp1141/hw2/src/components/GameBoard.tsx"],"sourcesContent":["import React from 'react';\nimport { GameState, Position } from '../types/GameTypes';\nimport Icon from './Icon';\nimport './GameBoard.css';\n\ninterface GameBoardProps {\n  gameState: GameState;\n  onCellClick?: (position: Position) => void;\n}\n\nconst GameBoard: React.FC<GameBoardProps> = ({ gameState, onCellClick }) => {\n  const { currentLevel, blocks, coveredCells } = gameState;\n  const { gridSize, obstacles } = currentLevel;\n  const [rows, cols] = gridSize;\n\n\n  const renderCell = (row: number, col: number) => {\n    const position: Position = { row, col };\n    const positionKey = `${row},${col}`;\n    \n    // 檢查是否為障礙物\n    const isObstacle = obstacles.some(obs => obs.row === row && obs.col === col);\n    \n    // 檢查是否有方塊\n    const block = blocks.find(block => \n      block.position.row === row && block.position.col === col\n    );\n    \n    // 檢查是否已覆蓋\n    const isCovered = coveredCells.has(positionKey);\n    \n    let cellClass = 'game-cell';\n    let ariaLabel = `位置 ${row + 1}, ${col + 1}`;\n    \n    if (isObstacle) {\n      cellClass += ' obstacle';\n      ariaLabel += ', 障礙物';\n    } else if (block) {\n      cellClass += ` block block-${block.id - 1}`;\n      ariaLabel += `, 方塊 ${block.id}`;\n    } else if (isCovered) {\n      cellClass += ' covered';\n      ariaLabel += ', 已覆蓋';\n    } else {\n      cellClass += ' empty';\n      ariaLabel += ', 空格';\n    }\n\n    return (\n      <div\n        key={`${row}-${col}`}\n        className={cellClass}\n        onClick={() => onCellClick?.(position)}\n        data-row={row}\n        data-col={col}\n        role=\"gridcell\"\n        aria-label={ariaLabel}\n        tabIndex={0}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault();\n            onCellClick?.(position);\n          }\n        }}\n      >\n        {block && (\n          <span className=\"block-number\" aria-hidden=\"true\">\n            {block.id}\n          </span>\n        )}\n        {isCovered && !block && !isObstacle && (\n          <Icon name=\"check\" size=\"sm\" className=\"covered-icon\" />\n        )}\n        {isObstacle && (\n          <Icon name=\"cross\" size=\"sm\" className=\"obstacle-icon\" />\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div \n      className=\"game-board\"\n      style={{\n        gridTemplateColumns: `repeat(${cols}, 1fr)`,\n        gridTemplateRows: `repeat(${rows}, 1fr)`\n      }}\n    >\n      {Array.from({ length: rows }, (_, row) =>\n        Array.from({ length: cols }, (_, col) => renderCell(row, col))\n      )}\n    </div>\n  );\n};\n\nexport default GameBoard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}