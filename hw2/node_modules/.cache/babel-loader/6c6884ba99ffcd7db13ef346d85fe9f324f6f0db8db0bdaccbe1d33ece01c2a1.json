{"ast":null,"code":"var _jsxFileName = \"/Users/arthurlin/Desktop/\\u7DB2\\u670D/wp1141/hw2/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { calculateStarRating } from './utils/GameLogic';\nimport AudioManager from './utils/AudioManager';\nimport ViewportManager from './utils/ViewportManager';\nimport MainMenu from './components/MainMenu';\nimport RulesPage from './components/RulesPage';\nimport NewLevelSelector from './components/NewLevelSelector';\nimport NewGame from './components/NewGame';\nimport VictoryEffect from './components/VictoryEffect';\nimport './App.css';\n\n// Â∞éÂÖ•ÈóúÂç°Ë≥áÊñô\nimport levelsData from './data/levels.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [currentPage, setCurrentPage] = useState('main-menu');\n  const [currentLevel, setCurrentLevel] = useState(null);\n  const [completedLevels, setCompletedLevels] = useState(new Set());\n  const [levelScores, setLevelScores] = useState({});\n\n  // Èü≥ÊïàÂíåÁâπÊïàÁãÄÊÖã\n  const [audioManager] = useState(() => AudioManager.getInstance());\n  const [viewportManager] = useState(() => ViewportManager.getInstance());\n  const [showVictoryEffect, setShowVictoryEffect] = useState(false);\n  const [victoryData, setVictoryData] = useState(null);\n\n  // Ë¶ñÁ™óÁÆ°ÁêÜ\n  const appRef = useRef(null);\n\n  // ÂàùÂßãÂåñË¶ñÁ™óÁÆ°ÁêÜ\n  useEffect(() => {\n    if (appRef.current) {\n      viewportManager.setContainer(appRef.current);\n    }\n  }, [viewportManager]);\n\n  // Âæû localStorage ËºâÂÖ•ÈÅäÊà≤ÈÄ≤Â∫¶\n  useEffect(() => {\n    const savedCompleted = localStorage.getItem('completedLevels');\n    const savedScores = localStorage.getItem('levelScores');\n    if (savedCompleted) {\n      try {\n        setCompletedLevels(new Set(JSON.parse(savedCompleted)));\n      } catch (error) {\n        console.error('Error loading completed levels:', error);\n      }\n    }\n    if (savedScores) {\n      try {\n        setLevelScores(JSON.parse(savedScores));\n      } catch (error) {\n        console.error('Error loading level scores:', error);\n      }\n    }\n  }, []);\n\n  // ‰øùÂ≠òÈÅäÊà≤ÈÄ≤Â∫¶Âà∞ localStorage\n  useEffect(() => {\n    localStorage.setItem('completedLevels', JSON.stringify([...completedLevels]));\n  }, [completedLevels]);\n  useEffect(() => {\n    localStorage.setItem('levelScores', JSON.stringify(levelScores));\n  }, [levelScores]);\n\n  // ÂàùÂßãÂåñÈü≥È†ªÁ≥ªÁµ±\n  useEffect(() => {\n    console.log('Audio manager initialized:', audioManager.isAudioEnabled());\n    // ÂòóË©¶Á´ãÂç≥ÂïüÂãïËÉåÊôØÈü≥Ê®ÇÔºàÂ¶ÇÊûúÁî®Êà∂Â∑≤Á∂ìÊúâ‰∫íÂãïÔºâ\n    setTimeout(() => {\n      if (audioManager.isAudioEnabled()) {\n        audioManager.playBackgroundMusic();\n      }\n    }, 1000);\n  }, [audioManager]);\n  const handleStartGame = () => {\n    // Êö´ÊôÇÁßªÈô§Èü≥Êïà\n    // audioManager.playSound('click');\n    // audioManager.playBackgroundMusic();\n    setCurrentPage('level-selector');\n  };\n  const handleShowRules = () => {\n    // Êö´ÊôÇÁßªÈô§Èü≥Êïà\n    // audioManager.playSound('click');\n    setCurrentPage('rules');\n  };\n  const handleBackToMainMenu = () => {\n    setCurrentPage('main-menu');\n    setCurrentLevel(null);\n  };\n  const handleLevelSelect = level => {\n    // ËΩâÊèõÊï∏ÁµÑÊ†ºÂºèÂà∞Â∞çË±°Ê†ºÂºè\n    const convertedLevel = {\n      ...level,\n      obstacles: level.obstacles.map(obs => ({\n        row: obs[0],\n        col: obs[1]\n      })),\n      blocks: level.blocks.map(block => ({\n        row: block[0],\n        col: block[1]\n      }))\n    };\n    setCurrentLevel(convertedLevel);\n    setCurrentPage('game');\n  };\n  const handleBackToLevelSelector = () => {\n    setCurrentPage('level-selector');\n    setCurrentLevel(null);\n  };\n  const handleResetProgress = () => {\n    setCompletedLevels(new Set());\n    setLevelScores({});\n    localStorage.removeItem('completedLevels');\n    localStorage.removeItem('levelScores');\n  };\n  const handleLevelComplete = gameState => {\n    console.log('=== handleLevelComplete Ë¢´Ë™øÁî® ===');\n    const levelId = gameState.currentLevel.id;\n\n    // Èò≤Ê≠¢ÈáçË§áËôïÁêÜÂêå‰∏ÄÈóúÂç°\n    if (showVictoryEffect || victoryData) {\n      console.log('App: Â∑≤Á∂ìÂú®ËôïÁêÜÈÄöÈóúÔºåÂøΩÁï•ÈáçË§áË™øÁî®');\n      return;\n    }\n    console.log('gameState:', gameState);\n    const movesUsed = gameState.currentTurn - 1;\n    const starRating = calculateStarRating(gameState);\n    console.log('ÈóúÂç°ID:', levelId);\n    console.log('‰ΩøÁî®Ê≠•Êï∏:', movesUsed);\n    console.log('ÊòüÁ¥öË©ïÂàÜ:', starRating);\n\n    // Êö´ÊôÇÁßªÈô§Èü≥Êïà\n    // audioManager.playSound(`star${starRating.stars}`);\n\n    // Êõ¥Êñ∞ÂÆåÊàêÁöÑÈóúÂç°\n    const newCompletedLevels = new Set([...completedLevels, levelId]);\n    setCompletedLevels(newCompletedLevels);\n\n    // ÂÖàË®àÁÆóÂåÖÂê´Áï∂ÂâçÈóúÂç°ÂàÜÊï∏ÁöÑÂÆåÊï¥ÂàÜÊï∏Â∞çË±°\n    const currentLevelScore = {\n      stars: starRating.stars,\n      moves: movesUsed\n    };\n\n    // ÂâµÂª∫ÂåÖÂê´Áï∂ÂâçÈóúÂç°ÂàÜÊï∏ÁöÑÂÆåÊï¥ÂàÜÊï∏Â∞çË±°\n    const scoresWithCurrent = {\n      ...levelScores,\n      [levelId]: currentLevelScore\n    };\n\n    // Êõ¥Êñ∞ÂàÜÊï∏ÔºàÂè™‰øùÂ≠òÊõ¥Â•ΩÁöÑÂàÜÊï∏Ôºâ\n    setLevelScores(prev => {\n      const currentScore = prev[levelId];\n      if (!currentScore || starRating.stars > currentScore.stars || starRating.stars === currentScore.stars && movesUsed < currentScore.moves) {\n        return scoresWithCurrent;\n      }\n      return prev;\n    });\n\n    // Ê™¢Êü•ÊòØÂê¶ÂÆåÊàêÊâÄÊúâÈóúÂç°\n    const levels = levelsData;\n    const isAllComplete = newCompletedLevels.size === levels.length;\n\n    // Ë®àÁÆóÁ∏ΩÊòüÊï∏ - ‰ΩøÁî®ÂåÖÂê´Áï∂ÂâçÈóúÂç°ÂàÜÊï∏ÁöÑÂÆåÊï¥ÂàÜÊï∏Â∞çË±°\n    const totalStars = Object.values(scoresWithCurrent).reduce((sum, score) => sum + score.stars, 0);\n    console.log('App: Áï∂ÂâçÈóúÂç°ÂàÜÊï∏:', currentLevelScore);\n    console.log('App: ÊâÄÊúâÈóúÂç°ÂàÜÊï∏:', scoresWithCurrent);\n    console.log('App: Á∏ΩÊòüÊï∏Ë®àÁÆó:', totalStars);\n    console.log('App: Â∑≤ÂÆåÊàêÈóúÂç°Êï∏:', newCompletedLevels.size, '/', levels.length);\n\n    // ÊâæÂà∞‰∏ã‰∏ÄÈóú\n    const currentIndex = levels.findIndex(level => level.id === levelId);\n    const hasNextLevel = currentIndex < levels.length - 1;\n    const nextLevel = hasNextLevel ? levels[currentIndex + 1] : null;\n    console.log('App: Ê∫ñÂÇôÈ°ØÁ§∫ÈÄöÈóúÁâπÊïà');\n    console.log('App: isAllComplete =', isAllComplete);\n    console.log('App: hasNextLevel =', hasNextLevel);\n    console.log('App: nextLevel =', nextLevel);\n\n    // ÂâµÂª∫Á©©ÂÆöÁöÑÂõûË™øÂáΩÊï∏\n    const victoryCallback = () => {\n      console.log('App: ===== Êî∂Âà∞ VictoryEffect ÂÆåÊàêÂõûË™ø =====');\n      try {\n        // Ê∏ÖÁêÜÁâπÊïàÁãÄÊÖã\n        console.log('App: Ê∏ÖÁêÜÁâπÊïàÁãÄÊÖã');\n        setShowVictoryEffect(false);\n        setVictoryData(null);\n        console.log('App: Ê∫ñÂÇôÈ°ØÁ§∫Â∞çË©±Ê°ÜÔºåË®≠ÂÆö100msÂª∂ÈÅ≤');\n\n        // ‰ΩøÁî®setTimeoutÁ¢∫‰øùÁãÄÊÖãÊõ¥Êñ∞ÂÆåÊàê\n        setTimeout(() => {\n          console.log('App: setTimeout Ëß∏ÁôºÔºåÈñãÂßãÈ°ØÁ§∫Â∞çË©±Ê°Ü');\n          if (isAllComplete) {\n            console.log('App: Ê¢ù‰ª∂Âà§Êñ∑ - ÂÖ®ÂÆåÊàê');\n            alert(`üèÜ ÊÅ≠ÂñúÊÇ®ÂÆåÊàê‰∫ÜÊâÄÊúâÈóúÂç°ÔºÅ\\nÁ∏ΩÂÖ±Áç≤Âæó ${totalStars} È°ÜÊòüÊòüÔºÅ`);\n            setCurrentPage('level-selector');\n            setCurrentLevel(null);\n          } else if (hasNextLevel) {\n            console.log('App: Ê¢ù‰ª∂Âà§Êñ∑ - Êúâ‰∏ã‰∏ÄÈóú');\n            const userChoice = window.confirm(`üéâ ÊÅ≠ÂñúÈÄöÈóúÔºÅ\\n\\nÈóúÂç°: ${levelId}\\nË©ïÂàÜ: ${starRating.stars}‚òÖ ${starRating.description}\\n‰ΩøÁî®Ê≠•Êï∏: ${movesUsed}\\n\\nÈªûÊìä„ÄåÁ¢∫ÂÆö„ÄçÈÄ≤ÂÖ•‰∏ã‰∏ÄÈóú (${nextLevel.id})\\nÈªûÊìä„ÄåÂèñÊ∂à„ÄçËøîÂõûÈóúÂç°ÈÅ∏Êìá`);\n            if (userChoice && nextLevel) {\n              console.log('App: Áî®Êà∂ÈÅ∏ÊìáÈÄ≤ÂÖ•‰∏ã‰∏ÄÈóú');\n              const convertedLevel = {\n                ...nextLevel,\n                obstacles: nextLevel.obstacles.map(obs => ({\n                  row: obs[0],\n                  col: obs[1]\n                })),\n                blocks: nextLevel.blocks.map(block => ({\n                  row: block[0],\n                  col: block[1]\n                }))\n              };\n              setCurrentLevel(convertedLevel);\n            } else {\n              console.log('App: Áî®Êà∂ÈÅ∏ÊìáËøîÂõûÈóúÂç°ÈÅ∏Êìá');\n              setCurrentPage('level-selector');\n              setCurrentLevel(null);\n            }\n          } else {\n            console.log('App: Ê¢ù‰ª∂Âà§Êñ∑ - ÊúÄÂæå‰∏ÄÈóú');\n            alert(`üéâ ÊÅ≠ÂñúÈÄöÈóúÔºÅ\\n\\nÈóúÂç°: ${levelId}\\nË©ïÂàÜ: ${starRating.stars}‚òÖ ${starRating.description}\\n‰ΩøÁî®Ê≠•Êï∏: ${movesUsed}`);\n            setCurrentPage('level-selector');\n            setCurrentLevel(null);\n          }\n        }, 100); // 100msÂª∂ÈÅ≤Á¢∫‰øùÁãÄÊÖãÊõ¥Êñ∞\n      } catch (error) {\n        console.error('App: ÂõûË™øÂáΩÊï∏Âü∑Ë°åÈåØË™§ÔºÅ', error);\n      }\n    };\n    setVictoryData({\n      stars: starRating.stars,\n      isAllComplete,\n      totalStars,\n      onComplete: victoryCallback\n    });\n    setShowVictoryEffect(true);\n    console.log('App: ÈÄöÈóúÁâπÊïàÂ∑≤ÂïüÂãï');\n  };\n  const handleLevelFailed = useCallback(gameState => {\n    const coverage = Math.round(gameState.coveredCells.size / (gameState.currentLevel.gridSize[0] * gameState.currentLevel.gridSize[1] - gameState.currentLevel.obstacles.length) * 100);\n\n    // Êö´ÊôÇÁßªÈô§Èü≥Êïà\n    // audioManager.playSound('error');\n\n    setTimeout(() => {\n      alert(`üòî ÈÅäÊà≤Â§±ÊïóÔºÅ\\nË¶ÜËìãÁéá: ${coverage}%\\nÂÜçË©¶‰∏ÄÊ¨°ÂêßÔºÅ`);\n      setCurrentPage('level-selector');\n      setCurrentLevel(null);\n    }, 1000);\n  }, []);\n  const renderCurrentPage = () => {\n    switch (currentPage) {\n      case 'main-menu':\n        return /*#__PURE__*/_jsxDEV(MainMenu, {\n          onStartGame: handleStartGame,\n          onShowRules: handleShowRules\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this);\n      case 'rules':\n        return /*#__PURE__*/_jsxDEV(RulesPage, {\n          onBack: handleBackToMainMenu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this);\n      case 'level-selector':\n        return /*#__PURE__*/_jsxDEV(NewLevelSelector, {\n          levels: levelsData,\n          completedLevels: completedLevels,\n          levelScores: levelScores,\n          onLevelSelect: handleLevelSelect,\n          onResetProgress: handleResetProgress,\n          onBack: handleBackToMainMenu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this);\n      case 'game':\n        return currentLevel ? /*#__PURE__*/_jsxDEV(NewGame, {\n          level: currentLevel,\n          onLevelComplete: handleLevelComplete,\n          onLevelFailed: handleLevelFailed,\n          onBack: handleBackToLevelSelector\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"\\u8F09\\u5165\\u4E2D...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(MainMenu, {\n          onStartGame: handleStartGame,\n          onShowRules: handleShowRules\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [renderCurrentPage(), showVictoryEffect && victoryData && /*#__PURE__*/_jsxDEV(VictoryEffect, {\n      stars: victoryData.stars,\n      isAllComplete: victoryData.isAllComplete,\n      totalStars: victoryData.totalStars,\n      onComplete: victoryData.onComplete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 321,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"T3OpG3By+LVPmqkgYLKkpcbS9/4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","calculateStarRating","AudioManager","ViewportManager","MainMenu","RulesPage","NewLevelSelector","NewGame","VictoryEffect","levelsData","jsxDEV","_jsxDEV","App","_s","currentPage","setCurrentPage","currentLevel","setCurrentLevel","completedLevels","setCompletedLevels","Set","levelScores","setLevelScores","audioManager","getInstance","viewportManager","showVictoryEffect","setShowVictoryEffect","victoryData","setVictoryData","appRef","current","setContainer","savedCompleted","localStorage","getItem","savedScores","JSON","parse","error","console","setItem","stringify","log","isAudioEnabled","setTimeout","playBackgroundMusic","handleStartGame","handleShowRules","handleBackToMainMenu","handleLevelSelect","level","convertedLevel","obstacles","map","obs","row","col","blocks","block","handleBackToLevelSelector","handleResetProgress","removeItem","handleLevelComplete","gameState","levelId","id","movesUsed","currentTurn","starRating","newCompletedLevels","currentLevelScore","stars","moves","scoresWithCurrent","prev","currentScore","levels","isAllComplete","size","length","totalStars","Object","values","reduce","sum","score","currentIndex","findIndex","hasNextLevel","nextLevel","victoryCallback","alert","userChoice","window","confirm","description","onComplete","handleLevelFailed","coverage","Math","round","coveredCells","gridSize","renderCurrentPage","onStartGame","onShowRules","fileName","_jsxFileName","lineNumber","columnNumber","onBack","onLevelSelect","onResetProgress","onLevelComplete","onLevelFailed","className","children","_c","$RefreshReg$"],"sources":["/Users/arthurlin/Desktop/Á∂≤Êúç/wp1141/hw2/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { Level, GameState, GamePage } from './types/GameTypes';\nimport { calculateStarRating } from './utils/GameLogic';\nimport AudioManager from './utils/AudioManager';\nimport ViewportManager from './utils/ViewportManager';\nimport MainMenu from './components/MainMenu';\nimport RulesPage from './components/RulesPage';\nimport NewLevelSelector from './components/NewLevelSelector';\nimport NewGame from './components/NewGame';\nimport VictoryEffect from './components/VictoryEffect';\nimport './App.css';\n\n// Â∞éÂÖ•ÈóúÂç°Ë≥áÊñô\nimport levelsData from './data/levels.json';\n\nconst App: React.FC = () => {\n  const [currentPage, setCurrentPage] = useState<GamePage>('main-menu');\n  const [currentLevel, setCurrentLevel] = useState<Level | null>(null);\n  const [completedLevels, setCompletedLevels] = useState<Set<string>>(new Set());\n  const [levelScores, setLevelScores] = useState<Record<string, { stars: number; moves: number }>>({});\n  \n  // Èü≥ÊïàÂíåÁâπÊïàÁãÄÊÖã\n  const [audioManager] = useState(() => AudioManager.getInstance());\n  const [viewportManager] = useState(() => ViewportManager.getInstance());\n  const [showVictoryEffect, setShowVictoryEffect] = useState(false);\n  const [victoryData, setVictoryData] = useState<{\n    stars: number;\n    isAllComplete: boolean;\n    totalStars: number;\n    onComplete: () => void;\n  } | null>(null);\n  \n  // Ë¶ñÁ™óÁÆ°ÁêÜ\n  const appRef = useRef<HTMLDivElement>(null);\n\n  // ÂàùÂßãÂåñË¶ñÁ™óÁÆ°ÁêÜ\n  useEffect(() => {\n    if (appRef.current) {\n      viewportManager.setContainer(appRef.current);\n    }\n  }, [viewportManager]);\n\n  // Âæû localStorage ËºâÂÖ•ÈÅäÊà≤ÈÄ≤Â∫¶\n  useEffect(() => {\n    const savedCompleted = localStorage.getItem('completedLevels');\n    const savedScores = localStorage.getItem('levelScores');\n    \n    if (savedCompleted) {\n      try {\n        setCompletedLevels(new Set(JSON.parse(savedCompleted)));\n      } catch (error) {\n        console.error('Error loading completed levels:', error);\n      }\n    }\n    \n    if (savedScores) {\n      try {\n        setLevelScores(JSON.parse(savedScores));\n      } catch (error) {\n        console.error('Error loading level scores:', error);\n      }\n    }\n  }, []);\n\n  // ‰øùÂ≠òÈÅäÊà≤ÈÄ≤Â∫¶Âà∞ localStorage\n  useEffect(() => {\n    localStorage.setItem('completedLevels', JSON.stringify([...completedLevels]));\n  }, [completedLevels]);\n\n  useEffect(() => {\n    localStorage.setItem('levelScores', JSON.stringify(levelScores));\n  }, [levelScores]);\n\n  // ÂàùÂßãÂåñÈü≥È†ªÁ≥ªÁµ±\n  useEffect(() => {\n    console.log('Audio manager initialized:', audioManager.isAudioEnabled());\n    // ÂòóË©¶Á´ãÂç≥ÂïüÂãïËÉåÊôØÈü≥Ê®ÇÔºàÂ¶ÇÊûúÁî®Êà∂Â∑≤Á∂ìÊúâ‰∫íÂãïÔºâ\n    setTimeout(() => {\n      if (audioManager.isAudioEnabled()) {\n        audioManager.playBackgroundMusic();\n      }\n    }, 1000);\n  }, [audioManager]);\n\n  const handleStartGame = () => {\n    // Êö´ÊôÇÁßªÈô§Èü≥Êïà\n    // audioManager.playSound('click');\n    // audioManager.playBackgroundMusic();\n    setCurrentPage('level-selector');\n  };\n\n  const handleShowRules = () => {\n    // Êö´ÊôÇÁßªÈô§Èü≥Êïà\n    // audioManager.playSound('click');\n    setCurrentPage('rules');\n  };\n\n  const handleBackToMainMenu = () => {\n    setCurrentPage('main-menu');\n    setCurrentLevel(null);\n  };\n\n  const handleLevelSelect = (level: Level) => {\n    // ËΩâÊèõÊï∏ÁµÑÊ†ºÂºèÂà∞Â∞çË±°Ê†ºÂºè\n    const convertedLevel: Level = {\n      ...level,\n      obstacles: level.obstacles.map((obs: any) => ({ row: obs[0], col: obs[1] })),\n      blocks: level.blocks.map((block: any) => ({ row: block[0], col: block[1] }))\n    };\n    setCurrentLevel(convertedLevel);\n    setCurrentPage('game');\n  };\n\n  const handleBackToLevelSelector = () => {\n    setCurrentPage('level-selector');\n    setCurrentLevel(null);\n  };\n\n  const handleResetProgress = () => {\n    setCompletedLevels(new Set());\n    setLevelScores({});\n    localStorage.removeItem('completedLevels');\n    localStorage.removeItem('levelScores');\n  };\n\n  const handleLevelComplete = (gameState: GameState) => {\n    console.log('=== handleLevelComplete Ë¢´Ë™øÁî® ===');\n    \n    const levelId = gameState.currentLevel.id;\n    \n    // Èò≤Ê≠¢ÈáçË§áËôïÁêÜÂêå‰∏ÄÈóúÂç°\n    if (showVictoryEffect || victoryData) {\n      console.log('App: Â∑≤Á∂ìÂú®ËôïÁêÜÈÄöÈóúÔºåÂøΩÁï•ÈáçË§áË™øÁî®');\n      return;\n    }\n    \n    console.log('gameState:', gameState);\n    \n    const movesUsed = gameState.currentTurn - 1;\n    const starRating = calculateStarRating(gameState);\n    \n    console.log('ÈóúÂç°ID:', levelId);\n    console.log('‰ΩøÁî®Ê≠•Êï∏:', movesUsed);\n    console.log('ÊòüÁ¥öË©ïÂàÜ:', starRating);\n    \n    // Êö´ÊôÇÁßªÈô§Èü≥Êïà\n    // audioManager.playSound(`star${starRating.stars}`);\n    \n    // Êõ¥Êñ∞ÂÆåÊàêÁöÑÈóúÂç°\n    const newCompletedLevels = new Set([...completedLevels, levelId]);\n    setCompletedLevels(newCompletedLevels);\n    \n    // ÂÖàË®àÁÆóÂåÖÂê´Áï∂ÂâçÈóúÂç°ÂàÜÊï∏ÁöÑÂÆåÊï¥ÂàÜÊï∏Â∞çË±°\n    const currentLevelScore = {\n      stars: starRating.stars,\n      moves: movesUsed\n    };\n    \n    // ÂâµÂª∫ÂåÖÂê´Áï∂ÂâçÈóúÂç°ÂàÜÊï∏ÁöÑÂÆåÊï¥ÂàÜÊï∏Â∞çË±°\n    const scoresWithCurrent = {\n      ...levelScores,\n      [levelId]: currentLevelScore\n    };\n    \n    // Êõ¥Êñ∞ÂàÜÊï∏ÔºàÂè™‰øùÂ≠òÊõ¥Â•ΩÁöÑÂàÜÊï∏Ôºâ\n    setLevelScores(prev => {\n      const currentScore = prev[levelId];\n      if (!currentScore || starRating.stars > currentScore.stars || \n          (starRating.stars === currentScore.stars && movesUsed < currentScore.moves)) {\n        return scoresWithCurrent;\n      }\n      return prev;\n    });\n\n    // Ê™¢Êü•ÊòØÂê¶ÂÆåÊàêÊâÄÊúâÈóúÂç°\n    const levels = levelsData as unknown as Level[];\n    const isAllComplete = newCompletedLevels.size === levels.length;\n    \n    // Ë®àÁÆóÁ∏ΩÊòüÊï∏ - ‰ΩøÁî®ÂåÖÂê´Áï∂ÂâçÈóúÂç°ÂàÜÊï∏ÁöÑÂÆåÊï¥ÂàÜÊï∏Â∞çË±°\n    const totalStars = Object.values(scoresWithCurrent).reduce((sum, score) => sum + score.stars, 0);\n    \n    console.log('App: Áï∂ÂâçÈóúÂç°ÂàÜÊï∏:', currentLevelScore);\n    console.log('App: ÊâÄÊúâÈóúÂç°ÂàÜÊï∏:', scoresWithCurrent);\n    console.log('App: Á∏ΩÊòüÊï∏Ë®àÁÆó:', totalStars);\n    console.log('App: Â∑≤ÂÆåÊàêÈóúÂç°Êï∏:', newCompletedLevels.size, '/', levels.length);\n    \n    // ÊâæÂà∞‰∏ã‰∏ÄÈóú\n    const currentIndex = levels.findIndex(level => level.id === levelId);\n    const hasNextLevel = currentIndex < levels.length - 1;\n    const nextLevel = hasNextLevel ? levels[currentIndex + 1] : null;\n\n    console.log('App: Ê∫ñÂÇôÈ°ØÁ§∫ÈÄöÈóúÁâπÊïà');\n    console.log('App: isAllComplete =', isAllComplete);\n    console.log('App: hasNextLevel =', hasNextLevel);\n    console.log('App: nextLevel =', nextLevel);\n    \n    // ÂâµÂª∫Á©©ÂÆöÁöÑÂõûË™øÂáΩÊï∏\n    const victoryCallback = () => {\n      console.log('App: ===== Êî∂Âà∞ VictoryEffect ÂÆåÊàêÂõûË™ø =====');\n      \n      try {\n        // Ê∏ÖÁêÜÁâπÊïàÁãÄÊÖã\n        console.log('App: Ê∏ÖÁêÜÁâπÊïàÁãÄÊÖã');\n        setShowVictoryEffect(false);\n        setVictoryData(null);\n        \n        console.log('App: Ê∫ñÂÇôÈ°ØÁ§∫Â∞çË©±Ê°ÜÔºåË®≠ÂÆö100msÂª∂ÈÅ≤');\n        \n        // ‰ΩøÁî®setTimeoutÁ¢∫‰øùÁãÄÊÖãÊõ¥Êñ∞ÂÆåÊàê\n        setTimeout(() => {\n          console.log('App: setTimeout Ëß∏ÁôºÔºåÈñãÂßãÈ°ØÁ§∫Â∞çË©±Ê°Ü');\n          \n          if (isAllComplete) {\n            console.log('App: Ê¢ù‰ª∂Âà§Êñ∑ - ÂÖ®ÂÆåÊàê');\n            alert(`üèÜ ÊÅ≠ÂñúÊÇ®ÂÆåÊàê‰∫ÜÊâÄÊúâÈóúÂç°ÔºÅ\\nÁ∏ΩÂÖ±Áç≤Âæó ${totalStars} È°ÜÊòüÊòüÔºÅ`);\n            setCurrentPage('level-selector');\n            setCurrentLevel(null);\n          } else if (hasNextLevel) {\n            console.log('App: Ê¢ù‰ª∂Âà§Êñ∑ - Êúâ‰∏ã‰∏ÄÈóú');\n            const userChoice = window.confirm(`üéâ ÊÅ≠ÂñúÈÄöÈóúÔºÅ\\n\\nÈóúÂç°: ${levelId}\\nË©ïÂàÜ: ${starRating.stars}‚òÖ ${starRating.description}\\n‰ΩøÁî®Ê≠•Êï∏: ${movesUsed}\\n\\nÈªûÊìä„ÄåÁ¢∫ÂÆö„ÄçÈÄ≤ÂÖ•‰∏ã‰∏ÄÈóú (${nextLevel!.id})\\nÈªûÊìä„ÄåÂèñÊ∂à„ÄçËøîÂõûÈóúÂç°ÈÅ∏Êìá`);\n            if (userChoice && nextLevel) {\n              console.log('App: Áî®Êà∂ÈÅ∏ÊìáÈÄ≤ÂÖ•‰∏ã‰∏ÄÈóú');\n              const convertedLevel: Level = {\n                ...nextLevel,\n                obstacles: nextLevel.obstacles.map((obs: any) => ({ row: obs[0], col: obs[1] })),\n                blocks: nextLevel.blocks.map((block: any) => ({ row: block[0], col: block[1] }))\n              };\n              setCurrentLevel(convertedLevel);\n            } else {\n              console.log('App: Áî®Êà∂ÈÅ∏ÊìáËøîÂõûÈóúÂç°ÈÅ∏Êìá');\n              setCurrentPage('level-selector');\n              setCurrentLevel(null);\n            }\n          } else {\n            console.log('App: Ê¢ù‰ª∂Âà§Êñ∑ - ÊúÄÂæå‰∏ÄÈóú');\n            alert(`üéâ ÊÅ≠ÂñúÈÄöÈóúÔºÅ\\n\\nÈóúÂç°: ${levelId}\\nË©ïÂàÜ: ${starRating.stars}‚òÖ ${starRating.description}\\n‰ΩøÁî®Ê≠•Êï∏: ${movesUsed}`);\n            setCurrentPage('level-selector');\n            setCurrentLevel(null);\n          }\n        }, 100); // 100msÂª∂ÈÅ≤Á¢∫‰øùÁãÄÊÖãÊõ¥Êñ∞\n      } catch (error) {\n        console.error('App: ÂõûË™øÂáΩÊï∏Âü∑Ë°åÈåØË™§ÔºÅ', error);\n      }\n    };\n    \n    setVictoryData({\n      stars: starRating.stars,\n      isAllComplete,\n      totalStars,\n      onComplete: victoryCallback\n    });\n    setShowVictoryEffect(true);\n    console.log('App: ÈÄöÈóúÁâπÊïàÂ∑≤ÂïüÂãï');\n  };\n\n  const handleLevelFailed = useCallback((gameState: GameState) => {\n    const coverage = Math.round((gameState.coveredCells.size / (gameState.currentLevel.gridSize[0] * gameState.currentLevel.gridSize[1] - gameState.currentLevel.obstacles.length)) * 100);\n    \n    // Êö´ÊôÇÁßªÈô§Èü≥Êïà\n    // audioManager.playSound('error');\n    \n    setTimeout(() => {\n      alert(`üòî ÈÅäÊà≤Â§±ÊïóÔºÅ\\nË¶ÜËìãÁéá: ${coverage}%\\nÂÜçË©¶‰∏ÄÊ¨°ÂêßÔºÅ`);\n      setCurrentPage('level-selector');\n      setCurrentLevel(null);\n    }, 1000);\n  }, []);\n\n  const renderCurrentPage = () => {\n    switch (currentPage) {\n      case 'main-menu':\n        return (\n          <MainMenu\n            onStartGame={handleStartGame}\n            onShowRules={handleShowRules}\n          />\n        );\n      \n      case 'rules':\n        return (\n          <RulesPage\n            onBack={handleBackToMainMenu}\n          />\n        );\n      \n      case 'level-selector':\n        return (\n          <NewLevelSelector\n            levels={levelsData as unknown as Level[]}\n            completedLevels={completedLevels}\n            levelScores={levelScores}\n            onLevelSelect={handleLevelSelect}\n            onResetProgress={handleResetProgress}\n            onBack={handleBackToMainMenu}\n          />\n        );\n      \n      case 'game':\n        return currentLevel ? (\n          <NewGame\n            level={currentLevel}\n            onLevelComplete={handleLevelComplete}\n            onLevelFailed={handleLevelFailed}\n            onBack={handleBackToLevelSelector}\n          />\n        ) : (\n          <div className=\"loading\">ËºâÂÖ•‰∏≠...</div>\n        );\n      \n      default:\n        return (\n          <MainMenu\n            onStartGame={handleStartGame}\n            onShowRules={handleShowRules}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      {renderCurrentPage()}\n      \n      {/* ÈÄöÈóúÁâπÊïà */}\n      {showVictoryEffect && victoryData && (\n        <VictoryEffect\n          stars={victoryData.stars}\n          isAllComplete={victoryData.isAllComplete}\n          totalStars={victoryData.totalStars}\n          onComplete={victoryData.onComplete}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AAEvE,SAASC,mBAAmB,QAAQ,mBAAmB;AACvD,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,eAAe,MAAM,yBAAyB;AACrD,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,gBAAgB,MAAM,+BAA+B;AAC5D,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAO,WAAW;;AAElB;AACA,OAAOC,UAAU,MAAM,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,MAAMC,GAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGlB,QAAQ,CAAW,WAAW,CAAC;EACrE,MAAM,CAACmB,YAAY,EAAEC,eAAe,CAAC,GAAGpB,QAAQ,CAAe,IAAI,CAAC;EACpE,MAAM,CAACqB,eAAe,EAAEC,kBAAkB,CAAC,GAAGtB,QAAQ,CAAc,IAAIuB,GAAG,CAAC,CAAC,CAAC;EAC9E,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGzB,QAAQ,CAAmD,CAAC,CAAC,CAAC;;EAEpG;EACA,MAAM,CAAC0B,YAAY,CAAC,GAAG1B,QAAQ,CAAC,MAAMK,YAAY,CAACsB,WAAW,CAAC,CAAC,CAAC;EACjE,MAAM,CAACC,eAAe,CAAC,GAAG5B,QAAQ,CAAC,MAAMM,eAAe,CAACqB,WAAW,CAAC,CAAC,CAAC;EACvE,MAAM,CAACE,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAAC+B,WAAW,EAAEC,cAAc,CAAC,GAAGhC,QAAQ,CAKpC,IAAI,CAAC;;EAEf;EACA,MAAMiC,MAAM,GAAG9B,MAAM,CAAiB,IAAI,CAAC;;EAE3C;EACAF,SAAS,CAAC,MAAM;IACd,IAAIgC,MAAM,CAACC,OAAO,EAAE;MAClBN,eAAe,CAACO,YAAY,CAACF,MAAM,CAACC,OAAO,CAAC;IAC9C;EACF,CAAC,EAAE,CAACN,eAAe,CAAC,CAAC;;EAErB;EACA3B,SAAS,CAAC,MAAM;IACd,MAAMmC,cAAc,GAAGC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC;IAC9D,MAAMC,WAAW,GAAGF,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IAEvD,IAAIF,cAAc,EAAE;MAClB,IAAI;QACFd,kBAAkB,CAAC,IAAIC,GAAG,CAACiB,IAAI,CAACC,KAAK,CAACL,cAAc,CAAC,CAAC,CAAC;MACzD,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD;IACF;IAEA,IAAIH,WAAW,EAAE;MACf,IAAI;QACFd,cAAc,CAACe,IAAI,CAACC,KAAK,CAACF,WAAW,CAAC,CAAC;MACzC,CAAC,CAAC,OAAOG,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAzC,SAAS,CAAC,MAAM;IACdoC,YAAY,CAACO,OAAO,CAAC,iBAAiB,EAAEJ,IAAI,CAACK,SAAS,CAAC,CAAC,GAAGxB,eAAe,CAAC,CAAC,CAAC;EAC/E,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;EAErBpB,SAAS,CAAC,MAAM;IACdoC,YAAY,CAACO,OAAO,CAAC,aAAa,EAAEJ,IAAI,CAACK,SAAS,CAACrB,WAAW,CAAC,CAAC;EAClE,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;;EAEjB;EACAvB,SAAS,CAAC,MAAM;IACd0C,OAAO,CAACG,GAAG,CAAC,4BAA4B,EAAEpB,YAAY,CAACqB,cAAc,CAAC,CAAC,CAAC;IACxE;IACAC,UAAU,CAAC,MAAM;MACf,IAAItB,YAAY,CAACqB,cAAc,CAAC,CAAC,EAAE;QACjCrB,YAAY,CAACuB,mBAAmB,CAAC,CAAC;MACpC;IACF,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,EAAE,CAACvB,YAAY,CAAC,CAAC;EAElB,MAAMwB,eAAe,GAAGA,CAAA,KAAM;IAC5B;IACA;IACA;IACAhC,cAAc,CAAC,gBAAgB,CAAC;EAClC,CAAC;EAED,MAAMiC,eAAe,GAAGA,CAAA,KAAM;IAC5B;IACA;IACAjC,cAAc,CAAC,OAAO,CAAC;EACzB,CAAC;EAED,MAAMkC,oBAAoB,GAAGA,CAAA,KAAM;IACjClC,cAAc,CAAC,WAAW,CAAC;IAC3BE,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAED,MAAMiC,iBAAiB,GAAIC,KAAY,IAAK;IAC1C;IACA,MAAMC,cAAqB,GAAG;MAC5B,GAAGD,KAAK;MACRE,SAAS,EAAEF,KAAK,CAACE,SAAS,CAACC,GAAG,CAAEC,GAAQ,KAAM;QAAEC,GAAG,EAAED,GAAG,CAAC,CAAC,CAAC;QAAEE,GAAG,EAAEF,GAAG,CAAC,CAAC;MAAE,CAAC,CAAC,CAAC;MAC5EG,MAAM,EAAEP,KAAK,CAACO,MAAM,CAACJ,GAAG,CAAEK,KAAU,KAAM;QAAEH,GAAG,EAAEG,KAAK,CAAC,CAAC,CAAC;QAAEF,GAAG,EAAEE,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC;IAC7E,CAAC;IACD1C,eAAe,CAACmC,cAAc,CAAC;IAC/BrC,cAAc,CAAC,MAAM,CAAC;EACxB,CAAC;EAED,MAAM6C,yBAAyB,GAAGA,CAAA,KAAM;IACtC7C,cAAc,CAAC,gBAAgB,CAAC;IAChCE,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAED,MAAM4C,mBAAmB,GAAGA,CAAA,KAAM;IAChC1C,kBAAkB,CAAC,IAAIC,GAAG,CAAC,CAAC,CAAC;IAC7BE,cAAc,CAAC,CAAC,CAAC,CAAC;IAClBY,YAAY,CAAC4B,UAAU,CAAC,iBAAiB,CAAC;IAC1C5B,YAAY,CAAC4B,UAAU,CAAC,aAAa,CAAC;EACxC,CAAC;EAED,MAAMC,mBAAmB,GAAIC,SAAoB,IAAK;IACpDxB,OAAO,CAACG,GAAG,CAAC,iCAAiC,CAAC;IAE9C,MAAMsB,OAAO,GAAGD,SAAS,CAAChD,YAAY,CAACkD,EAAE;;IAEzC;IACA,IAAIxC,iBAAiB,IAAIE,WAAW,EAAE;MACpCY,OAAO,CAACG,GAAG,CAAC,qBAAqB,CAAC;MAClC;IACF;IAEAH,OAAO,CAACG,GAAG,CAAC,YAAY,EAAEqB,SAAS,CAAC;IAEpC,MAAMG,SAAS,GAAGH,SAAS,CAACI,WAAW,GAAG,CAAC;IAC3C,MAAMC,UAAU,GAAGpE,mBAAmB,CAAC+D,SAAS,CAAC;IAEjDxB,OAAO,CAACG,GAAG,CAAC,OAAO,EAAEsB,OAAO,CAAC;IAC7BzB,OAAO,CAACG,GAAG,CAAC,OAAO,EAAEwB,SAAS,CAAC;IAC/B3B,OAAO,CAACG,GAAG,CAAC,OAAO,EAAE0B,UAAU,CAAC;;IAEhC;IACA;;IAEA;IACA,MAAMC,kBAAkB,GAAG,IAAIlD,GAAG,CAAC,CAAC,GAAGF,eAAe,EAAE+C,OAAO,CAAC,CAAC;IACjE9C,kBAAkB,CAACmD,kBAAkB,CAAC;;IAEtC;IACA,MAAMC,iBAAiB,GAAG;MACxBC,KAAK,EAAEH,UAAU,CAACG,KAAK;MACvBC,KAAK,EAAEN;IACT,CAAC;;IAED;IACA,MAAMO,iBAAiB,GAAG;MACxB,GAAGrD,WAAW;MACd,CAAC4C,OAAO,GAAGM;IACb,CAAC;;IAED;IACAjD,cAAc,CAACqD,IAAI,IAAI;MACrB,MAAMC,YAAY,GAAGD,IAAI,CAACV,OAAO,CAAC;MAClC,IAAI,CAACW,YAAY,IAAIP,UAAU,CAACG,KAAK,GAAGI,YAAY,CAACJ,KAAK,IACrDH,UAAU,CAACG,KAAK,KAAKI,YAAY,CAACJ,KAAK,IAAIL,SAAS,GAAGS,YAAY,CAACH,KAAM,EAAE;QAC/E,OAAOC,iBAAiB;MAC1B;MACA,OAAOC,IAAI;IACb,CAAC,CAAC;;IAEF;IACA,MAAME,MAAM,GAAGpE,UAAgC;IAC/C,MAAMqE,aAAa,GAAGR,kBAAkB,CAACS,IAAI,KAAKF,MAAM,CAACG,MAAM;;IAE/D;IACA,MAAMC,UAAU,GAAGC,MAAM,CAACC,MAAM,CAACT,iBAAiB,CAAC,CAACU,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKD,GAAG,GAAGC,KAAK,CAACd,KAAK,EAAE,CAAC,CAAC;IAEhGhC,OAAO,CAACG,GAAG,CAAC,cAAc,EAAE4B,iBAAiB,CAAC;IAC9C/B,OAAO,CAACG,GAAG,CAAC,cAAc,EAAE+B,iBAAiB,CAAC;IAC9ClC,OAAO,CAACG,GAAG,CAAC,aAAa,EAAEsC,UAAU,CAAC;IACtCzC,OAAO,CAACG,GAAG,CAAC,cAAc,EAAE2B,kBAAkB,CAACS,IAAI,EAAE,GAAG,EAAEF,MAAM,CAACG,MAAM,CAAC;;IAExE;IACA,MAAMO,YAAY,GAAGV,MAAM,CAACW,SAAS,CAACrC,KAAK,IAAIA,KAAK,CAACe,EAAE,KAAKD,OAAO,CAAC;IACpE,MAAMwB,YAAY,GAAGF,YAAY,GAAGV,MAAM,CAACG,MAAM,GAAG,CAAC;IACrD,MAAMU,SAAS,GAAGD,YAAY,GAAGZ,MAAM,CAACU,YAAY,GAAG,CAAC,CAAC,GAAG,IAAI;IAEhE/C,OAAO,CAACG,GAAG,CAAC,eAAe,CAAC;IAC5BH,OAAO,CAACG,GAAG,CAAC,sBAAsB,EAAEmC,aAAa,CAAC;IAClDtC,OAAO,CAACG,GAAG,CAAC,qBAAqB,EAAE8C,YAAY,CAAC;IAChDjD,OAAO,CAACG,GAAG,CAAC,kBAAkB,EAAE+C,SAAS,CAAC;;IAE1C;IACA,MAAMC,eAAe,GAAGA,CAAA,KAAM;MAC5BnD,OAAO,CAACG,GAAG,CAAC,wCAAwC,CAAC;MAErD,IAAI;QACF;QACAH,OAAO,CAACG,GAAG,CAAC,aAAa,CAAC;QAC1BhB,oBAAoB,CAAC,KAAK,CAAC;QAC3BE,cAAc,CAAC,IAAI,CAAC;QAEpBW,OAAO,CAACG,GAAG,CAAC,wBAAwB,CAAC;;QAErC;QACAE,UAAU,CAAC,MAAM;UACfL,OAAO,CAACG,GAAG,CAAC,4BAA4B,CAAC;UAEzC,IAAImC,aAAa,EAAE;YACjBtC,OAAO,CAACG,GAAG,CAAC,iBAAiB,CAAC;YAC9BiD,KAAK,CAAC,wBAAwBX,UAAU,OAAO,CAAC;YAChDlE,cAAc,CAAC,gBAAgB,CAAC;YAChCE,eAAe,CAAC,IAAI,CAAC;UACvB,CAAC,MAAM,IAAIwE,YAAY,EAAE;YACvBjD,OAAO,CAACG,GAAG,CAAC,kBAAkB,CAAC;YAC/B,MAAMkD,UAAU,GAAGC,MAAM,CAACC,OAAO,CAAC,mBAAmB9B,OAAO,SAASI,UAAU,CAACG,KAAK,KAAKH,UAAU,CAAC2B,WAAW,WAAW7B,SAAS,oBAAoBuB,SAAS,CAAExB,EAAE,iBAAiB,CAAC;YACvL,IAAI2B,UAAU,IAAIH,SAAS,EAAE;cAC3BlD,OAAO,CAACG,GAAG,CAAC,gBAAgB,CAAC;cAC7B,MAAMS,cAAqB,GAAG;gBAC5B,GAAGsC,SAAS;gBACZrC,SAAS,EAAEqC,SAAS,CAACrC,SAAS,CAACC,GAAG,CAAEC,GAAQ,KAAM;kBAAEC,GAAG,EAAED,GAAG,CAAC,CAAC,CAAC;kBAAEE,GAAG,EAAEF,GAAG,CAAC,CAAC;gBAAE,CAAC,CAAC,CAAC;gBAChFG,MAAM,EAAEgC,SAAS,CAAChC,MAAM,CAACJ,GAAG,CAAEK,KAAU,KAAM;kBAAEH,GAAG,EAAEG,KAAK,CAAC,CAAC,CAAC;kBAAEF,GAAG,EAAEE,KAAK,CAAC,CAAC;gBAAE,CAAC,CAAC;cACjF,CAAC;cACD1C,eAAe,CAACmC,cAAc,CAAC;YACjC,CAAC,MAAM;cACLZ,OAAO,CAACG,GAAG,CAAC,iBAAiB,CAAC;cAC9B5B,cAAc,CAAC,gBAAgB,CAAC;cAChCE,eAAe,CAAC,IAAI,CAAC;YACvB;UACF,CAAC,MAAM;YACLuB,OAAO,CAACG,GAAG,CAAC,kBAAkB,CAAC;YAC/BiD,KAAK,CAAC,mBAAmB3B,OAAO,SAASI,UAAU,CAACG,KAAK,KAAKH,UAAU,CAAC2B,WAAW,WAAW7B,SAAS,EAAE,CAAC;YAC3GpD,cAAc,CAAC,gBAAgB,CAAC;YAChCE,eAAe,CAAC,IAAI,CAAC;UACvB;QACF,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,OAAOsB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACxC;IACF,CAAC;IAEDV,cAAc,CAAC;MACb2C,KAAK,EAAEH,UAAU,CAACG,KAAK;MACvBM,aAAa;MACbG,UAAU;MACVgB,UAAU,EAAEN;IACd,CAAC,CAAC;IACFhE,oBAAoB,CAAC,IAAI,CAAC;IAC1Ba,OAAO,CAACG,GAAG,CAAC,cAAc,CAAC;EAC7B,CAAC;EAED,MAAMuD,iBAAiB,GAAGnG,WAAW,CAAEiE,SAAoB,IAAK;IAC9D,MAAMmC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAAErC,SAAS,CAACsC,YAAY,CAACvB,IAAI,IAAIf,SAAS,CAAChD,YAAY,CAACuF,QAAQ,CAAC,CAAC,CAAC,GAAGvC,SAAS,CAAChD,YAAY,CAACuF,QAAQ,CAAC,CAAC,CAAC,GAAGvC,SAAS,CAAChD,YAAY,CAACqC,SAAS,CAAC2B,MAAM,CAAC,GAAI,GAAG,CAAC;;IAEtL;IACA;;IAEAnC,UAAU,CAAC,MAAM;MACf+C,KAAK,CAAC,kBAAkBO,QAAQ,WAAW,CAAC;MAC5CpF,cAAc,CAAC,gBAAgB,CAAC;MAChCE,eAAe,CAAC,IAAI,CAAC;IACvB,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMuF,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,QAAQ1F,WAAW;MACjB,KAAK,WAAW;QACd,oBACEH,OAAA,CAACP,QAAQ;UACPqG,WAAW,EAAE1D,eAAgB;UAC7B2D,WAAW,EAAE1D;QAAgB;UAAA2D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC;MAGN,KAAK,OAAO;QACV,oBACEnG,OAAA,CAACN,SAAS;UACR0G,MAAM,EAAE9D;QAAqB;UAAA0D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC;MAGN,KAAK,gBAAgB;QACnB,oBACEnG,OAAA,CAACL,gBAAgB;UACfuE,MAAM,EAAEpE,UAAiC;UACzCS,eAAe,EAAEA,eAAgB;UACjCG,WAAW,EAAEA,WAAY;UACzB2F,aAAa,EAAE9D,iBAAkB;UACjC+D,eAAe,EAAEpD,mBAAoB;UACrCkD,MAAM,EAAE9D;QAAqB;UAAA0D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC;MAGN,KAAK,MAAM;QACT,OAAO9F,YAAY,gBACjBL,OAAA,CAACJ,OAAO;UACN4C,KAAK,EAAEnC,YAAa;UACpBkG,eAAe,EAAEnD,mBAAoB;UACrCoD,aAAa,EAAEjB,iBAAkB;UACjCa,MAAM,EAAEnD;QAA0B;UAAA+C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC,gBAEFnG,OAAA;UAAKyG,SAAS,EAAC,SAAS;UAAAC,QAAA,EAAC;QAAM;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CACrC;MAEH;QACE,oBACEnG,OAAA,CAACP,QAAQ;UACPqG,WAAW,EAAE1D,eAAgB;UAC7B2D,WAAW,EAAE1D;QAAgB;UAAA2D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC;IAER;EACF,CAAC;EAED,oBACEnG,OAAA;IAAKyG,SAAS,EAAC,KAAK;IAAAC,QAAA,GACjBb,iBAAiB,CAAC,CAAC,EAGnB9E,iBAAiB,IAAIE,WAAW,iBAC/BjB,OAAA,CAACH,aAAa;MACZgE,KAAK,EAAE5C,WAAW,CAAC4C,KAAM;MACzBM,aAAa,EAAElD,WAAW,CAACkD,aAAc;MACzCG,UAAU,EAAErD,WAAW,CAACqD,UAAW;MACnCgB,UAAU,EAAErE,WAAW,CAACqE;IAAW;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACjG,EAAA,CA/TID,GAAa;AAAA0G,EAAA,GAAb1G,GAAa;AAiUnB,eAAeA,GAAG;AAAC,IAAA0G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}