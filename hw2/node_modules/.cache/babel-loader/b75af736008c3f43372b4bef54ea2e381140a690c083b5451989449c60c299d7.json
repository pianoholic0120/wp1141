{"ast":null,"code":"var _AudioManager;\nclass AudioManager {\n  constructor() {\n    this.audioContext = null;\n    this.backgroundMusic = null;\n    this.soundEffects = {};\n    this.isEnabled = true;\n    this.backgroundVolume = 0.3;\n    this.effectVolume = 0.5;\n    this.initializeAudio();\n  }\n  static getInstance() {\n    if (!AudioManager.instance) {\n      AudioManager.instance = new AudioManager();\n    }\n    return AudioManager.instance;\n  }\n  initializeAudio() {\n    // 創建音頻上下文\n    try {\n      this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    } catch (error) {\n      console.warn('Web Audio API not supported:', error);\n    }\n\n    // 初始化背景音樂\n    this.createBackgroundMusic();\n\n    // 初始化音效\n    this.createSoundEffects();\n  }\n  createBackgroundMusic() {\n    // 使用 Web Audio API 創建程序化背景音樂\n    if (!this.audioContext) return;\n\n    // 創建一個簡單的奇幻冒險風格背景音樂\n    this.playFantasyBackgroundMusic();\n  }\n  createSoundEffects() {\n    // 創建各種音效\n    this.createBeepSound('move', [440, 523, 659]); // C大調和弦 - 移動音效\n    this.createBeepSound('success', [523, 659, 784, 1047]); // 成功音效\n    this.createBeepSound('error', [220, 185, 165]); // 錯誤音效\n    this.createBeepSound('click', [800, 1000]); // 點擊音效\n  }\n  createBeepSound(name, frequencies, duration = 0.2) {\n    if (!this.audioContext) return;\n\n    // 創建音效緩衝區\n    const sampleRate = this.audioContext.sampleRate;\n    const buffer = this.audioContext.createBuffer(1, sampleRate * duration, sampleRate);\n    const data = buffer.getChannelData(0);\n\n    // 生成和諧的音效\n    for (let i = 0; i < buffer.length; i++) {\n      let sample = 0;\n      frequencies.forEach((freq, index) => {\n        const amplitude = 0.3 / frequencies.length * Math.pow(0.8, index);\n        sample += amplitude * Math.sin(2 * Math.PI * freq * i / sampleRate);\n      });\n      // 添加淡入淡出效果\n      const fadeIn = Math.min(i / (sampleRate * 0.01), 1);\n      const fadeOut = Math.min((buffer.length - i) / (sampleRate * 0.05), 1);\n      data[i] = sample * fadeIn * fadeOut;\n    }\n\n    // 創建HTML音頻元素用於播放\n    const audio = new Audio();\n    audio.volume = this.effectVolume;\n\n    // 將緩衝區轉換為可播放的格式（簡化處理）\n    this.soundEffects[name] = audio;\n  }\n  playFantasyBackgroundMusic() {\n    if (!this.audioContext || !this.isEnabled) return;\n\n    // 創建一個循環的奇幻背景音樂\n    const playMelody = () => {\n      if (!this.audioContext || !this.isEnabled) return;\n\n      // 奇幻冒險風格的音符序列\n      const melody = [{\n        freq: 523,\n        duration: 0.5\n      },\n      // C5\n      {\n        freq: 659,\n        duration: 0.5\n      },\n      // E5\n      {\n        freq: 784,\n        duration: 0.5\n      },\n      // G5\n      {\n        freq: 659,\n        duration: 0.5\n      },\n      // E5\n      {\n        freq: 587,\n        duration: 0.5\n      },\n      // D5\n      {\n        freq: 523,\n        duration: 0.5\n      },\n      // C5\n      {\n        freq: 440,\n        duration: 1.0\n      },\n      // A4\n      {\n        freq: 0,\n        duration: 0.5\n      } // 休止符\n      ];\n      let currentTime = this.audioContext.currentTime;\n      melody.forEach(note => {\n        if (note.freq > 0) {\n          const oscillator = this.audioContext.createOscillator();\n          const gainNode = this.audioContext.createGain();\n          oscillator.connect(gainNode);\n          gainNode.connect(this.audioContext.destination);\n          oscillator.frequency.setValueAtTime(note.freq, currentTime);\n          oscillator.type = 'sine';\n\n          // 柔和的音量包絡\n          gainNode.gain.setValueAtTime(0, currentTime);\n          gainNode.gain.linearRampToValueAtTime(this.backgroundVolume * 0.1, currentTime + 0.05);\n          gainNode.gain.linearRampToValueAtTime(this.backgroundVolume * 0.05, currentTime + note.duration - 0.05);\n          gainNode.gain.linearRampToValueAtTime(0, currentTime + note.duration);\n          oscillator.start(currentTime);\n          oscillator.stop(currentTime + note.duration);\n        }\n        currentTime += note.duration;\n      });\n\n      // 循環播放\n      if (this.isEnabled) {\n        setTimeout(playMelody, currentTime * 1000 - Date.now() + 2000);\n      }\n    };\n    playMelody();\n  }\n\n  // 公共方法\n  setEnabled(enabled) {\n    this.isEnabled = enabled;\n    if (!enabled && this.backgroundMusic) {\n      this.backgroundMusic.pause();\n    } else if (enabled) {\n      this.playBackgroundMusic();\n    }\n  }\n  isAudioEnabled() {\n    return this.isEnabled;\n  }\n  playBackgroundMusic() {\n    if (!this.isEnabled) return;\n    this.playFantasyBackgroundMusic();\n  }\n  stopBackgroundMusic() {\n    if (this.backgroundMusic) {\n      this.backgroundMusic.pause();\n      this.backgroundMusic.currentTime = 0;\n    }\n  }\n  playSound(soundName) {\n    if (!this.isEnabled || !this.soundEffects[soundName]) return;\n\n    // 使用 Web Audio API 播放程序化音效\n    this.playProgrammaticSound(soundName);\n  }\n  playProgrammaticSound(soundName) {\n    if (!this.audioContext) return;\n    const soundMap = {\n      'move': {\n        frequencies: [440, 523, 659],\n        duration: 0.15\n      },\n      'success': {\n        frequencies: [523, 659, 784, 1047],\n        duration: 0.6\n      },\n      'error': {\n        frequencies: [220, 185, 165],\n        duration: 0.4\n      },\n      'click': {\n        frequencies: [800, 1000],\n        duration: 0.1\n      },\n      'star1': {\n        frequencies: [523, 659, 784],\n        duration: 0.8\n      },\n      'star2': {\n        frequencies: [523, 659, 784, 988],\n        duration: 1.0\n      },\n      'star3': {\n        frequencies: [523, 659, 784, 988, 1175],\n        duration: 1.2\n      },\n      'allComplete': {\n        frequencies: [523, 659, 784, 988, 1175, 1397],\n        duration: 2.0\n      }\n    };\n    const sound = soundMap[soundName];\n    if (!sound) return;\n    const currentTime = this.audioContext.currentTime;\n    sound.frequencies.forEach((freq, index) => {\n      const oscillator = this.audioContext.createOscillator();\n      const gainNode = this.audioContext.createGain();\n      oscillator.connect(gainNode);\n      gainNode.connect(this.audioContext.destination);\n      oscillator.frequency.setValueAtTime(freq, currentTime);\n      oscillator.type = 'sine';\n      const delay = index * 0.1;\n      const amplitude = this.effectVolume * 0.3 / sound.frequencies.length;\n      gainNode.gain.setValueAtTime(0, currentTime + delay);\n      gainNode.gain.linearRampToValueAtTime(amplitude, currentTime + delay + 0.05);\n      gainNode.gain.linearRampToValueAtTime(amplitude * 0.5, currentTime + delay + sound.duration * 0.7);\n      gainNode.gain.linearRampToValueAtTime(0, currentTime + delay + sound.duration);\n      oscillator.start(currentTime + delay);\n      oscillator.stop(currentTime + delay + sound.duration);\n    });\n  }\n  setBackgroundVolume(volume) {\n    this.backgroundVolume = Math.max(0, Math.min(1, volume));\n  }\n  setEffectVolume(volume) {\n    this.effectVolume = Math.max(0, Math.min(1, volume));\n  }\n}\n_AudioManager = AudioManager;\nAudioManager.instance = void 0;\nexport default AudioManager;","map":{"version":3,"names":["AudioManager","constructor","audioContext","backgroundMusic","soundEffects","isEnabled","backgroundVolume","effectVolume","initializeAudio","getInstance","instance","window","AudioContext","webkitAudioContext","error","console","warn","createBackgroundMusic","createSoundEffects","playFantasyBackgroundMusic","createBeepSound","name","frequencies","duration","sampleRate","buffer","createBuffer","data","getChannelData","i","length","sample","forEach","freq","index","amplitude","Math","pow","sin","PI","fadeIn","min","fadeOut","audio","Audio","volume","playMelody","melody","currentTime","note","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","setValueAtTime","type","gain","linearRampToValueAtTime","start","stop","setTimeout","Date","now","setEnabled","enabled","pause","playBackgroundMusic","isAudioEnabled","stopBackgroundMusic","playSound","soundName","playProgrammaticSound","soundMap","sound","delay","setBackgroundVolume","max","setEffectVolume","_AudioManager"],"sources":["/Users/arthurlin/Desktop/網服/wp1141/hw2/src/utils/AudioManager.ts"],"sourcesContent":["class AudioManager {\n  private static instance: AudioManager;\n  private audioContext: AudioContext | null = null;\n  private backgroundMusic: HTMLAudioElement | null = null;\n  private soundEffects: { [key: string]: HTMLAudioElement } = {};\n  private isEnabled: boolean = true;\n  private backgroundVolume: number = 0.3;\n  private effectVolume: number = 0.5;\n\n  private constructor() {\n    this.initializeAudio();\n  }\n\n  public static getInstance(): AudioManager {\n    if (!AudioManager.instance) {\n      AudioManager.instance = new AudioManager();\n    }\n    return AudioManager.instance;\n  }\n\n  private initializeAudio() {\n    // 創建音頻上下文\n    try {\n      this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n    } catch (error) {\n      console.warn('Web Audio API not supported:', error);\n    }\n\n    // 初始化背景音樂\n    this.createBackgroundMusic();\n    \n    // 初始化音效\n    this.createSoundEffects();\n  }\n\n  private createBackgroundMusic() {\n    // 使用 Web Audio API 創建程序化背景音樂\n    if (!this.audioContext) return;\n\n    // 創建一個簡單的奇幻冒險風格背景音樂\n    this.playFantasyBackgroundMusic();\n  }\n\n  private createSoundEffects() {\n    // 創建各種音效\n    this.createBeepSound('move', [440, 523, 659]); // C大調和弦 - 移動音效\n    this.createBeepSound('success', [523, 659, 784, 1047]); // 成功音效\n    this.createBeepSound('error', [220, 185, 165]); // 錯誤音效\n    this.createBeepSound('click', [800, 1000]); // 點擊音效\n  }\n\n  private createBeepSound(name: string, frequencies: number[], duration: number = 0.2) {\n    if (!this.audioContext) return;\n\n    // 創建音效緩衝區\n    const sampleRate = this.audioContext.sampleRate;\n    const buffer = this.audioContext.createBuffer(1, sampleRate * duration, sampleRate);\n    const data = buffer.getChannelData(0);\n\n    // 生成和諧的音效\n    for (let i = 0; i < buffer.length; i++) {\n      let sample = 0;\n      frequencies.forEach((freq, index) => {\n        const amplitude = 0.3 / frequencies.length * Math.pow(0.8, index);\n        sample += amplitude * Math.sin(2 * Math.PI * freq * i / sampleRate);\n      });\n      // 添加淡入淡出效果\n      const fadeIn = Math.min(i / (sampleRate * 0.01), 1);\n      const fadeOut = Math.min((buffer.length - i) / (sampleRate * 0.05), 1);\n      data[i] = sample * fadeIn * fadeOut;\n    }\n\n    // 創建HTML音頻元素用於播放\n    const audio = new Audio();\n    audio.volume = this.effectVolume;\n    \n    // 將緩衝區轉換為可播放的格式（簡化處理）\n    this.soundEffects[name] = audio;\n  }\n\n  private playFantasyBackgroundMusic() {\n    if (!this.audioContext || !this.isEnabled) return;\n\n    // 創建一個循環的奇幻背景音樂\n    const playMelody = () => {\n      if (!this.audioContext || !this.isEnabled) return;\n\n      // 奇幻冒險風格的音符序列\n      const melody = [\n        { freq: 523, duration: 0.5 }, // C5\n        { freq: 659, duration: 0.5 }, // E5\n        { freq: 784, duration: 0.5 }, // G5\n        { freq: 659, duration: 0.5 }, // E5\n        { freq: 587, duration: 0.5 }, // D5\n        { freq: 523, duration: 0.5 }, // C5\n        { freq: 440, duration: 1.0 }, // A4\n        { freq: 0, duration: 0.5 },   // 休止符\n      ];\n\n      let currentTime = this.audioContext.currentTime;\n\n      melody.forEach(note => {\n        if (note.freq > 0) {\n          const oscillator = this.audioContext!.createOscillator();\n          const gainNode = this.audioContext!.createGain();\n          \n          oscillator.connect(gainNode);\n          gainNode.connect(this.audioContext!.destination);\n          \n          oscillator.frequency.setValueAtTime(note.freq, currentTime);\n          oscillator.type = 'sine';\n          \n          // 柔和的音量包絡\n          gainNode.gain.setValueAtTime(0, currentTime);\n          gainNode.gain.linearRampToValueAtTime(this.backgroundVolume * 0.1, currentTime + 0.05);\n          gainNode.gain.linearRampToValueAtTime(this.backgroundVolume * 0.05, currentTime + note.duration - 0.05);\n          gainNode.gain.linearRampToValueAtTime(0, currentTime + note.duration);\n          \n          oscillator.start(currentTime);\n          oscillator.stop(currentTime + note.duration);\n        }\n        currentTime += note.duration;\n      });\n\n      // 循環播放\n      if (this.isEnabled) {\n        setTimeout(playMelody, currentTime * 1000 - Date.now() + 2000);\n      }\n    };\n\n    playMelody();\n  }\n\n  // 公共方法\n  public setEnabled(enabled: boolean) {\n    this.isEnabled = enabled;\n    if (!enabled && this.backgroundMusic) {\n      this.backgroundMusic.pause();\n    } else if (enabled) {\n      this.playBackgroundMusic();\n    }\n  }\n\n  public isAudioEnabled(): boolean {\n    return this.isEnabled;\n  }\n\n  public playBackgroundMusic() {\n    if (!this.isEnabled) return;\n    this.playFantasyBackgroundMusic();\n  }\n\n  public stopBackgroundMusic() {\n    if (this.backgroundMusic) {\n      this.backgroundMusic.pause();\n      this.backgroundMusic.currentTime = 0;\n    }\n  }\n\n  public playSound(soundName: string) {\n    if (!this.isEnabled || !this.soundEffects[soundName]) return;\n    \n    // 使用 Web Audio API 播放程序化音效\n    this.playProgrammaticSound(soundName);\n  }\n\n  private playProgrammaticSound(soundName: string) {\n    if (!this.audioContext) return;\n\n    const soundMap: { [key: string]: { frequencies: number[], duration: number } } = {\n      'move': { frequencies: [440, 523, 659], duration: 0.15 },\n      'success': { frequencies: [523, 659, 784, 1047], duration: 0.6 },\n      'error': { frequencies: [220, 185, 165], duration: 0.4 },\n      'click': { frequencies: [800, 1000], duration: 0.1 },\n      'star1': { frequencies: [523, 659, 784], duration: 0.8 },\n      'star2': { frequencies: [523, 659, 784, 988], duration: 1.0 },\n      'star3': { frequencies: [523, 659, 784, 988, 1175], duration: 1.2 },\n      'allComplete': { frequencies: [523, 659, 784, 988, 1175, 1397], duration: 2.0 }\n    };\n\n    const sound = soundMap[soundName];\n    if (!sound) return;\n\n    const currentTime = this.audioContext.currentTime;\n    \n    sound.frequencies.forEach((freq, index) => {\n      const oscillator = this.audioContext!.createOscillator();\n      const gainNode = this.audioContext!.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(this.audioContext!.destination);\n      \n      oscillator.frequency.setValueAtTime(freq, currentTime);\n      oscillator.type = 'sine';\n      \n      const delay = index * 0.1;\n      const amplitude = this.effectVolume * 0.3 / sound.frequencies.length;\n      \n      gainNode.gain.setValueAtTime(0, currentTime + delay);\n      gainNode.gain.linearRampToValueAtTime(amplitude, currentTime + delay + 0.05);\n      gainNode.gain.linearRampToValueAtTime(amplitude * 0.5, currentTime + delay + sound.duration * 0.7);\n      gainNode.gain.linearRampToValueAtTime(0, currentTime + delay + sound.duration);\n      \n      oscillator.start(currentTime + delay);\n      oscillator.stop(currentTime + delay + sound.duration);\n    });\n  }\n\n  public setBackgroundVolume(volume: number) {\n    this.backgroundVolume = Math.max(0, Math.min(1, volume));\n  }\n\n  public setEffectVolume(volume: number) {\n    this.effectVolume = Math.max(0, Math.min(1, volume));\n  }\n}\n\nexport default AudioManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}