{"ast":null,"code":"var _jsxFileName = \"/Users/arthurlin/Desktop/\\u7DB2\\u670D/wp1141/hw2/src/components/GameBoard.tsx\";\nimport React from 'react';\nimport './GameBoard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameBoard = ({\n  gameState,\n  onCellClick\n}) => {\n  const {\n    currentLevel,\n    blocks,\n    coveredCells\n  } = gameState;\n  const {\n    gridSize,\n    obstacles\n  } = currentLevel;\n  const [rows, cols] = gridSize;\n  const renderCell = (row, col) => {\n    const position = {\n      row,\n      col\n    };\n    const positionKey = `${row},${col}`;\n\n    // 檢查是否為障礙物\n    const isObstacle = obstacles.some(obs => obs.row === row && obs.col === col);\n\n    // 檢查是否有方塊\n    const block = blocks.find(block => block.position.row === row && block.position.col === col);\n\n    // 檢查是否已覆蓋\n    const isCovered = coveredCells.has(positionKey);\n    let cellClass = 'game-cell';\n    if (isObstacle) {\n      cellClass += ' obstacle';\n    } else if (block) {\n      cellClass += ` block block-${block.id - 1}`;\n    } else if (isCovered) {\n      cellClass += ' covered';\n    } else {\n      cellClass += ' empty';\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cellClass,\n      onClick: () => onCellClick === null || onCellClick === void 0 ? void 0 : onCellClick(position),\n      \"data-row\": row,\n      \"data-col\": col,\n      children: block && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"block-number\",\n        children: block.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)\n    }, `${row}-${col}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-board\",\n    style: {\n      gridTemplateColumns: `repeat(${cols}, 1fr)`,\n      gridTemplateRows: `repeat(${rows}, 1fr)`\n    },\n    children: Array.from({\n      length: rows\n    }, (_, row) => Array.from({\n      length: cols\n    }, (_, col) => renderCell(row, col)))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_c = GameBoard;\nexport default GameBoard;\nvar _c;\n$RefreshReg$(_c, \"GameBoard\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","GameBoard","gameState","onCellClick","currentLevel","blocks","coveredCells","gridSize","obstacles","rows","cols","renderCell","row","col","position","positionKey","isObstacle","some","obs","block","find","isCovered","has","cellClass","id","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","style","gridTemplateColumns","gridTemplateRows","Array","from","length","_","_c","$RefreshReg$"],"sources":["/Users/arthurlin/Desktop/網服/wp1141/hw2/src/components/GameBoard.tsx"],"sourcesContent":["import React from 'react';\nimport { GameState, Position } from '../types/GameTypes';\nimport './GameBoard.css';\n\ninterface GameBoardProps {\n  gameState: GameState;\n  onCellClick?: (position: Position) => void;\n}\n\nconst GameBoard: React.FC<GameBoardProps> = ({ gameState, onCellClick }) => {\n  const { currentLevel, blocks, coveredCells } = gameState;\n  const { gridSize, obstacles } = currentLevel;\n  const [rows, cols] = gridSize;\n\n\n  const renderCell = (row: number, col: number) => {\n    const position: Position = { row, col };\n    const positionKey = `${row},${col}`;\n    \n    // 檢查是否為障礙物\n    const isObstacle = obstacles.some(obs => obs.row === row && obs.col === col);\n    \n    // 檢查是否有方塊\n    const block = blocks.find(block => \n      block.position.row === row && block.position.col === col\n    );\n    \n    // 檢查是否已覆蓋\n    const isCovered = coveredCells.has(positionKey);\n    \n    let cellClass = 'game-cell';\n    if (isObstacle) {\n      cellClass += ' obstacle';\n    } else if (block) {\n      cellClass += ` block block-${block.id - 1}`;\n    } else if (isCovered) {\n      cellClass += ' covered';\n    } else {\n      cellClass += ' empty';\n    }\n\n    return (\n      <div\n        key={`${row}-${col}`}\n        className={cellClass}\n        onClick={() => onCellClick?.(position)}\n        data-row={row}\n        data-col={col}\n      >\n        {block && (\n          <span className=\"block-number\">{block.id}</span>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div \n      className=\"game-board\"\n      style={{\n        gridTemplateColumns: `repeat(${cols}, 1fr)`,\n        gridTemplateRows: `repeat(${rows}, 1fr)`\n      }}\n    >\n      {Array.from({ length: rows }, (_, row) =>\n        Array.from({ length: cols }, (_, col) => renderCell(row, col))\n      )}\n    </div>\n  );\n};\n\nexport default GameBoard;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAOzB,MAAMC,SAAmC,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAY,CAAC,KAAK;EAC1E,MAAM;IAAEC,YAAY;IAAEC,MAAM;IAAEC;EAAa,CAAC,GAAGJ,SAAS;EACxD,MAAM;IAAEK,QAAQ;IAAEC;EAAU,CAAC,GAAGJ,YAAY;EAC5C,MAAM,CAACK,IAAI,EAAEC,IAAI,CAAC,GAAGH,QAAQ;EAG7B,MAAMI,UAAU,GAAGA,CAACC,GAAW,EAAEC,GAAW,KAAK;IAC/C,MAAMC,QAAkB,GAAG;MAAEF,GAAG;MAAEC;IAAI,CAAC;IACvC,MAAME,WAAW,GAAG,GAAGH,GAAG,IAAIC,GAAG,EAAE;;IAEnC;IACA,MAAMG,UAAU,GAAGR,SAAS,CAACS,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACN,GAAG,KAAKA,GAAG,IAAIM,GAAG,CAACL,GAAG,KAAKA,GAAG,CAAC;;IAE5E;IACA,MAAMM,KAAK,GAAGd,MAAM,CAACe,IAAI,CAACD,KAAK,IAC7BA,KAAK,CAACL,QAAQ,CAACF,GAAG,KAAKA,GAAG,IAAIO,KAAK,CAACL,QAAQ,CAACD,GAAG,KAAKA,GACvD,CAAC;;IAED;IACA,MAAMQ,SAAS,GAAGf,YAAY,CAACgB,GAAG,CAACP,WAAW,CAAC;IAE/C,IAAIQ,SAAS,GAAG,WAAW;IAC3B,IAAIP,UAAU,EAAE;MACdO,SAAS,IAAI,WAAW;IAC1B,CAAC,MAAM,IAAIJ,KAAK,EAAE;MAChBI,SAAS,IAAI,gBAAgBJ,KAAK,CAACK,EAAE,GAAG,CAAC,EAAE;IAC7C,CAAC,MAAM,IAAIH,SAAS,EAAE;MACpBE,SAAS,IAAI,UAAU;IACzB,CAAC,MAAM;MACLA,SAAS,IAAI,QAAQ;IACvB;IAEA,oBACEvB,OAAA;MAEEyB,SAAS,EAAEF,SAAU;MACrBG,OAAO,EAAEA,CAAA,KAAMvB,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAGW,QAAQ,CAAE;MACvC,YAAUF,GAAI;MACd,YAAUC,GAAI;MAAAc,QAAA,EAEbR,KAAK,iBACJnB,OAAA;QAAMyB,SAAS,EAAC,cAAc;QAAAE,QAAA,EAAER,KAAK,CAACK;MAAE;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO;IAChD,GARI,GAAGnB,GAAG,IAAIC,GAAG,EAAE;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OASjB,CAAC;EAEV,CAAC;EAED,oBACE/B,OAAA;IACEyB,SAAS,EAAC,YAAY;IACtBO,KAAK,EAAE;MACLC,mBAAmB,EAAE,UAAUvB,IAAI,QAAQ;MAC3CwB,gBAAgB,EAAE,UAAUzB,IAAI;IAClC,CAAE;IAAAkB,QAAA,EAEDQ,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE5B;IAAK,CAAC,EAAE,CAAC6B,CAAC,EAAE1B,GAAG,KACnCuB,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE3B;IAAK,CAAC,EAAE,CAAC4B,CAAC,EAAEzB,GAAG,KAAKF,UAAU,CAACC,GAAG,EAAEC,GAAG,CAAC,CAC/D;EAAC;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACQ,EAAA,GA5DItC,SAAmC;AA8DzC,eAAeA,SAAS;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}