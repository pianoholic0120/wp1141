{"ast":null,"code":"var _AudioManager;class AudioManager{constructor(){this.audioContext=null;this.isEnabled=true;this.backgroundVolume=0.15;// 降低背景音樂音量\nthis.effectVolume=0.3;// 降低音效音量\nthis.backgroundMusicInterval=null;this.masterGainNode=null;this.initializeAudio();}static getInstance(){if(!AudioManager.instance){AudioManager.instance=new AudioManager();}return AudioManager.instance;}async initializeAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)();// 創建主音量控制節點\nthis.masterGainNode=this.audioContext.createGain();this.masterGainNode.connect(this.audioContext.destination);this.masterGainNode.gain.setValueAtTime(0.8,this.audioContext.currentTime);// 等待用戶互動後恢復音頻上下文並啟動背景音樂\nif(this.audioContext.state==='suspended'){const resumeAudio=()=>{var _this$audioContext;(_this$audioContext=this.audioContext)===null||_this$audioContext===void 0?void 0:_this$audioContext.resume().then(()=>{// 音頻上下文恢復後自動啟動背景音樂\nif(this.isEnabled){this.playSimpleBackgroundMusic();}});document.removeEventListener('click',resumeAudio);document.removeEventListener('keydown',resumeAudio);};document.addEventListener('click',resumeAudio);document.addEventListener('keydown',resumeAudio);}else{// 如果音頻上下文已經可用，立即啟動背景音樂\nthis.playSimpleBackgroundMusic();}}catch(error){console.warn('Web Audio API not supported:',error);}}createSoundEffects(){// 音效將在播放時動態創建，避免預加載問題\n}playSimpleBackgroundMusic(){var _this=this;if(!this.audioContext||!this.isEnabled||!this.masterGainNode){console.log('Background music conditions not met:',{audioContext:!!this.audioContext,isEnabled:this.isEnabled,masterGainNode:!!this.masterGainNode});return;}// 清除之前的間隔\nif(this.backgroundMusicInterval){clearInterval(this.backgroundMusicInterval);}console.log('Starting background music...');// 簡化的背景音樂 - 使用更穩定的播放方式\nconst playNote=function(frequency,duration){let volume=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0.05;if(!_this.audioContext||!_this.masterGainNode||!_this.isEnabled)return;try{const oscillator=_this.audioContext.createOscillator();const gainNode=_this.audioContext.createGain();oscillator.connect(gainNode);gainNode.connect(_this.masterGainNode);oscillator.frequency.setValueAtTime(frequency,_this.audioContext.currentTime);oscillator.type='sine';// 平滑的音量控制\nconst now=_this.audioContext.currentTime;gainNode.gain.setValueAtTime(0,now);gainNode.gain.linearRampToValueAtTime(volume*_this.backgroundVolume,now+0.1);gainNode.gain.linearRampToValueAtTime(volume*_this.backgroundVolume*0.7,now+duration-0.1);gainNode.gain.linearRampToValueAtTime(0,now+duration);oscillator.start(now);oscillator.stop(now+duration);}catch(error){console.error('Error playing background note:',error);}};// 簡單的音符序列，間隔更長避免重疊\nconst notes=[523,659,784,659];// C-E-G-E\nlet noteIndex=0;this.backgroundMusicInterval=window.setInterval(()=>{if(this.isEnabled&&this.audioContext&&this.masterGainNode){console.log('Playing background note:',notes[noteIndex]);playNote(notes[noteIndex],0.8);noteIndex=(noteIndex+1)%notes.length;}else{console.log('Background music stopped - conditions not met');clearInterval(this.backgroundMusicInterval);this.backgroundMusicInterval=null;}},3000);// 每3秒播放一個音符，增加間隔\n}// 公共方法\nsetEnabled(enabled){this.isEnabled=enabled;if(!enabled){this.stopBackgroundMusic();}else if(enabled){this.playBackgroundMusic();}}isAudioEnabled(){return this.isEnabled;}playBackgroundMusic(){if(!this.isEnabled||!this.audioContext)return;// 確保音頻上下文已恢復\nif(this.audioContext.state==='suspended'){this.audioContext.resume().then(()=>{this.playSimpleBackgroundMusic();});}else{this.playSimpleBackgroundMusic();}}stopBackgroundMusic(){if(this.backgroundMusicInterval){clearInterval(this.backgroundMusicInterval);this.backgroundMusicInterval=null;}}playSound(soundName){if(!this.isEnabled||!this.audioContext||!this.masterGainNode)return;// 確保音頻上下文已恢復\nif(this.audioContext.state==='suspended'){this.audioContext.resume().then(()=>{this.playProgrammaticSound(soundName);});}else{this.playProgrammaticSound(soundName);}}playProgrammaticSound(soundName){if(!this.audioContext||!this.masterGainNode){console.log('Sound effect conditions not met:',{audioContext:!!this.audioContext,masterGainNode:!!this.masterGainNode});return;}const soundMap={'move':{frequencies:[523],duration:0.2},// 簡化移動音效\n'success':{frequencies:[523,659,784],duration:0.6},// 簡化成功音效\n'error':{frequencies:[330],duration:0.4},// 簡化錯誤音效\n'click':{frequencies:[800],duration:0.15},// 簡化點擊音效\n'star1':{frequencies:[523,659],duration:0.8},'star2':{frequencies:[523,659,784],duration:1.0},'star3':{frequencies:[523,659,784,988],duration:1.2},'allComplete':{frequencies:[523,659,784,988,1175],duration:1.5}};const sound=soundMap[soundName];if(!sound){console.log('Sound not found:',soundName);return;}console.log('Playing sound effect:',soundName);const now=this.audioContext.currentTime;sound.frequencies.forEach((freq,index)=>{try{const oscillator=this.audioContext.createOscillator();const gainNode=this.audioContext.createGain();oscillator.connect(gainNode);gainNode.connect(this.masterGainNode);oscillator.frequency.setValueAtTime(freq,now);oscillator.type='sine';const delay=index*0.2;// 增加音符間隔\nconst amplitude=this.effectVolume*0.3;// 增加音量\ngainNode.gain.setValueAtTime(0,now+delay);gainNode.gain.linearRampToValueAtTime(amplitude,now+delay+0.1);gainNode.gain.linearRampToValueAtTime(amplitude*0.8,now+delay+sound.duration*0.7);gainNode.gain.linearRampToValueAtTime(0,now+delay+sound.duration);oscillator.start(now+delay);oscillator.stop(now+delay+sound.duration);}catch(error){console.error('Error playing sound effect:',error);}});}setBackgroundVolume(volume){this.backgroundVolume=Math.max(0,Math.min(0.2,volume));// 限制最大音量\n}setEffectVolume(volume){this.effectVolume=Math.max(0,Math.min(0.5,volume));// 限制最大音量\n}}_AudioManager=AudioManager;AudioManager.instance=void 0;export default AudioManager;","map":{"version":3,"names":["AudioManager","constructor","audioContext","isEnabled","backgroundVolume","effectVolume","backgroundMusicInterval","masterGainNode","initializeAudio","getInstance","instance","window","AudioContext","webkitAudioContext","createGain","connect","destination","gain","setValueAtTime","currentTime","state","resumeAudio","_this$audioContext","resume","then","playSimpleBackgroundMusic","document","removeEventListener","addEventListener","error","console","warn","createSoundEffects","_this","log","clearInterval","playNote","frequency","duration","volume","arguments","length","undefined","oscillator","createOscillator","gainNode","type","now","linearRampToValueAtTime","start","stop","notes","noteIndex","setInterval","setEnabled","enabled","stopBackgroundMusic","playBackgroundMusic","isAudioEnabled","playSound","soundName","playProgrammaticSound","soundMap","frequencies","sound","forEach","freq","index","delay","amplitude","setBackgroundVolume","Math","max","min","setEffectVolume","_AudioManager"],"sources":["/Users/arthurlin/Desktop/網服/wp1141/hw2/src/utils/AudioManager.ts"],"sourcesContent":["class AudioManager {\n  private static instance: AudioManager;\n  private audioContext: AudioContext | null = null;\n  private isEnabled: boolean = true;\n  private backgroundVolume: number = 0.15; // 降低背景音樂音量\n  private effectVolume: number = 0.3; // 降低音效音量\n  private backgroundMusicInterval: number | null = null;\n  private masterGainNode: GainNode | null = null;\n\n  private constructor() {\n    this.initializeAudio();\n  }\n\n  public static getInstance(): AudioManager {\n    if (!AudioManager.instance) {\n      AudioManager.instance = new AudioManager();\n    }\n    return AudioManager.instance;\n  }\n\n  private async initializeAudio() {\n    try {\n      this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n      \n      // 創建主音量控制節點\n      this.masterGainNode = this.audioContext.createGain();\n      this.masterGainNode.connect(this.audioContext.destination);\n      this.masterGainNode.gain.setValueAtTime(0.8, this.audioContext.currentTime);\n      \n      // 等待用戶互動後恢復音頻上下文並啟動背景音樂\n      if (this.audioContext.state === 'suspended') {\n        const resumeAudio = () => {\n          this.audioContext?.resume().then(() => {\n            // 音頻上下文恢復後自動啟動背景音樂\n            if (this.isEnabled) {\n              this.playSimpleBackgroundMusic();\n            }\n          });\n          document.removeEventListener('click', resumeAudio);\n          document.removeEventListener('keydown', resumeAudio);\n        };\n        document.addEventListener('click', resumeAudio);\n        document.addEventListener('keydown', resumeAudio);\n      } else {\n        // 如果音頻上下文已經可用，立即啟動背景音樂\n        this.playSimpleBackgroundMusic();\n      }\n    } catch (error) {\n      console.warn('Web Audio API not supported:', error);\n    }\n  }\n\n  private createSoundEffects() {\n    // 音效將在播放時動態創建，避免預加載問題\n  }\n\n  private playSimpleBackgroundMusic() {\n    if (!this.audioContext || !this.isEnabled || !this.masterGainNode) {\n      console.log('Background music conditions not met:', {\n        audioContext: !!this.audioContext,\n        isEnabled: this.isEnabled,\n        masterGainNode: !!this.masterGainNode\n      });\n      return;\n    }\n\n    // 清除之前的間隔\n    if (this.backgroundMusicInterval) {\n      clearInterval(this.backgroundMusicInterval);\n    }\n\n    console.log('Starting background music...');\n\n    // 簡化的背景音樂 - 使用更穩定的播放方式\n    const playNote = (frequency: number, duration: number, volume: number = 0.05) => {\n      if (!this.audioContext || !this.masterGainNode || !this.isEnabled) return;\n\n      try {\n        const oscillator = this.audioContext.createOscillator();\n        const gainNode = this.audioContext.createGain();\n        \n        oscillator.connect(gainNode);\n        gainNode.connect(this.masterGainNode);\n        \n        oscillator.frequency.setValueAtTime(frequency, this.audioContext.currentTime);\n        oscillator.type = 'sine';\n        \n        // 平滑的音量控制\n        const now = this.audioContext.currentTime;\n        gainNode.gain.setValueAtTime(0, now);\n        gainNode.gain.linearRampToValueAtTime(volume * this.backgroundVolume, now + 0.1);\n        gainNode.gain.linearRampToValueAtTime(volume * this.backgroundVolume * 0.7, now + duration - 0.1);\n        gainNode.gain.linearRampToValueAtTime(0, now + duration);\n        \n        oscillator.start(now);\n        oscillator.stop(now + duration);\n      } catch (error) {\n        console.error('Error playing background note:', error);\n      }\n    };\n\n    // 簡單的音符序列，間隔更長避免重疊\n    const notes = [523, 659, 784, 659]; // C-E-G-E\n    let noteIndex = 0;\n\n    this.backgroundMusicInterval = window.setInterval(() => {\n      if (this.isEnabled && this.audioContext && this.masterGainNode) {\n        console.log('Playing background note:', notes[noteIndex]);\n        playNote(notes[noteIndex], 0.8);\n        noteIndex = (noteIndex + 1) % notes.length;\n      } else {\n        console.log('Background music stopped - conditions not met');\n        clearInterval(this.backgroundMusicInterval!);\n        this.backgroundMusicInterval = null;\n      }\n    }, 3000); // 每3秒播放一個音符，增加間隔\n  }\n\n  // 公共方法\n  public setEnabled(enabled: boolean) {\n    this.isEnabled = enabled;\n    if (!enabled) {\n      this.stopBackgroundMusic();\n    } else if (enabled) {\n      this.playBackgroundMusic();\n    }\n  }\n\n  public isAudioEnabled(): boolean {\n    return this.isEnabled;\n  }\n\n  public playBackgroundMusic() {\n    if (!this.isEnabled || !this.audioContext) return;\n    \n    // 確保音頻上下文已恢復\n    if (this.audioContext.state === 'suspended') {\n      this.audioContext.resume().then(() => {\n        this.playSimpleBackgroundMusic();\n      });\n    } else {\n      this.playSimpleBackgroundMusic();\n    }\n  }\n\n  public stopBackgroundMusic() {\n    if (this.backgroundMusicInterval) {\n      clearInterval(this.backgroundMusicInterval);\n      this.backgroundMusicInterval = null;\n    }\n  }\n\n  public playSound(soundName: string) {\n    if (!this.isEnabled || !this.audioContext || !this.masterGainNode) return;\n    \n    // 確保音頻上下文已恢復\n    if (this.audioContext.state === 'suspended') {\n      this.audioContext.resume().then(() => {\n        this.playProgrammaticSound(soundName);\n      });\n    } else {\n      this.playProgrammaticSound(soundName);\n    }\n  }\n\n  private playProgrammaticSound(soundName: string) {\n    if (!this.audioContext || !this.masterGainNode) {\n      console.log('Sound effect conditions not met:', {\n        audioContext: !!this.audioContext,\n        masterGainNode: !!this.masterGainNode\n      });\n      return;\n    }\n\n    const soundMap: { [key: string]: { frequencies: number[], duration: number } } = {\n      'move': { frequencies: [523], duration: 0.2 }, // 簡化移動音效\n      'success': { frequencies: [523, 659, 784], duration: 0.6 }, // 簡化成功音效\n      'error': { frequencies: [330], duration: 0.4 }, // 簡化錯誤音效\n      'click': { frequencies: [800], duration: 0.15 }, // 簡化點擊音效\n      'star1': { frequencies: [523, 659], duration: 0.8 },\n      'star2': { frequencies: [523, 659, 784], duration: 1.0 },\n      'star3': { frequencies: [523, 659, 784, 988], duration: 1.2 },\n      'allComplete': { frequencies: [523, 659, 784, 988, 1175], duration: 1.5 }\n    };\n\n    const sound = soundMap[soundName];\n    if (!sound) {\n      console.log('Sound not found:', soundName);\n      return;\n    }\n\n    console.log('Playing sound effect:', soundName);\n\n    const now = this.audioContext.currentTime;\n    \n    sound.frequencies.forEach((freq, index) => {\n      try {\n        const oscillator = this.audioContext!.createOscillator();\n        const gainNode = this.audioContext!.createGain();\n        \n        oscillator.connect(gainNode);\n        gainNode.connect(this.masterGainNode!);\n        \n        oscillator.frequency.setValueAtTime(freq, now);\n        oscillator.type = 'sine';\n        \n        const delay = index * 0.2; // 增加音符間隔\n        const amplitude = this.effectVolume * 0.3; // 增加音量\n        \n        gainNode.gain.setValueAtTime(0, now + delay);\n        gainNode.gain.linearRampToValueAtTime(amplitude, now + delay + 0.1);\n        gainNode.gain.linearRampToValueAtTime(amplitude * 0.8, now + delay + sound.duration * 0.7);\n        gainNode.gain.linearRampToValueAtTime(0, now + delay + sound.duration);\n        \n        oscillator.start(now + delay);\n        oscillator.stop(now + delay + sound.duration);\n      } catch (error) {\n        console.error('Error playing sound effect:', error);\n      }\n    });\n  }\n\n  public setBackgroundVolume(volume: number) {\n    this.backgroundVolume = Math.max(0, Math.min(0.2, volume)); // 限制最大音量\n  }\n\n  public setEffectVolume(volume: number) {\n    this.effectVolume = Math.max(0, Math.min(0.5, volume)); // 限制最大音量\n  }\n}\n\nexport default AudioManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}