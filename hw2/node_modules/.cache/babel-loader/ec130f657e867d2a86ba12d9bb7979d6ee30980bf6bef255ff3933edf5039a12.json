{"ast":null,"code":"var _jsxFileName = \"/Users/arthurlin/Desktop/\\u7DB2\\u670D/wp1141/hw2/src/components/GameBoard.tsx\";\nimport React from 'react';\nimport './GameBoard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameBoard = ({\n  gameState,\n  onCellClick\n}) => {\n  const {\n    currentLevel,\n    blockPositions,\n    coveredCells\n  } = gameState;\n  const {\n    gridSize,\n    obstacles\n  } = currentLevel;\n  const [rows, cols] = gridSize;\n  const renderCell = (row, col) => {\n    const position = {\n      row,\n      col\n    };\n    const positionKey = `${row},${col}`;\n\n    // 檢查是否為障礙物\n    const isObstacle = obstacles.some(obs => obs.row === row && obs.col === col);\n\n    // 檢查是否有方塊\n    const blockIndex = blockPositions.findIndex(block => block.row === row && block.col === col);\n\n    // 檢查是否已覆蓋\n    const isCovered = coveredCells.has(positionKey);\n    let cellClass = 'game-cell';\n    if (isObstacle) {\n      cellClass += ' obstacle';\n    } else if (blockIndex !== -1) {\n      cellClass += ` block block-${blockIndex}`;\n    } else if (isCovered) {\n      cellClass += ' covered';\n    } else {\n      cellClass += ' empty';\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cellClass,\n      onClick: () => onCellClick === null || onCellClick === void 0 ? void 0 : onCellClick(position),\n      \"data-row\": row,\n      \"data-col\": col,\n      children: [blockIndex !== -1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block-content\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"block-number\",\n          children: blockIndex + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), isCovered && !isObstacle && blockIndex === -1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"covered-indicator\",\n        children: \"\\u2713\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, `${row}-${col}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-board\",\n    style: {\n      gridTemplateColumns: `repeat(${cols}, 1fr)`,\n      gridTemplateRows: `repeat(${rows}, 1fr)`\n    },\n    children: Array.from({\n      length: rows\n    }, (_, row) => Array.from({\n      length: cols\n    }, (_, col) => renderCell(row, col)))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_c = GameBoard;\nexport default GameBoard;\nvar _c;\n$RefreshReg$(_c, \"GameBoard\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","GameBoard","gameState","onCellClick","currentLevel","blockPositions","coveredCells","gridSize","obstacles","rows","cols","renderCell","row","col","position","positionKey","isObstacle","some","obs","blockIndex","findIndex","block","isCovered","has","cellClass","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","style","gridTemplateColumns","gridTemplateRows","Array","from","length","_","_c","$RefreshReg$"],"sources":["/Users/arthurlin/Desktop/網服/wp1141/hw2/src/components/GameBoard.tsx"],"sourcesContent":["import React from 'react';\nimport { GameState, Position } from '../types/GameTypes';\nimport './GameBoard.css';\n\ninterface GameBoardProps {\n  gameState: GameState;\n  onCellClick?: (position: Position) => void;\n}\n\nconst GameBoard: React.FC<GameBoardProps> = ({ gameState, onCellClick }) => {\n  const { currentLevel, blockPositions, coveredCells } = gameState;\n  const { gridSize, obstacles } = currentLevel;\n  const [rows, cols] = gridSize;\n\n  const renderCell = (row: number, col: number) => {\n    const position: Position = { row, col };\n    const positionKey = `${row},${col}`;\n    \n    // 檢查是否為障礙物\n    const isObstacle = obstacles.some(obs => obs.row === row && obs.col === col);\n    \n    // 檢查是否有方塊\n    const blockIndex = blockPositions.findIndex(block => \n      block.row === row && block.col === col\n    );\n    \n    // 檢查是否已覆蓋\n    const isCovered = coveredCells.has(positionKey);\n    \n    let cellClass = 'game-cell';\n    if (isObstacle) {\n      cellClass += ' obstacle';\n    } else if (blockIndex !== -1) {\n      cellClass += ` block block-${blockIndex}`;\n    } else if (isCovered) {\n      cellClass += ' covered';\n    } else {\n      cellClass += ' empty';\n    }\n\n    return (\n      <div\n        key={`${row}-${col}`}\n        className={cellClass}\n        onClick={() => onCellClick?.(position)}\n        data-row={row}\n        data-col={col}\n      >\n        {blockIndex !== -1 && (\n          <div className=\"block-content\">\n            <span className=\"block-number\">{blockIndex + 1}</span>\n          </div>\n        )}\n        {isCovered && !isObstacle && blockIndex === -1 && (\n          <div className=\"covered-indicator\">✓</div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div \n      className=\"game-board\"\n      style={{\n        gridTemplateColumns: `repeat(${cols}, 1fr)`,\n        gridTemplateRows: `repeat(${rows}, 1fr)`\n      }}\n    >\n      {Array.from({ length: rows }, (_, row) =>\n        Array.from({ length: cols }, (_, col) => renderCell(row, col))\n      )}\n    </div>\n  );\n};\n\nexport default GameBoard;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAOzB,MAAMC,SAAmC,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAY,CAAC,KAAK;EAC1E,MAAM;IAAEC,YAAY;IAAEC,cAAc;IAAEC;EAAa,CAAC,GAAGJ,SAAS;EAChE,MAAM;IAAEK,QAAQ;IAAEC;EAAU,CAAC,GAAGJ,YAAY;EAC5C,MAAM,CAACK,IAAI,EAAEC,IAAI,CAAC,GAAGH,QAAQ;EAE7B,MAAMI,UAAU,GAAGA,CAACC,GAAW,EAAEC,GAAW,KAAK;IAC/C,MAAMC,QAAkB,GAAG;MAAEF,GAAG;MAAEC;IAAI,CAAC;IACvC,MAAME,WAAW,GAAG,GAAGH,GAAG,IAAIC,GAAG,EAAE;;IAEnC;IACA,MAAMG,UAAU,GAAGR,SAAS,CAACS,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACN,GAAG,KAAKA,GAAG,IAAIM,GAAG,CAACL,GAAG,KAAKA,GAAG,CAAC;;IAE5E;IACA,MAAMM,UAAU,GAAGd,cAAc,CAACe,SAAS,CAACC,KAAK,IAC/CA,KAAK,CAACT,GAAG,KAAKA,GAAG,IAAIS,KAAK,CAACR,GAAG,KAAKA,GACrC,CAAC;;IAED;IACA,MAAMS,SAAS,GAAGhB,YAAY,CAACiB,GAAG,CAACR,WAAW,CAAC;IAE/C,IAAIS,SAAS,GAAG,WAAW;IAC3B,IAAIR,UAAU,EAAE;MACdQ,SAAS,IAAI,WAAW;IAC1B,CAAC,MAAM,IAAIL,UAAU,KAAK,CAAC,CAAC,EAAE;MAC5BK,SAAS,IAAI,gBAAgBL,UAAU,EAAE;IAC3C,CAAC,MAAM,IAAIG,SAAS,EAAE;MACpBE,SAAS,IAAI,UAAU;IACzB,CAAC,MAAM;MACLA,SAAS,IAAI,QAAQ;IACvB;IAEA,oBACExB,OAAA;MAEEyB,SAAS,EAAED,SAAU;MACrBE,OAAO,EAAEA,CAAA,KAAMvB,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAGW,QAAQ,CAAE;MACvC,YAAUF,GAAI;MACd,YAAUC,GAAI;MAAAc,QAAA,GAEbR,UAAU,KAAK,CAAC,CAAC,iBAChBnB,OAAA;QAAKyB,SAAS,EAAC,eAAe;QAAAE,QAAA,eAC5B3B,OAAA;UAAMyB,SAAS,EAAC,cAAc;UAAAE,QAAA,EAAER,UAAU,GAAG;QAAC;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD,CACN,EACAT,SAAS,IAAI,CAACN,UAAU,IAAIG,UAAU,KAAK,CAAC,CAAC,iBAC5CnB,OAAA;QAAKyB,SAAS,EAAC,mBAAmB;QAAAE,QAAA,EAAC;MAAC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAC1C;IAAA,GAbI,GAAGnB,GAAG,IAAIC,GAAG,EAAE;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAcjB,CAAC;EAEV,CAAC;EAED,oBACE/B,OAAA;IACEyB,SAAS,EAAC,YAAY;IACtBO,KAAK,EAAE;MACLC,mBAAmB,EAAE,UAAUvB,IAAI,QAAQ;MAC3CwB,gBAAgB,EAAE,UAAUzB,IAAI;IAClC,CAAE;IAAAkB,QAAA,EAEDQ,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE5B;IAAK,CAAC,EAAE,CAAC6B,CAAC,EAAE1B,GAAG,KACnCuB,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE3B;IAAK,CAAC,EAAE,CAAC4B,CAAC,EAAEzB,GAAG,KAAKF,UAAU,CAACC,GAAG,EAAEC,GAAG,CAAC,CAC/D;EAAC;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACQ,EAAA,GAhEItC,SAAmC;AAkEzC,eAAeA,SAAS;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}