{"ast":null,"code":"var _jsxFileName = \"/Users/arthurlin/Desktop/\\u7DB2\\u670D/wp1141/hw2/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { calculateStarRating } from './utils/GameLogic';\nimport MainMenu from './components/MainMenu';\nimport RulesPage from './components/RulesPage';\nimport NewLevelSelector from './components/NewLevelSelector';\nimport NewGame from './components/NewGame';\nimport CompletionEffects from './components/CompletionEffects';\nimport FinalCelebration from './components/FinalCelebration';\nimport AudioManager from './utils/AudioManager';\nimport './App.css';\n\n// Â∞éÂÖ•ÈóúÂç°Ë≥áÊñô\nimport levelsData from './data/levels.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [currentPage, setCurrentPage] = useState('main-menu');\n  const [currentLevel, setCurrentLevel] = useState(null);\n  const [completedLevels, setCompletedLevels] = useState(new Set());\n  const [levelScores, setLevelScores] = useState({});\n\n  // ÁâπÊïàÁãÄÊÖã\n  const [showCompletionEffects, setShowCompletionEffects] = useState(false);\n  const [showFinalCelebration, setShowFinalCelebration] = useState(false);\n  const [completionStars, setCompletionStars] = useState(0);\n  const audioManager = AudioManager.getInstance();\n\n  // Âæû localStorage ËºâÂÖ•ÈÅäÊà≤ÈÄ≤Â∫¶\n  useEffect(() => {\n    const savedCompleted = localStorage.getItem('completedLevels');\n    const savedScores = localStorage.getItem('levelScores');\n    if (savedCompleted) {\n      try {\n        setCompletedLevels(new Set(JSON.parse(savedCompleted)));\n      } catch (error) {\n        console.error('Error loading completed levels:', error);\n      }\n    }\n    if (savedScores) {\n      try {\n        setLevelScores(JSON.parse(savedScores));\n      } catch (error) {\n        console.error('Error loading level scores:', error);\n      }\n    }\n  }, []);\n\n  // ‰øùÂ≠òÈÅäÊà≤ÈÄ≤Â∫¶Âà∞ localStorage\n  useEffect(() => {\n    localStorage.setItem('completedLevels', JSON.stringify([...completedLevels]));\n  }, [completedLevels]);\n  useEffect(() => {\n    localStorage.setItem('levelScores', JSON.stringify(levelScores));\n  }, [levelScores]);\n  const handleStartGame = () => {\n    setCurrentPage('level-selector');\n  };\n  const handleShowRules = () => {\n    setCurrentPage('rules');\n  };\n  const handleBackToMainMenu = () => {\n    setCurrentPage('main-menu');\n    setCurrentLevel(null);\n  };\n  const handleLevelSelect = level => {\n    // ËΩâÊèõÊï∏ÁµÑÊ†ºÂºèÂà∞Â∞çË±°Ê†ºÂºè\n    const convertedLevel = {\n      ...level,\n      obstacles: level.obstacles.map(obs => ({\n        row: obs[0],\n        col: obs[1]\n      })),\n      blocks: level.blocks.map(block => ({\n        row: block[0],\n        col: block[1]\n      }))\n    };\n    setCurrentLevel(convertedLevel);\n    setCurrentPage('game');\n  };\n  const handleBackToLevelSelector = () => {\n    setCurrentPage('level-selector');\n    setCurrentLevel(null);\n  };\n  const handleResetProgress = () => {\n    setCompletedLevels(new Set());\n    setLevelScores({});\n    localStorage.removeItem('completedLevels');\n    localStorage.removeItem('levelScores');\n  };\n  const handleCompletionEffectsComplete = () => {\n    setShowCompletionEffects(false);\n\n    // ÊâæÂà∞‰∏ã‰∏ÄÈóú\n    const levels = levelsData;\n    const currentIndex = levels.findIndex(level => currentLevel && level.id === currentLevel.id);\n    const hasNextLevel = currentIndex >= 0 && currentIndex < levels.length - 1;\n    const nextLevel = hasNextLevel ? levels[currentIndex + 1] : null;\n    if (hasNextLevel && nextLevel) {\n      const userChoice = window.confirm(`üéâ ÊÅ≠ÂñúÈÄöÈóúÔºÅ\\n\\nÈªûÊìä„ÄåÁ¢∫ÂÆö„ÄçÈÄ≤ÂÖ•‰∏ã‰∏ÄÈóú\\nÈªûÊìä„ÄåÂèñÊ∂à„ÄçËøîÂõûÈóúÂç°ÈÅ∏Êìá`);\n      if (userChoice) {\n        // ÈÄ≤ÂÖ•‰∏ã‰∏ÄÈóú\n        const convertedLevel = {\n          ...nextLevel,\n          obstacles: nextLevel.obstacles.map(obs => ({\n            row: obs[0],\n            col: obs[1]\n          })),\n          blocks: nextLevel.blocks.map(block => ({\n            row: block[0],\n            col: block[1]\n          }))\n        };\n        setCurrentLevel(convertedLevel);\n      } else {\n        setCurrentPage('level-selector');\n        setCurrentLevel(null);\n      }\n    } else {\n      // Â¶ÇÊûúÊ≤íÊúâ‰∏ã‰∏ÄÈóú‰ΩÜÈÇÑÊ≤íÂÆåÊàêÊâÄÊúâÈóúÂç°\n      if (completedLevels.size < levels.length) {\n        setCurrentPage('level-selector');\n        setCurrentLevel(null);\n      }\n      // Â¶ÇÊûúÂÆåÊàêÊâÄÊúâÈóúÂç°ÔºåÁ≠âÂæÖÊúÄÁµÇÊÖ∂Á•ùÁâπÊïà\n    }\n  };\n  const handleFinalCelebrationComplete = () => {\n    setShowFinalCelebration(false);\n    setCurrentPage('level-selector');\n    setCurrentLevel(null);\n  };\n  const handleLevelComplete = useCallback(gameState => {\n    const levelId = gameState.currentLevel.id;\n    const movesUsed = gameState.currentTurn - 1;\n    const starRating = calculateStarRating(gameState);\n\n    // Êí≠ÊîæÈü≥Êïà\n    audioManager.playSound(`star${starRating.stars}`);\n\n    // Êõ¥Êñ∞ÂÆåÊàêÁöÑÈóúÂç°\n    const newCompletedLevels = new Set([...completedLevels, levelId]);\n    setCompletedLevels(newCompletedLevels);\n\n    // Êõ¥Êñ∞ÂàÜÊï∏ÔºàÂè™‰øùÂ≠òÊõ¥Â•ΩÁöÑÂàÜÊï∏Ôºâ\n    setLevelScores(prev => {\n      const currentScore = prev[levelId];\n      if (!currentScore || starRating.stars > currentScore.stars || starRating.stars === currentScore.stars && movesUsed < currentScore.moves) {\n        return {\n          ...prev,\n          [levelId]: {\n            stars: starRating.stars,\n            moves: movesUsed\n          }\n        };\n      }\n      return prev;\n    });\n\n    // È°ØÁ§∫ÈÄöÈóúÁâπÊïà\n    setCompletionStars(starRating.stars);\n    setShowCompletionEffects(true);\n\n    // Ê™¢Êü•ÊòØÂê¶ÂÆåÊàêÊâÄÊúâÈóúÂç°\n    const levels = levelsData;\n    if (newCompletedLevels.size === levels.length) {\n      setTimeout(() => {\n        setShowFinalCelebration(true);\n        audioManager.playSound('finalCelebration');\n      }, 3500); // Âú®ÈÄöÈóúÁâπÊïàÁµêÊùüÂæåÈ°ØÁ§∫\n    }\n  }, [completedLevels, audioManager]);\n  const handleLevelFailed = useCallback(gameState => {\n    const coverage = Math.round(gameState.coveredCells.size / (gameState.currentLevel.gridSize[0] * gameState.currentLevel.gridSize[1] - gameState.currentLevel.obstacles.length) * 100);\n    setTimeout(() => {\n      alert(`üòî ÈÅäÊà≤Â§±ÊïóÔºÅ\\nË¶ÜËìãÁéá: ${coverage}%\\nÂÜçË©¶‰∏ÄÊ¨°ÂêßÔºÅ`);\n      setCurrentPage('level-selector');\n      setCurrentLevel(null);\n    }, 1000);\n  }, []);\n  const renderCurrentPage = () => {\n    switch (currentPage) {\n      case 'main-menu':\n        return /*#__PURE__*/_jsxDEV(MainMenu, {\n          onStartGame: handleStartGame,\n          onShowRules: handleShowRules\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this);\n      case 'rules':\n        return /*#__PURE__*/_jsxDEV(RulesPage, {\n          onBack: handleBackToMainMenu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this);\n      case 'level-selector':\n        return /*#__PURE__*/_jsxDEV(NewLevelSelector, {\n          levels: levelsData,\n          completedLevels: completedLevels,\n          levelScores: levelScores,\n          onLevelSelect: handleLevelSelect,\n          onResetProgress: handleResetProgress,\n          onBack: handleBackToMainMenu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this);\n      case 'game':\n        return currentLevel ? /*#__PURE__*/_jsxDEV(NewGame, {\n          level: currentLevel,\n          onLevelComplete: handleLevelComplete,\n          onLevelFailed: handleLevelFailed,\n          onBack: handleBackToLevelSelector\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"\\u8F09\\u5165\\u4E2D...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(MainMenu, {\n          onStartGame: handleStartGame,\n          onShowRules: handleShowRules\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  const totalStars = Object.values(levelScores).reduce((sum, score) => sum + score.stars, 0);\n  const maxStars = levelsData.length * 3;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [renderCurrentPage(), /*#__PURE__*/_jsxDEV(CompletionEffects, {\n      stars: completionStars,\n      isVisible: showCompletionEffects,\n      onComplete: handleCompletionEffectsComplete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FinalCelebration, {\n      totalStars: totalStars,\n      maxStars: maxStars,\n      isVisible: showFinalCelebration,\n      onComplete: handleFinalCelebrationComplete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"hGJvqyf4BTYSJE53ORKvze4RBNU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","calculateStarRating","MainMenu","RulesPage","NewLevelSelector","NewGame","CompletionEffects","FinalCelebration","AudioManager","levelsData","jsxDEV","_jsxDEV","App","_s","currentPage","setCurrentPage","currentLevel","setCurrentLevel","completedLevels","setCompletedLevels","Set","levelScores","setLevelScores","showCompletionEffects","setShowCompletionEffects","showFinalCelebration","setShowFinalCelebration","completionStars","setCompletionStars","audioManager","getInstance","savedCompleted","localStorage","getItem","savedScores","JSON","parse","error","console","setItem","stringify","handleStartGame","handleShowRules","handleBackToMainMenu","handleLevelSelect","level","convertedLevel","obstacles","map","obs","row","col","blocks","block","handleBackToLevelSelector","handleResetProgress","removeItem","handleCompletionEffectsComplete","levels","currentIndex","findIndex","id","hasNextLevel","length","nextLevel","userChoice","window","confirm","size","handleFinalCelebrationComplete","handleLevelComplete","gameState","levelId","movesUsed","currentTurn","starRating","playSound","stars","newCompletedLevels","prev","currentScore","moves","setTimeout","handleLevelFailed","coverage","Math","round","coveredCells","gridSize","alert","renderCurrentPage","onStartGame","onShowRules","fileName","_jsxFileName","lineNumber","columnNumber","onBack","onLevelSelect","onResetProgress","onLevelComplete","onLevelFailed","className","children","totalStars","Object","values","reduce","sum","score","maxStars","isVisible","onComplete","_c","$RefreshReg$"],"sources":["/Users/arthurlin/Desktop/Á∂≤Êúç/wp1141/hw2/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Level, GameState, GamePage } from './types/GameTypes';\nimport { calculateStarRating } from './utils/GameLogic';\nimport MainMenu from './components/MainMenu';\nimport RulesPage from './components/RulesPage';\nimport NewLevelSelector from './components/NewLevelSelector';\nimport NewGame from './components/NewGame';\nimport CompletionEffects from './components/CompletionEffects';\nimport FinalCelebration from './components/FinalCelebration';\nimport AudioManager from './utils/AudioManager';\nimport './App.css';\n\n// Â∞éÂÖ•ÈóúÂç°Ë≥áÊñô\nimport levelsData from './data/levels.json';\n\nconst App: React.FC = () => {\n  const [currentPage, setCurrentPage] = useState<GamePage>('main-menu');\n  const [currentLevel, setCurrentLevel] = useState<Level | null>(null);\n  const [completedLevels, setCompletedLevels] = useState<Set<string>>(new Set());\n  const [levelScores, setLevelScores] = useState<Record<string, { stars: number; moves: number }>>({});\n  \n  // ÁâπÊïàÁãÄÊÖã\n  const [showCompletionEffects, setShowCompletionEffects] = useState(false);\n  const [showFinalCelebration, setShowFinalCelebration] = useState(false);\n  const [completionStars, setCompletionStars] = useState(0);\n  \n  const audioManager = AudioManager.getInstance();\n\n  // Âæû localStorage ËºâÂÖ•ÈÅäÊà≤ÈÄ≤Â∫¶\n  useEffect(() => {\n    const savedCompleted = localStorage.getItem('completedLevels');\n    const savedScores = localStorage.getItem('levelScores');\n    \n    if (savedCompleted) {\n      try {\n        setCompletedLevels(new Set(JSON.parse(savedCompleted)));\n      } catch (error) {\n        console.error('Error loading completed levels:', error);\n      }\n    }\n    \n    if (savedScores) {\n      try {\n        setLevelScores(JSON.parse(savedScores));\n      } catch (error) {\n        console.error('Error loading level scores:', error);\n      }\n    }\n  }, []);\n\n  // ‰øùÂ≠òÈÅäÊà≤ÈÄ≤Â∫¶Âà∞ localStorage\n  useEffect(() => {\n    localStorage.setItem('completedLevels', JSON.stringify([...completedLevels]));\n  }, [completedLevels]);\n\n  useEffect(() => {\n    localStorage.setItem('levelScores', JSON.stringify(levelScores));\n  }, [levelScores]);\n\n  const handleStartGame = () => {\n    setCurrentPage('level-selector');\n  };\n\n  const handleShowRules = () => {\n    setCurrentPage('rules');\n  };\n\n  const handleBackToMainMenu = () => {\n    setCurrentPage('main-menu');\n    setCurrentLevel(null);\n  };\n\n  const handleLevelSelect = (level: Level) => {\n    // ËΩâÊèõÊï∏ÁµÑÊ†ºÂºèÂà∞Â∞çË±°Ê†ºÂºè\n    const convertedLevel: Level = {\n      ...level,\n      obstacles: level.obstacles.map((obs: any) => ({ row: obs[0], col: obs[1] })),\n      blocks: level.blocks.map((block: any) => ({ row: block[0], col: block[1] }))\n    };\n    setCurrentLevel(convertedLevel);\n    setCurrentPage('game');\n  };\n\n  const handleBackToLevelSelector = () => {\n    setCurrentPage('level-selector');\n    setCurrentLevel(null);\n  };\n\n  const handleResetProgress = () => {\n    setCompletedLevels(new Set());\n    setLevelScores({});\n    localStorage.removeItem('completedLevels');\n    localStorage.removeItem('levelScores');\n  };\n\n  const handleCompletionEffectsComplete = () => {\n    setShowCompletionEffects(false);\n    \n    // ÊâæÂà∞‰∏ã‰∏ÄÈóú\n    const levels = levelsData as unknown as Level[];\n    const currentIndex = levels.findIndex(level => currentLevel && level.id === currentLevel.id);\n    const hasNextLevel = currentIndex >= 0 && currentIndex < levels.length - 1;\n    const nextLevel = hasNextLevel ? levels[currentIndex + 1] : null;\n\n    if (hasNextLevel && nextLevel) {\n      const userChoice = window.confirm(`üéâ ÊÅ≠ÂñúÈÄöÈóúÔºÅ\\n\\nÈªûÊìä„ÄåÁ¢∫ÂÆö„ÄçÈÄ≤ÂÖ•‰∏ã‰∏ÄÈóú\\nÈªûÊìä„ÄåÂèñÊ∂à„ÄçËøîÂõûÈóúÂç°ÈÅ∏Êìá`);\n      if (userChoice) {\n        // ÈÄ≤ÂÖ•‰∏ã‰∏ÄÈóú\n        const convertedLevel: Level = {\n          ...nextLevel,\n          obstacles: nextLevel.obstacles.map((obs: any) => ({ row: obs[0], col: obs[1] })),\n          blocks: nextLevel.blocks.map((block: any) => ({ row: block[0], col: block[1] }))\n        };\n        setCurrentLevel(convertedLevel);\n      } else {\n        setCurrentPage('level-selector');\n        setCurrentLevel(null);\n      }\n    } else {\n      // Â¶ÇÊûúÊ≤íÊúâ‰∏ã‰∏ÄÈóú‰ΩÜÈÇÑÊ≤íÂÆåÊàêÊâÄÊúâÈóúÂç°\n      if (completedLevels.size < levels.length) {\n        setCurrentPage('level-selector');\n        setCurrentLevel(null);\n      }\n      // Â¶ÇÊûúÂÆåÊàêÊâÄÊúâÈóúÂç°ÔºåÁ≠âÂæÖÊúÄÁµÇÊÖ∂Á•ùÁâπÊïà\n    }\n  };\n\n  const handleFinalCelebrationComplete = () => {\n    setShowFinalCelebration(false);\n    setCurrentPage('level-selector');\n    setCurrentLevel(null);\n  };\n\n  const handleLevelComplete = useCallback((gameState: GameState) => {\n    const levelId = gameState.currentLevel.id;\n    const movesUsed = gameState.currentTurn - 1;\n    const starRating = calculateStarRating(gameState);\n    \n    // Êí≠ÊîæÈü≥Êïà\n    audioManager.playSound(`star${starRating.stars}`);\n    \n    // Êõ¥Êñ∞ÂÆåÊàêÁöÑÈóúÂç°\n    const newCompletedLevels = new Set([...completedLevels, levelId]);\n    setCompletedLevels(newCompletedLevels);\n    \n    // Êõ¥Êñ∞ÂàÜÊï∏ÔºàÂè™‰øùÂ≠òÊõ¥Â•ΩÁöÑÂàÜÊï∏Ôºâ\n    setLevelScores(prev => {\n      const currentScore = prev[levelId];\n      if (!currentScore || starRating.stars > currentScore.stars || \n          (starRating.stars === currentScore.stars && movesUsed < currentScore.moves)) {\n        return {\n          ...prev,\n          [levelId]: {\n            stars: starRating.stars,\n            moves: movesUsed\n          }\n        };\n      }\n      return prev;\n    });\n\n    // È°ØÁ§∫ÈÄöÈóúÁâπÊïà\n    setCompletionStars(starRating.stars);\n    setShowCompletionEffects(true);\n\n    // Ê™¢Êü•ÊòØÂê¶ÂÆåÊàêÊâÄÊúâÈóúÂç°\n    const levels = levelsData as unknown as Level[];\n    if (newCompletedLevels.size === levels.length) {\n      setTimeout(() => {\n        setShowFinalCelebration(true);\n        audioManager.playSound('finalCelebration');\n      }, 3500); // Âú®ÈÄöÈóúÁâπÊïàÁµêÊùüÂæåÈ°ØÁ§∫\n    }\n  }, [completedLevels, audioManager]);\n\n  const handleLevelFailed = useCallback((gameState: GameState) => {\n    const coverage = Math.round((gameState.coveredCells.size / (gameState.currentLevel.gridSize[0] * gameState.currentLevel.gridSize[1] - gameState.currentLevel.obstacles.length)) * 100);\n    \n    setTimeout(() => {\n      alert(`üòî ÈÅäÊà≤Â§±ÊïóÔºÅ\\nË¶ÜËìãÁéá: ${coverage}%\\nÂÜçË©¶‰∏ÄÊ¨°ÂêßÔºÅ`);\n      setCurrentPage('level-selector');\n      setCurrentLevel(null);\n    }, 1000);\n  }, []);\n\n  const renderCurrentPage = () => {\n    switch (currentPage) {\n      case 'main-menu':\n        return (\n          <MainMenu\n            onStartGame={handleStartGame}\n            onShowRules={handleShowRules}\n          />\n        );\n      \n      case 'rules':\n        return (\n          <RulesPage\n            onBack={handleBackToMainMenu}\n          />\n        );\n      \n      case 'level-selector':\n        return (\n          <NewLevelSelector\n            levels={levelsData as unknown as Level[]}\n            completedLevels={completedLevels}\n            levelScores={levelScores}\n            onLevelSelect={handleLevelSelect}\n            onResetProgress={handleResetProgress}\n            onBack={handleBackToMainMenu}\n          />\n        );\n      \n      case 'game':\n        return currentLevel ? (\n          <NewGame\n            level={currentLevel}\n            onLevelComplete={handleLevelComplete}\n            onLevelFailed={handleLevelFailed}\n            onBack={handleBackToLevelSelector}\n          />\n        ) : (\n          <div className=\"loading\">ËºâÂÖ•‰∏≠...</div>\n        );\n      \n      default:\n        return (\n          <MainMenu\n            onStartGame={handleStartGame}\n            onShowRules={handleShowRules}\n          />\n        );\n    }\n  };\n\n  const totalStars = Object.values(levelScores).reduce((sum, score) => sum + score.stars, 0);\n  const maxStars = (levelsData as unknown as Level[]).length * 3;\n\n  return (\n    <div className=\"app\">\n      {renderCurrentPage()}\n      \n      {/* ÈÄöÈóúÁâπÊïà */}\n      <CompletionEffects\n        stars={completionStars}\n        isVisible={showCompletionEffects}\n        onComplete={handleCompletionEffectsComplete}\n      />\n      \n      {/* ÊúÄÁµÇÊÖ∂Á•ùÁâπÊïà */}\n      <FinalCelebration\n        totalStars={totalStars}\n        maxStars={maxStars}\n        isVisible={showFinalCelebration}\n        onComplete={handleFinalCelebrationComplete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}