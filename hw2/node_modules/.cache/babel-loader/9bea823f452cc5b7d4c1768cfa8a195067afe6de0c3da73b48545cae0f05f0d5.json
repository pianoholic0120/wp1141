{"ast":null,"code":"import React,{useState}from'react';import'./LevelSelector.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LevelSelector=_ref=>{let{levels,onLevelSelect,completedLevels,levelScores}=_ref;const[selectedDifficulty,setSelectedDifficulty]=useState('All');const[sortBy,setSortBy]=useState('id');const difficulties=['All','Easy','Normal','Hard','Expert'];const filteredLevels=levels.filter(level=>selectedDifficulty==='All'||level.difficulty===selectedDifficulty).sort((a,b)=>{if(sortBy==='difficulty'){const difficultyOrder={Easy:1,Normal:2,Hard:3,Expert:4};return difficultyOrder[a.difficulty]-difficultyOrder[b.difficulty];}return a.id.localeCompare(b.id);});const getDifficultyColor=difficulty=>{switch(difficulty){case'Easy':return'#4caf50';case'Normal':return'#ff9800';case'Hard':return'#f44336';case'Expert':return'#9c27b0';default:return'#666';}};const getStarDisplay=levelId=>{const score=levelScores[levelId];if(!score)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"level-stars\",children:[1,2,3].map(star=>/*#__PURE__*/_jsx(\"span\",{className:\"star \".concat(star<=score.stars?'filled':'empty'),children:\"\\u2605\"},star))});};return/*#__PURE__*/_jsxs(\"div\",{className:\"level-selector\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selector-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u9078\\u64C7\\u95DC\\u5361\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u6311\\u6230\\u4E0D\\u540C\\u96E3\\u5EA6\\u7684\\u6ED1\\u52D5\\u65B9\\u584A\\u8B0E\\u984C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"selector-filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"difficulty-filter\",children:\"\\u96E3\\u5EA6\\u7BE9\\u9078:\"}),/*#__PURE__*/_jsx(\"select\",{id:\"difficulty-filter\",value:selectedDifficulty,onChange:e=>setSelectedDifficulty(e.target.value),className:\"filter-select\",children:difficulties.map(diff=>/*#__PURE__*/_jsx(\"option\",{value:diff,children:diff},diff))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sort-filter\",children:\"\\u6392\\u5E8F\\u65B9\\u5F0F:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"sort-filter\",value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"id\",children:\"\\u95DC\\u5361\\u7DE8\\u865F\"}),/*#__PURE__*/_jsx(\"option\",{value:\"difficulty\",children:\"\\u96E3\\u5EA6\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"levels-grid\",children:filteredLevels.map(level=>{const isCompleted=completedLevels.has(level.id);const score=levelScores[level.id];return/*#__PURE__*/_jsxs(\"div\",{className:\"level-card \".concat(isCompleted?'completed':''),onClick:()=>onLevelSelect(level),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level-card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"level-title\",children:level.id}),/*#__PURE__*/_jsx(\"div\",{className:\"difficulty-badge\",style:{backgroundColor:getDifficultyColor(level.difficulty)},children:level.difficulty})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-card-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"\\u5730\\u5716:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[level.gridSize[0],\"\\xD7\",level.gridSize[1]]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"\\u65B9\\u584A:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:level.blocks.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"\\u56DE\\u5408\\u9650\\u5236:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:level.turnLimit})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"\\u6700\\u5C11\\u6B65\\u6578:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:level.minSteps})]})]}),isCompleted&&/*#__PURE__*/_jsxs(\"div\",{className:\"completion-info\",children:[getStarDisplay(level.id),score&&/*#__PURE__*/_jsxs(\"div\",{className:\"completion-moves\",children:[\"\\u4F7F\\u7528 \",score.moves,\" \\u6B65\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"level-card-footer\",children:isCompleted?/*#__PURE__*/_jsx(\"span\",{className:\"completed-text\",children:\"\\u2713 \\u5DF2\\u5B8C\\u6210\"}):/*#__PURE__*/_jsx(\"span\",{className:\"play-text\",children:\"\\u9EDE\\u64CA\\u958B\\u59CB\"})})]},level.id);})}),filteredLevels.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-levels\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u6C92\\u6709\\u627E\\u5230\\u7B26\\u5408\\u689D\\u4EF6\\u7684\\u95DC\\u5361\"})})]});};export default LevelSelector;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","LevelSelector","_ref","levels","onLevelSelect","completedLevels","levelScores","selectedDifficulty","setSelectedDifficulty","sortBy","setSortBy","difficulties","filteredLevels","filter","level","difficulty","sort","a","b","difficultyOrder","Easy","Normal","Hard","Expert","id","localeCompare","getDifficultyColor","getStarDisplay","levelId","score","className","children","map","star","concat","stars","htmlFor","value","onChange","e","target","diff","isCompleted","has","onClick","style","backgroundColor","gridSize","blocks","length","turnLimit","minSteps","moves"],"sources":["/Users/arthurlin/Desktop/網服/wp1141/hw2/src/components/LevelSelector.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Level } from '../types/GameTypes';\nimport './LevelSelector.css';\n\ninterface LevelSelectorProps {\n  levels: Level[];\n  onLevelSelect: (level: Level) => void;\n  completedLevels: Set<string>;\n  levelScores: Record<string, { stars: number; moves: number }>;\n}\n\nconst LevelSelector: React.FC<LevelSelectorProps> = ({\n  levels,\n  onLevelSelect,\n  completedLevels,\n  levelScores\n}) => {\n  const [selectedDifficulty, setSelectedDifficulty] = useState<string>('All');\n  const [sortBy, setSortBy] = useState<'id' | 'difficulty'>('id');\n\n  const difficulties = ['All', 'Easy', 'Normal', 'Hard', 'Expert'];\n\n  const filteredLevels = levels\n    .filter(level => selectedDifficulty === 'All' || level.difficulty === selectedDifficulty)\n    .sort((a, b) => {\n      if (sortBy === 'difficulty') {\n        const difficultyOrder = { Easy: 1, Normal: 2, Hard: 3, Expert: 4 };\n        return difficultyOrder[a.difficulty] - difficultyOrder[b.difficulty];\n      }\n      return a.id.localeCompare(b.id);\n    });\n\n  const getDifficultyColor = (difficulty: string) => {\n    switch (difficulty) {\n      case 'Easy': return '#4caf50';\n      case 'Normal': return '#ff9800';\n      case 'Hard': return '#f44336';\n      case 'Expert': return '#9c27b0';\n      default: return '#666';\n    }\n  };\n\n  const getStarDisplay = (levelId: string) => {\n    const score = levelScores[levelId];\n    if (!score) return null;\n    \n    return (\n      <div className=\"level-stars\">\n        {[1, 2, 3].map(star => (\n          <span\n            key={star}\n            className={`star ${star <= score.stars ? 'filled' : 'empty'}`}\n          >\n            ★\n          </span>\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"level-selector\">\n      <div className=\"selector-header\">\n        <h2>選擇關卡</h2>\n        <p>挑戰不同難度的滑動方塊謎題</p>\n      </div>\n\n      <div className=\"selector-filters\">\n        <div className=\"filter-group\">\n          <label htmlFor=\"difficulty-filter\">難度篩選:</label>\n          <select\n            id=\"difficulty-filter\"\n            value={selectedDifficulty}\n            onChange={(e) => setSelectedDifficulty(e.target.value)}\n            className=\"filter-select\"\n          >\n            {difficulties.map(diff => (\n              <option key={diff} value={diff}>{diff}</option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"filter-group\">\n          <label htmlFor=\"sort-filter\">排序方式:</label>\n          <select\n            id=\"sort-filter\"\n            value={sortBy}\n            onChange={(e) => setSortBy(e.target.value as 'id' | 'difficulty')}\n            className=\"filter-select\"\n          >\n            <option value=\"id\">關卡編號</option>\n            <option value=\"difficulty\">難度</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"levels-grid\">\n        {filteredLevels.map(level => {\n          const isCompleted = completedLevels.has(level.id);\n          const score = levelScores[level.id];\n          \n          return (\n            <div\n              key={level.id}\n              className={`level-card ${isCompleted ? 'completed' : ''}`}\n              onClick={() => onLevelSelect(level)}\n            >\n              <div className=\"level-card-header\">\n                <h3 className=\"level-title\">{level.id}</h3>\n                <div\n                  className=\"difficulty-badge\"\n                  style={{ backgroundColor: getDifficultyColor(level.difficulty) }}\n                >\n                  {level.difficulty}\n                </div>\n              </div>\n\n              <div className=\"level-card-content\">\n                <div className=\"level-stats\">\n                  <div className=\"stat\">\n                    <span className=\"stat-label\">地圖:</span>\n                    <span className=\"stat-value\">{level.gridSize[0]}×{level.gridSize[1]}</span>\n                  </div>\n                  <div className=\"stat\">\n                    <span className=\"stat-label\">方塊:</span>\n                    <span className=\"stat-value\">{level.blocks.length}</span>\n                  </div>\n                  <div className=\"stat\">\n                    <span className=\"stat-label\">回合限制:</span>\n                    <span className=\"stat-value\">{level.turnLimit}</span>\n                  </div>\n                  <div className=\"stat\">\n                    <span className=\"stat-label\">最少步數:</span>\n                    <span className=\"stat-value\">{level.minSteps}</span>\n                  </div>\n                </div>\n\n                {isCompleted && (\n                  <div className=\"completion-info\">\n                    {getStarDisplay(level.id)}\n                    {score && (\n                      <div className=\"completion-moves\">\n                        使用 {score.moves} 步\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"level-card-footer\">\n                {isCompleted ? (\n                  <span className=\"completed-text\">✓ 已完成</span>\n                ) : (\n                  <span className=\"play-text\">點擊開始</span>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {filteredLevels.length === 0 && (\n        <div className=\"no-levels\">\n          <p>沒有找到符合條件的關卡</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LevelSelector;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}