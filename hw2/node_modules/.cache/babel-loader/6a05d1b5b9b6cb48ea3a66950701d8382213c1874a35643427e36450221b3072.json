{"ast":null,"code":"import _objectSpread from\"/Users/arthurlin/Desktop/\\u7DB2\\u670D/wp1141/hw2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{calculateStarRating}from'./utils/GameLogic';import AudioManager from'./utils/AudioManager';import MainMenu from'./components/MainMenu';import RulesPage from'./components/RulesPage';import NewLevelSelector from'./components/NewLevelSelector';import NewGame from'./components/NewGame';import VictoryEffect from'./components/VictoryEffect';import'./App.css';// å°Žå…¥é—œå¡è³‡æ–™\nimport levelsData from'./data/levels.json';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[currentPage,setCurrentPage]=useState('main-menu');const[currentLevel,setCurrentLevel]=useState(null);const[completedLevels,setCompletedLevels]=useState(new Set());const[levelScores,setLevelScores]=useState({});// éŸ³æ•ˆå’Œç‰¹æ•ˆç‹€æ…‹\nconst[audioManager]=useState(()=>AudioManager.getInstance());const[showVictoryEffect,setShowVictoryEffect]=useState(false);const[victoryData,setVictoryData]=useState(null);// å¾ž localStorage è¼‰å…¥éŠæˆ²é€²åº¦\nuseEffect(()=>{const savedCompleted=localStorage.getItem('completedLevels');const savedScores=localStorage.getItem('levelScores');if(savedCompleted){try{setCompletedLevels(new Set(JSON.parse(savedCompleted)));}catch(error){console.error('Error loading completed levels:',error);}}if(savedScores){try{setLevelScores(JSON.parse(savedScores));}catch(error){console.error('Error loading level scores:',error);}}},[]);// ä¿å­˜éŠæˆ²é€²åº¦åˆ° localStorage\nuseEffect(()=>{localStorage.setItem('completedLevels',JSON.stringify([...completedLevels]));},[completedLevels]);useEffect(()=>{localStorage.setItem('levelScores',JSON.stringify(levelScores));},[levelScores]);// åˆå§‹åŒ–éŸ³é »ç³»çµ±\nuseEffect(()=>{console.log('Audio manager initialized:',audioManager.isAudioEnabled());// å˜—è©¦ç«‹å³å•Ÿå‹•èƒŒæ™¯éŸ³æ¨‚ï¼ˆå¦‚æžœç”¨æˆ¶å·²ç¶“æœ‰äº’å‹•ï¼‰\nsetTimeout(()=>{if(audioManager.isAudioEnabled()){audioManager.playBackgroundMusic();}},1000);},[audioManager]);const handleStartGame=()=>{// æ’­æ”¾é»žæ“ŠéŸ³æ•ˆå’Œå•Ÿå‹•èƒŒæ™¯éŸ³æ¨‚\naudioManager.playSound('click');audioManager.playBackgroundMusic();setCurrentPage('level-selector');};const handleShowRules=()=>{audioManager.playSound('click');setCurrentPage('rules');};const handleBackToMainMenu=()=>{setCurrentPage('main-menu');setCurrentLevel(null);};const handleLevelSelect=level=>{// è½‰æ›æ•¸çµ„æ ¼å¼åˆ°å°è±¡æ ¼å¼\nconst convertedLevel=_objectSpread(_objectSpread({},level),{},{obstacles:level.obstacles.map(obs=>({row:obs[0],col:obs[1]})),blocks:level.blocks.map(block=>({row:block[0],col:block[1]}))});setCurrentLevel(convertedLevel);setCurrentPage('game');};const handleBackToLevelSelector=()=>{setCurrentPage('level-selector');setCurrentLevel(null);};const handleResetProgress=()=>{setCompletedLevels(new Set());setLevelScores({});localStorage.removeItem('completedLevels');localStorage.removeItem('levelScores');};const handleLevelComplete=useCallback(gameState=>{const levelId=gameState.currentLevel.id;const movesUsed=gameState.currentTurn-1;const starRating=calculateStarRating(gameState);// æ’­æ”¾æˆåŠŸéŸ³æ•ˆ\naudioManager.playSound(\"star\".concat(starRating.stars));// æ›´æ–°å®Œæˆçš„é—œå¡\nconst newCompletedLevels=new Set([...completedLevels,levelId]);setCompletedLevels(newCompletedLevels);// æ›´æ–°åˆ†æ•¸ï¼ˆåªä¿å­˜æ›´å¥½çš„åˆ†æ•¸ï¼‰\nlet updatedScores=levelScores;setLevelScores(prev=>{const currentScore=prev[levelId];if(!currentScore||starRating.stars>currentScore.stars||starRating.stars===currentScore.stars&&movesUsed<currentScore.moves){updatedScores=_objectSpread(_objectSpread({},prev),{},{[levelId]:{stars:starRating.stars,moves:movesUsed}});return updatedScores;}return prev;});// æª¢æŸ¥æ˜¯å¦å®Œæˆæ‰€æœ‰é—œå¡\nconst levels=levelsData;const isAllComplete=newCompletedLevels.size===levels.length;const totalStars=Object.values(updatedScores).reduce((sum,score)=>sum+score.stars,0);// æ‰¾åˆ°ä¸‹ä¸€é—œ\nconst currentIndex=levels.findIndex(level=>level.id===levelId);const hasNextLevel=currentIndex<levels.length-1;const nextLevel=hasNextLevel?levels[currentIndex+1]:null;// ç«‹å³é¡¯ç¤ºé€šé—œç‰¹æ•ˆ\nsetVictoryData({stars:starRating.stars,isAllComplete,totalStars,onComplete:()=>{console.log('Victory effect completed');// èª¿è©¦æ—¥èªŒ\n// å…ˆéš±è—ç‰¹æ•ˆ\nsetShowVictoryEffect(false);setVictoryData(null);// ç­‰åˆ° VictoryEffect å¾¹åº•å¸è¼‰å¾Œå†é¡¯ç¤ºåŒæ­¥å°è©±æ¡†ï¼ˆé¿å…é˜»å¡žå°Žè‡´å¡ä½ï¼‰\nrequestAnimationFrame(()=>{requestAnimationFrame(()=>{if(isAllComplete){// æ’­æ”¾å…¨å®ŒæˆéŸ³æ•ˆ\naudioManager.playSound('allComplete');alert(\"\\uD83C\\uDFC6 \\u606D\\u559C\\u60A8\\u5B8C\\u6210\\u4E86\\u6240\\u6709\\u95DC\\u5361\\uFF01\\n\\u7E3D\\u5171\\u7372\\u5F97 \".concat(totalStars,\" \\u9846\\u661F\\u661F\\uFF01\"));setCurrentPage('level-selector');setCurrentLevel(null);}else if(hasNextLevel){const userChoice=window.confirm(\"\\uD83C\\uDF89 \\u606D\\u559C\\u901A\\u95DC\\uFF01\\n\\n\\u95DC\\u5361: \".concat(levelId,\"\\n\\u8A55\\u5206: \").concat(starRating.stars,\"\\u2605 \").concat(starRating.description,\"\\n\\u4F7F\\u7528\\u6B65\\u6578: \").concat(movesUsed,\"\\n\\n\\u9EDE\\u64CA\\u300C\\u78BA\\u5B9A\\u300D\\u9032\\u5165\\u4E0B\\u4E00\\u95DC (\").concat(nextLevel.id,\")\\n\\u9EDE\\u64CA\\u300C\\u53D6\\u6D88\\u300D\\u8FD4\\u56DE\\u95DC\\u5361\\u9078\\u64C7\"));if(userChoice&&nextLevel){// é€²å…¥ä¸‹ä¸€é—œ\nconst convertedLevel=_objectSpread(_objectSpread({},nextLevel),{},{obstacles:nextLevel.obstacles.map(obs=>({row:obs[0],col:obs[1]})),blocks:nextLevel.blocks.map(block=>({row:block[0],col:block[1]}))});setCurrentLevel(convertedLevel);}else{// è¿”å›žé—œå¡é¸æ“‡\nsetCurrentPage('level-selector');setCurrentLevel(null);}}else{// æœ€å¾Œä¸€é—œä½†ä¸æ˜¯å…¨å®Œæˆçš„æƒ…æ³\nalert(\"\\uD83C\\uDF89 \\u606D\\u559C\\u901A\\u95DC\\uFF01\\n\\n\\u95DC\\u5361: \".concat(levelId,\"\\n\\u8A55\\u5206: \").concat(starRating.stars,\"\\u2605 \").concat(starRating.description,\"\\n\\u4F7F\\u7528\\u6B65\\u6578: \").concat(movesUsed));setCurrentPage('level-selector');setCurrentLevel(null);}});});}});setShowVictoryEffect(true);},[audioManager,completedLevels,levelScores]);const handleLevelFailed=useCallback(gameState=>{const coverage=Math.round(gameState.coveredCells.size/(gameState.currentLevel.gridSize[0]*gameState.currentLevel.gridSize[1]-gameState.currentLevel.obstacles.length)*100);// æ’­æ”¾å¤±æ•—éŸ³æ•ˆ\naudioManager.playSound('error');setTimeout(()=>{alert(\"\\uD83D\\uDE14 \\u904A\\u6232\\u5931\\u6557\\uFF01\\n\\u8986\\u84CB\\u7387: \".concat(coverage,\"%\\n\\u518D\\u8A66\\u4E00\\u6B21\\u5427\\uFF01\"));setCurrentPage('level-selector');setCurrentLevel(null);},1000);},[audioManager]);const renderCurrentPage=()=>{switch(currentPage){case'main-menu':return/*#__PURE__*/_jsx(MainMenu,{onStartGame:handleStartGame,onShowRules:handleShowRules});case'rules':return/*#__PURE__*/_jsx(RulesPage,{onBack:handleBackToMainMenu});case'level-selector':return/*#__PURE__*/_jsx(NewLevelSelector,{levels:levelsData,completedLevels:completedLevels,levelScores:levelScores,onLevelSelect:handleLevelSelect,onResetProgress:handleResetProgress,onBack:handleBackToMainMenu});case'game':return currentLevel?/*#__PURE__*/_jsx(NewGame,{level:currentLevel,onLevelComplete:handleLevelComplete,onLevelFailed:handleLevelFailed,onBack:handleBackToLevelSelector}):/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u8F09\\u5165\\u4E2D...\"});default:return/*#__PURE__*/_jsx(MainMenu,{onStartGame:handleStartGame,onShowRules:handleShowRules});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[renderCurrentPage(),showVictoryEffect&&victoryData&&/*#__PURE__*/_jsx(VictoryEffect,{stars:victoryData.stars,isAllComplete:victoryData.isAllComplete,totalStars:victoryData.totalStars,onComplete:victoryData.onComplete})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","calculateStarRating","AudioManager","MainMenu","RulesPage","NewLevelSelector","NewGame","VictoryEffect","levelsData","jsx","_jsx","jsxs","_jsxs","App","currentPage","setCurrentPage","currentLevel","setCurrentLevel","completedLevels","setCompletedLevels","Set","levelScores","setLevelScores","audioManager","getInstance","showVictoryEffect","setShowVictoryEffect","victoryData","setVictoryData","savedCompleted","localStorage","getItem","savedScores","JSON","parse","error","console","setItem","stringify","log","isAudioEnabled","setTimeout","playBackgroundMusic","handleStartGame","playSound","handleShowRules","handleBackToMainMenu","handleLevelSelect","level","convertedLevel","_objectSpread","obstacles","map","obs","row","col","blocks","block","handleBackToLevelSelector","handleResetProgress","removeItem","handleLevelComplete","gameState","levelId","id","movesUsed","currentTurn","starRating","concat","stars","newCompletedLevels","updatedScores","prev","currentScore","moves","levels","isAllComplete","size","length","totalStars","Object","values","reduce","sum","score","currentIndex","findIndex","hasNextLevel","nextLevel","onComplete","requestAnimationFrame","alert","userChoice","window","confirm","description","handleLevelFailed","coverage","Math","round","coveredCells","gridSize","renderCurrentPage","onStartGame","onShowRules","onBack","onLevelSelect","onResetProgress","onLevelComplete","onLevelFailed","className","children"],"sources":["/Users/arthurlin/Desktop/ç¶²æœ/wp1141/hw2/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Level, GameState, GamePage } from './types/GameTypes';\nimport { calculateStarRating } from './utils/GameLogic';\nimport AudioManager from './utils/AudioManager';\nimport MainMenu from './components/MainMenu';\nimport RulesPage from './components/RulesPage';\nimport NewLevelSelector from './components/NewLevelSelector';\nimport NewGame from './components/NewGame';\nimport VictoryEffect from './components/VictoryEffect';\nimport './App.css';\n\n// å°Žå…¥é—œå¡è³‡æ–™\nimport levelsData from './data/levels.json';\n\nconst App: React.FC = () => {\n  const [currentPage, setCurrentPage] = useState<GamePage>('main-menu');\n  const [currentLevel, setCurrentLevel] = useState<Level | null>(null);\n  const [completedLevels, setCompletedLevels] = useState<Set<string>>(new Set());\n  const [levelScores, setLevelScores] = useState<Record<string, { stars: number; moves: number }>>({});\n  \n  // éŸ³æ•ˆå’Œç‰¹æ•ˆç‹€æ…‹\n  const [audioManager] = useState(() => AudioManager.getInstance());\n  const [showVictoryEffect, setShowVictoryEffect] = useState(false);\n  const [victoryData, setVictoryData] = useState<{\n    stars: number;\n    isAllComplete: boolean;\n    totalStars: number;\n    onComplete: () => void;\n  } | null>(null);\n\n  // å¾ž localStorage è¼‰å…¥éŠæˆ²é€²åº¦\n  useEffect(() => {\n    const savedCompleted = localStorage.getItem('completedLevels');\n    const savedScores = localStorage.getItem('levelScores');\n    \n    if (savedCompleted) {\n      try {\n        setCompletedLevels(new Set(JSON.parse(savedCompleted)));\n      } catch (error) {\n        console.error('Error loading completed levels:', error);\n      }\n    }\n    \n    if (savedScores) {\n      try {\n        setLevelScores(JSON.parse(savedScores));\n      } catch (error) {\n        console.error('Error loading level scores:', error);\n      }\n    }\n  }, []);\n\n  // ä¿å­˜éŠæˆ²é€²åº¦åˆ° localStorage\n  useEffect(() => {\n    localStorage.setItem('completedLevels', JSON.stringify([...completedLevels]));\n  }, [completedLevels]);\n\n  useEffect(() => {\n    localStorage.setItem('levelScores', JSON.stringify(levelScores));\n  }, [levelScores]);\n\n  // åˆå§‹åŒ–éŸ³é »ç³»çµ±\n  useEffect(() => {\n    console.log('Audio manager initialized:', audioManager.isAudioEnabled());\n    // å˜—è©¦ç«‹å³å•Ÿå‹•èƒŒæ™¯éŸ³æ¨‚ï¼ˆå¦‚æžœç”¨æˆ¶å·²ç¶“æœ‰äº’å‹•ï¼‰\n    setTimeout(() => {\n      if (audioManager.isAudioEnabled()) {\n        audioManager.playBackgroundMusic();\n      }\n    }, 1000);\n  }, [audioManager]);\n\n  const handleStartGame = () => {\n    // æ’­æ”¾é»žæ“ŠéŸ³æ•ˆå’Œå•Ÿå‹•èƒŒæ™¯éŸ³æ¨‚\n    audioManager.playSound('click');\n    audioManager.playBackgroundMusic();\n    setCurrentPage('level-selector');\n  };\n\n  const handleShowRules = () => {\n    audioManager.playSound('click');\n    setCurrentPage('rules');\n  };\n\n  const handleBackToMainMenu = () => {\n    setCurrentPage('main-menu');\n    setCurrentLevel(null);\n  };\n\n  const handleLevelSelect = (level: Level) => {\n    // è½‰æ›æ•¸çµ„æ ¼å¼åˆ°å°è±¡æ ¼å¼\n    const convertedLevel: Level = {\n      ...level,\n      obstacles: level.obstacles.map((obs: any) => ({ row: obs[0], col: obs[1] })),\n      blocks: level.blocks.map((block: any) => ({ row: block[0], col: block[1] }))\n    };\n    setCurrentLevel(convertedLevel);\n    setCurrentPage('game');\n  };\n\n  const handleBackToLevelSelector = () => {\n    setCurrentPage('level-selector');\n    setCurrentLevel(null);\n  };\n\n  const handleResetProgress = () => {\n    setCompletedLevels(new Set());\n    setLevelScores({});\n    localStorage.removeItem('completedLevels');\n    localStorage.removeItem('levelScores');\n  };\n\n  const handleLevelComplete = useCallback((gameState: GameState) => {\n    const levelId = gameState.currentLevel.id;\n    const movesUsed = gameState.currentTurn - 1;\n    const starRating = calculateStarRating(gameState);\n    \n    // æ’­æ”¾æˆåŠŸéŸ³æ•ˆ\n    audioManager.playSound(`star${starRating.stars}`);\n    \n    // æ›´æ–°å®Œæˆçš„é—œå¡\n    const newCompletedLevels = new Set([...completedLevels, levelId]);\n    setCompletedLevels(newCompletedLevels);\n    \n    // æ›´æ–°åˆ†æ•¸ï¼ˆåªä¿å­˜æ›´å¥½çš„åˆ†æ•¸ï¼‰\n    let updatedScores = levelScores;\n    setLevelScores(prev => {\n      const currentScore = prev[levelId];\n      if (!currentScore || starRating.stars > currentScore.stars || \n          (starRating.stars === currentScore.stars && movesUsed < currentScore.moves)) {\n        updatedScores = {\n          ...prev,\n          [levelId]: {\n            stars: starRating.stars,\n            moves: movesUsed\n          }\n        };\n        return updatedScores;\n      }\n      return prev;\n    });\n\n    // æª¢æŸ¥æ˜¯å¦å®Œæˆæ‰€æœ‰é—œå¡\n    const levels = levelsData as unknown as Level[];\n    const isAllComplete = newCompletedLevels.size === levels.length;\n    const totalStars = Object.values(updatedScores).reduce((sum, score) => sum + score.stars, 0);\n    \n    // æ‰¾åˆ°ä¸‹ä¸€é—œ\n    const currentIndex = levels.findIndex(level => level.id === levelId);\n    const hasNextLevel = currentIndex < levels.length - 1;\n    const nextLevel = hasNextLevel ? levels[currentIndex + 1] : null;\n\n    // ç«‹å³é¡¯ç¤ºé€šé—œç‰¹æ•ˆ\n    setVictoryData({\n      stars: starRating.stars,\n      isAllComplete,\n      totalStars,\n      onComplete: () => {\n        console.log('Victory effect completed'); // èª¿è©¦æ—¥èªŒ\n        \n        // å…ˆéš±è—ç‰¹æ•ˆ\n        setShowVictoryEffect(false);\n        setVictoryData(null);\n        \n        // ç­‰åˆ° VictoryEffect å¾¹åº•å¸è¼‰å¾Œå†é¡¯ç¤ºåŒæ­¥å°è©±æ¡†ï¼ˆé¿å…é˜»å¡žå°Žè‡´å¡ä½ï¼‰\n        requestAnimationFrame(() => {\n          requestAnimationFrame(() => {\n          if (isAllComplete) {\n            // æ’­æ”¾å…¨å®ŒæˆéŸ³æ•ˆ\n            audioManager.playSound('allComplete');\n            alert(`ðŸ† æ­å–œæ‚¨å®Œæˆäº†æ‰€æœ‰é—œå¡ï¼\\nç¸½å…±ç²å¾— ${totalStars} é¡†æ˜Ÿæ˜Ÿï¼`);\n            setCurrentPage('level-selector');\n            setCurrentLevel(null);\n          } else if (hasNextLevel) {\n            const userChoice = window.confirm(`ðŸŽ‰ æ­å–œé€šé—œï¼\\n\\né—œå¡: ${levelId}\\nè©•åˆ†: ${starRating.stars}â˜… ${starRating.description}\\nä½¿ç”¨æ­¥æ•¸: ${movesUsed}\\n\\né»žæ“Šã€Œç¢ºå®šã€é€²å…¥ä¸‹ä¸€é—œ (${nextLevel!.id})\\né»žæ“Šã€Œå–æ¶ˆã€è¿”å›žé—œå¡é¸æ“‡`);\n            if (userChoice && nextLevel) {\n              // é€²å…¥ä¸‹ä¸€é—œ\n              const convertedLevel: Level = {\n                ...nextLevel,\n                obstacles: nextLevel.obstacles.map((obs: any) => ({ row: obs[0], col: obs[1] })),\n                blocks: nextLevel.blocks.map((block: any) => ({ row: block[0], col: block[1] }))\n              };\n              setCurrentLevel(convertedLevel);\n            } else {\n              // è¿”å›žé—œå¡é¸æ“‡\n              setCurrentPage('level-selector');\n              setCurrentLevel(null);\n            }\n          } else {\n            // æœ€å¾Œä¸€é—œä½†ä¸æ˜¯å…¨å®Œæˆçš„æƒ…æ³\n            alert(`ðŸŽ‰ æ­å–œé€šé—œï¼\\n\\né—œå¡: ${levelId}\\nè©•åˆ†: ${starRating.stars}â˜… ${starRating.description}\\nä½¿ç”¨æ­¥æ•¸: ${movesUsed}`);\n            setCurrentPage('level-selector');\n            setCurrentLevel(null);\n          }\n          });\n        });\n      }\n    });\n    setShowVictoryEffect(true);\n  }, [audioManager, completedLevels, levelScores]);\n\n  const handleLevelFailed = useCallback((gameState: GameState) => {\n    const coverage = Math.round((gameState.coveredCells.size / (gameState.currentLevel.gridSize[0] * gameState.currentLevel.gridSize[1] - gameState.currentLevel.obstacles.length)) * 100);\n    \n    // æ’­æ”¾å¤±æ•—éŸ³æ•ˆ\n    audioManager.playSound('error');\n    \n    setTimeout(() => {\n      alert(`ðŸ˜” éŠæˆ²å¤±æ•—ï¼\\nè¦†è“‹çŽ‡: ${coverage}%\\nå†è©¦ä¸€æ¬¡å§ï¼`);\n      setCurrentPage('level-selector');\n      setCurrentLevel(null);\n    }, 1000);\n  }, [audioManager]);\n\n  const renderCurrentPage = () => {\n    switch (currentPage) {\n      case 'main-menu':\n        return (\n          <MainMenu\n            onStartGame={handleStartGame}\n            onShowRules={handleShowRules}\n          />\n        );\n      \n      case 'rules':\n        return (\n          <RulesPage\n            onBack={handleBackToMainMenu}\n          />\n        );\n      \n      case 'level-selector':\n        return (\n          <NewLevelSelector\n            levels={levelsData as unknown as Level[]}\n            completedLevels={completedLevels}\n            levelScores={levelScores}\n            onLevelSelect={handleLevelSelect}\n            onResetProgress={handleResetProgress}\n            onBack={handleBackToMainMenu}\n          />\n        );\n      \n      case 'game':\n        return currentLevel ? (\n          <NewGame\n            level={currentLevel}\n            onLevelComplete={handleLevelComplete}\n            onLevelFailed={handleLevelFailed}\n            onBack={handleBackToLevelSelector}\n          />\n        ) : (\n          <div className=\"loading\">è¼‰å…¥ä¸­...</div>\n        );\n      \n      default:\n        return (\n          <MainMenu\n            onStartGame={handleStartGame}\n            onShowRules={handleShowRules}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      {renderCurrentPage()}\n      \n      {/* é€šé—œç‰¹æ•ˆ */}\n      {showVictoryEffect && victoryData && (\n        <VictoryEffect\n          stars={victoryData.stars}\n          isAllComplete={victoryData.isAllComplete}\n          totalStars={victoryData.totalStars}\n          onComplete={victoryData.onComplete}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}