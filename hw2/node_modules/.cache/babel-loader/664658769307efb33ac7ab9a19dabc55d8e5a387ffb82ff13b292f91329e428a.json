{"ast":null,"code":"import _objectSpread from\"/Users/arthurlin/Desktop/\\u7DB2\\u670D/wp1141/hw2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{calculateStarRating}from'./utils/GameLogic';import AudioManager from'./utils/AudioManager';import MainMenu from'./components/MainMenu';import RulesPage from'./components/RulesPage';import NewLevelSelector from'./components/NewLevelSelector';import NewGame from'./components/NewGame';import'./App.css';// å°Žå…¥é—œå¡è³‡æ–™\nimport levelsData from'./data/levels.json';import{jsx as _jsx}from\"react/jsx-runtime\";const App=()=>{const[currentPage,setCurrentPage]=useState('main-menu');const[currentLevel,setCurrentLevel]=useState(null);const[completedLevels,setCompletedLevels]=useState(new Set());const[levelScores,setLevelScores]=useState({});// éŸ³æ•ˆç‹€æ…‹\nconst[audioManager]=useState(()=>AudioManager.getInstance());// å¾ž localStorage è¼‰å…¥éŠæˆ²é€²åº¦\nuseEffect(()=>{const savedCompleted=localStorage.getItem('completedLevels');const savedScores=localStorage.getItem('levelScores');if(savedCompleted){try{setCompletedLevels(new Set(JSON.parse(savedCompleted)));}catch(error){console.error('Error loading completed levels:',error);}}if(savedScores){try{setLevelScores(JSON.parse(savedScores));}catch(error){console.error('Error loading level scores:',error);}}},[]);// ä¿å­˜éŠæˆ²é€²åº¦åˆ° localStorage\nuseEffect(()=>{localStorage.setItem('completedLevels',JSON.stringify([...completedLevels]));},[completedLevels]);useEffect(()=>{localStorage.setItem('levelScores',JSON.stringify(levelScores));},[levelScores]);// åˆå§‹åŒ–éŸ³é »ç³»çµ±\nuseEffect(()=>{console.log('Audio manager initialized:',audioManager.isAudioEnabled());// æ·»åŠ é»žæ“Šäº‹ä»¶ç›£è½å™¨ä¾†å•Ÿå‹•éŸ³é »\nconst handleFirstClick=()=>{console.log('First user interaction detected');audioManager.playBackgroundMusic();document.removeEventListener('click',handleFirstClick);document.removeEventListener('keydown',handleFirstClick);};document.addEventListener('click',handleFirstClick);document.addEventListener('keydown',handleFirstClick);return()=>{document.removeEventListener('click',handleFirstClick);document.removeEventListener('keydown',handleFirstClick);};},[audioManager]);const handleStartGame=()=>{// æ’­æ”¾é»žæ“ŠéŸ³æ•ˆå’Œå•Ÿå‹•èƒŒæ™¯éŸ³æ¨‚\naudioManager.playSound('click');audioManager.playBackgroundMusic();setCurrentPage('level-selector');};const handleShowRules=()=>{audioManager.playSound('click');setCurrentPage('rules');};const handleBackToMainMenu=()=>{setCurrentPage('main-menu');setCurrentLevel(null);};const handleLevelSelect=level=>{// è½‰æ›æ•¸çµ„æ ¼å¼åˆ°å°è±¡æ ¼å¼\nconst convertedLevel=_objectSpread(_objectSpread({},level),{},{obstacles:level.obstacles.map(obs=>({row:obs[0],col:obs[1]})),blocks:level.blocks.map(block=>({row:block[0],col:block[1]}))});setCurrentLevel(convertedLevel);setCurrentPage('game');};const handleBackToLevelSelector=()=>{setCurrentPage('level-selector');setCurrentLevel(null);};const handleResetProgress=()=>{setCompletedLevels(new Set());setLevelScores({});localStorage.removeItem('completedLevels');localStorage.removeItem('levelScores');};const handleLevelComplete=useCallback(gameState=>{const levelId=gameState.currentLevel.id;const movesUsed=gameState.currentTurn-1;const starRating=calculateStarRating(gameState);// æ’­æ”¾æˆåŠŸéŸ³æ•ˆ\naudioManager.playSound(\"star\".concat(starRating.stars));// æ›´æ–°å®Œæˆçš„é—œå¡\nconst newCompletedLevels=new Set([...completedLevels,levelId]);setCompletedLevels(newCompletedLevels);// æ›´æ–°åˆ†æ•¸ï¼ˆåªä¿å­˜æ›´å¥½çš„åˆ†æ•¸ï¼‰\nlet updatedScores=levelScores;setLevelScores(prev=>{const currentScore=prev[levelId];if(!currentScore||starRating.stars>currentScore.stars||starRating.stars===currentScore.stars&&movesUsed<currentScore.moves){updatedScores=_objectSpread(_objectSpread({},prev),{},{[levelId]:{stars:starRating.stars,moves:movesUsed}});return updatedScores;}return prev;});// æª¢æŸ¥æ˜¯å¦å®Œæˆæ‰€æœ‰é—œå¡\nconst levels=levelsData;const isAllComplete=newCompletedLevels.size===levels.length;const totalStars=Object.values(updatedScores).reduce((sum,score)=>sum+score.stars,0);// æ‰¾åˆ°ä¸‹ä¸€é—œ\nconst currentIndex=levels.findIndex(level=>level.id===levelId);const hasNextLevel=currentIndex<levels.length-1;const nextLevel=hasNextLevel?levels[currentIndex+1]:null;// ç°¡åŒ–æµç¨‹ï¼šç›´æŽ¥é¡¯ç¤ºå°è©±æ¡†ï¼Œä¸ä½¿ç”¨VictoryEffectçµ„ä»¶\nsetTimeout(()=>{if(isAllComplete){// æ’­æ”¾å…¨å®ŒæˆéŸ³æ•ˆ\naudioManager.playSound('allComplete');alert(\"\\uD83C\\uDFC6 \\u606D\\u559C\\u60A8\\u5B8C\\u6210\\u4E86\\u6240\\u6709\\u95DC\\u5361\\uFF01\\n\\u7E3D\\u5171\\u7372\\u5F97 \".concat(totalStars,\" \\u9846\\u661F\\u661F\\uFF01\"));setCurrentPage('level-selector');setCurrentLevel(null);}else if(hasNextLevel){const userChoice=window.confirm(\"\\uD83C\\uDF89 \\u606D\\u559C\\u901A\\u95DC\\uFF01\\n\\n\\u95DC\\u5361: \".concat(levelId,\"\\n\\u8A55\\u5206: \").concat(starRating.stars,\"\\u2605 \").concat(starRating.description,\"\\n\\u4F7F\\u7528\\u6B65\\u6578: \").concat(movesUsed,\"\\n\\n\\u9EDE\\u64CA\\u300C\\u78BA\\u5B9A\\u300D\\u9032\\u5165\\u4E0B\\u4E00\\u95DC (\").concat(nextLevel.id,\")\\n\\u9EDE\\u64CA\\u300C\\u53D6\\u6D88\\u300D\\u8FD4\\u56DE\\u95DC\\u5361\\u9078\\u64C7\"));if(userChoice&&nextLevel){// é€²å…¥ä¸‹ä¸€é—œ\nconst convertedLevel=_objectSpread(_objectSpread({},nextLevel),{},{obstacles:nextLevel.obstacles.map(obs=>({row:obs[0],col:obs[1]})),blocks:nextLevel.blocks.map(block=>({row:block[0],col:block[1]}))});setCurrentLevel(convertedLevel);}else{// è¿”å›žé—œå¡é¸æ“‡\nsetCurrentPage('level-selector');setCurrentLevel(null);}}else{// æœ€å¾Œä¸€é—œä½†ä¸æ˜¯å…¨å®Œæˆçš„æƒ…æ³\nalert(\"\\uD83C\\uDF89 \\u606D\\u559C\\u901A\\u95DC\\uFF01\\n\\n\\u95DC\\u5361: \".concat(levelId,\"\\n\\u8A55\\u5206: \").concat(starRating.stars,\"\\u2605 \").concat(starRating.description,\"\\n\\u4F7F\\u7528\\u6B65\\u6578: \").concat(movesUsed));setCurrentPage('level-selector');setCurrentLevel(null);}},1000);// 1ç§’å¾Œé¡¯ç¤ºå°è©±æ¡†\n},[audioManager,completedLevels,levelScores]);const handleLevelFailed=useCallback(gameState=>{const coverage=Math.round(gameState.coveredCells.size/(gameState.currentLevel.gridSize[0]*gameState.currentLevel.gridSize[1]-gameState.currentLevel.obstacles.length)*100);// æ’­æ”¾å¤±æ•—éŸ³æ•ˆ\naudioManager.playSound('error');setTimeout(()=>{alert(\"\\uD83D\\uDE14 \\u904A\\u6232\\u5931\\u6557\\uFF01\\n\\u8986\\u84CB\\u7387: \".concat(coverage,\"%\\n\\u518D\\u8A66\\u4E00\\u6B21\\u5427\\uFF01\"));setCurrentPage('level-selector');setCurrentLevel(null);},1000);},[audioManager]);const renderCurrentPage=()=>{switch(currentPage){case'main-menu':return/*#__PURE__*/_jsx(MainMenu,{onStartGame:handleStartGame,onShowRules:handleShowRules});case'rules':return/*#__PURE__*/_jsx(RulesPage,{onBack:handleBackToMainMenu});case'level-selector':return/*#__PURE__*/_jsx(NewLevelSelector,{levels:levelsData,completedLevels:completedLevels,levelScores:levelScores,onLevelSelect:handleLevelSelect,onResetProgress:handleResetProgress,onBack:handleBackToMainMenu});case'game':return currentLevel?/*#__PURE__*/_jsx(NewGame,{level:currentLevel,onLevelComplete:handleLevelComplete,onLevelFailed:handleLevelFailed,onBack:handleBackToLevelSelector}):/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u8F09\\u5165\\u4E2D...\"});default:return/*#__PURE__*/_jsx(MainMenu,{onStartGame:handleStartGame,onShowRules:handleShowRules});}};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:renderCurrentPage()});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","calculateStarRating","AudioManager","MainMenu","RulesPage","NewLevelSelector","NewGame","levelsData","jsx","_jsx","App","currentPage","setCurrentPage","currentLevel","setCurrentLevel","completedLevels","setCompletedLevels","Set","levelScores","setLevelScores","audioManager","getInstance","savedCompleted","localStorage","getItem","savedScores","JSON","parse","error","console","setItem","stringify","log","isAudioEnabled","handleFirstClick","playBackgroundMusic","document","removeEventListener","addEventListener","handleStartGame","playSound","handleShowRules","handleBackToMainMenu","handleLevelSelect","level","convertedLevel","_objectSpread","obstacles","map","obs","row","col","blocks","block","handleBackToLevelSelector","handleResetProgress","removeItem","handleLevelComplete","gameState","levelId","id","movesUsed","currentTurn","starRating","concat","stars","newCompletedLevels","updatedScores","prev","currentScore","moves","levels","isAllComplete","size","length","totalStars","Object","values","reduce","sum","score","currentIndex","findIndex","hasNextLevel","nextLevel","setTimeout","alert","userChoice","window","confirm","description","handleLevelFailed","coverage","Math","round","coveredCells","gridSize","renderCurrentPage","onStartGame","onShowRules","onBack","onLevelSelect","onResetProgress","onLevelComplete","onLevelFailed","className","children"],"sources":["/Users/arthurlin/Desktop/ç¶²æœ/wp1141/hw2/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Level, GameState, GamePage } from './types/GameTypes';\nimport { calculateStarRating } from './utils/GameLogic';\nimport AudioManager from './utils/AudioManager';\nimport MainMenu from './components/MainMenu';\nimport RulesPage from './components/RulesPage';\nimport NewLevelSelector from './components/NewLevelSelector';\nimport NewGame from './components/NewGame';\nimport './App.css';\n\n// å°Žå…¥é—œå¡è³‡æ–™\nimport levelsData from './data/levels.json';\n\nconst App: React.FC = () => {\n  const [currentPage, setCurrentPage] = useState<GamePage>('main-menu');\n  const [currentLevel, setCurrentLevel] = useState<Level | null>(null);\n  const [completedLevels, setCompletedLevels] = useState<Set<string>>(new Set());\n  const [levelScores, setLevelScores] = useState<Record<string, { stars: number; moves: number }>>({});\n  \n  // éŸ³æ•ˆç‹€æ…‹\n  const [audioManager] = useState(() => AudioManager.getInstance());\n\n  // å¾ž localStorage è¼‰å…¥éŠæˆ²é€²åº¦\n  useEffect(() => {\n    const savedCompleted = localStorage.getItem('completedLevels');\n    const savedScores = localStorage.getItem('levelScores');\n    \n    if (savedCompleted) {\n      try {\n        setCompletedLevels(new Set(JSON.parse(savedCompleted)));\n      } catch (error) {\n        console.error('Error loading completed levels:', error);\n      }\n    }\n    \n    if (savedScores) {\n      try {\n        setLevelScores(JSON.parse(savedScores));\n      } catch (error) {\n        console.error('Error loading level scores:', error);\n      }\n    }\n  }, []);\n\n  // ä¿å­˜éŠæˆ²é€²åº¦åˆ° localStorage\n  useEffect(() => {\n    localStorage.setItem('completedLevels', JSON.stringify([...completedLevels]));\n  }, [completedLevels]);\n\n  useEffect(() => {\n    localStorage.setItem('levelScores', JSON.stringify(levelScores));\n  }, [levelScores]);\n\n  // åˆå§‹åŒ–éŸ³é »ç³»çµ±\n  useEffect(() => {\n    console.log('Audio manager initialized:', audioManager.isAudioEnabled());\n    \n    // æ·»åŠ é»žæ“Šäº‹ä»¶ç›£è½å™¨ä¾†å•Ÿå‹•éŸ³é »\n    const handleFirstClick = () => {\n      console.log('First user interaction detected');\n      audioManager.playBackgroundMusic();\n      document.removeEventListener('click', handleFirstClick);\n      document.removeEventListener('keydown', handleFirstClick);\n    };\n    \n    document.addEventListener('click', handleFirstClick);\n    document.addEventListener('keydown', handleFirstClick);\n    \n    return () => {\n      document.removeEventListener('click', handleFirstClick);\n      document.removeEventListener('keydown', handleFirstClick);\n    };\n  }, [audioManager]);\n\n  const handleStartGame = () => {\n    // æ’­æ”¾é»žæ“ŠéŸ³æ•ˆå’Œå•Ÿå‹•èƒŒæ™¯éŸ³æ¨‚\n    audioManager.playSound('click');\n    audioManager.playBackgroundMusic();\n    setCurrentPage('level-selector');\n  };\n\n  const handleShowRules = () => {\n    audioManager.playSound('click');\n    setCurrentPage('rules');\n  };\n\n  const handleBackToMainMenu = () => {\n    setCurrentPage('main-menu');\n    setCurrentLevel(null);\n  };\n\n  const handleLevelSelect = (level: Level) => {\n    // è½‰æ›æ•¸çµ„æ ¼å¼åˆ°å°è±¡æ ¼å¼\n    const convertedLevel: Level = {\n      ...level,\n      obstacles: level.obstacles.map((obs: any) => ({ row: obs[0], col: obs[1] })),\n      blocks: level.blocks.map((block: any) => ({ row: block[0], col: block[1] }))\n    };\n    setCurrentLevel(convertedLevel);\n    setCurrentPage('game');\n  };\n\n  const handleBackToLevelSelector = () => {\n    setCurrentPage('level-selector');\n    setCurrentLevel(null);\n  };\n\n  const handleResetProgress = () => {\n    setCompletedLevels(new Set());\n    setLevelScores({});\n    localStorage.removeItem('completedLevels');\n    localStorage.removeItem('levelScores');\n  };\n\n  const handleLevelComplete = useCallback((gameState: GameState) => {\n    const levelId = gameState.currentLevel.id;\n    const movesUsed = gameState.currentTurn - 1;\n    const starRating = calculateStarRating(gameState);\n    \n    // æ’­æ”¾æˆåŠŸéŸ³æ•ˆ\n    audioManager.playSound(`star${starRating.stars}`);\n    \n    // æ›´æ–°å®Œæˆçš„é—œå¡\n    const newCompletedLevels = new Set([...completedLevels, levelId]);\n    setCompletedLevels(newCompletedLevels);\n    \n    // æ›´æ–°åˆ†æ•¸ï¼ˆåªä¿å­˜æ›´å¥½çš„åˆ†æ•¸ï¼‰\n    let updatedScores = levelScores;\n    setLevelScores(prev => {\n      const currentScore = prev[levelId];\n      if (!currentScore || starRating.stars > currentScore.stars || \n          (starRating.stars === currentScore.stars && movesUsed < currentScore.moves)) {\n        updatedScores = {\n          ...prev,\n          [levelId]: {\n            stars: starRating.stars,\n            moves: movesUsed\n          }\n        };\n        return updatedScores;\n      }\n      return prev;\n    });\n\n    // æª¢æŸ¥æ˜¯å¦å®Œæˆæ‰€æœ‰é—œå¡\n    const levels = levelsData as unknown as Level[];\n    const isAllComplete = newCompletedLevels.size === levels.length;\n    const totalStars = Object.values(updatedScores).reduce((sum, score) => sum + score.stars, 0);\n    \n    // æ‰¾åˆ°ä¸‹ä¸€é—œ\n    const currentIndex = levels.findIndex(level => level.id === levelId);\n    const hasNextLevel = currentIndex < levels.length - 1;\n    const nextLevel = hasNextLevel ? levels[currentIndex + 1] : null;\n\n    // ç°¡åŒ–æµç¨‹ï¼šç›´æŽ¥é¡¯ç¤ºå°è©±æ¡†ï¼Œä¸ä½¿ç”¨VictoryEffectçµ„ä»¶\n    setTimeout(() => {\n      if (isAllComplete) {\n        // æ’­æ”¾å…¨å®ŒæˆéŸ³æ•ˆ\n        audioManager.playSound('allComplete');\n        alert(`ðŸ† æ­å–œæ‚¨å®Œæˆäº†æ‰€æœ‰é—œå¡ï¼\\nç¸½å…±ç²å¾— ${totalStars} é¡†æ˜Ÿæ˜Ÿï¼`);\n        setCurrentPage('level-selector');\n        setCurrentLevel(null);\n      } else if (hasNextLevel) {\n        const userChoice = window.confirm(`ðŸŽ‰ æ­å–œé€šé—œï¼\\n\\né—œå¡: ${levelId}\\nè©•åˆ†: ${starRating.stars}â˜… ${starRating.description}\\nä½¿ç”¨æ­¥æ•¸: ${movesUsed}\\n\\né»žæ“Šã€Œç¢ºå®šã€é€²å…¥ä¸‹ä¸€é—œ (${nextLevel!.id})\\né»žæ“Šã€Œå–æ¶ˆã€è¿”å›žé—œå¡é¸æ“‡`);\n        if (userChoice && nextLevel) {\n          // é€²å…¥ä¸‹ä¸€é—œ\n          const convertedLevel: Level = {\n            ...nextLevel,\n            obstacles: nextLevel.obstacles.map((obs: any) => ({ row: obs[0], col: obs[1] })),\n            blocks: nextLevel.blocks.map((block: any) => ({ row: block[0], col: block[1] }))\n          };\n          setCurrentLevel(convertedLevel);\n        } else {\n          // è¿”å›žé—œå¡é¸æ“‡\n          setCurrentPage('level-selector');\n          setCurrentLevel(null);\n        }\n      } else {\n        // æœ€å¾Œä¸€é—œä½†ä¸æ˜¯å…¨å®Œæˆçš„æƒ…æ³\n        alert(`ðŸŽ‰ æ­å–œé€šé—œï¼\\n\\né—œå¡: ${levelId}\\nè©•åˆ†: ${starRating.stars}â˜… ${starRating.description}\\nä½¿ç”¨æ­¥æ•¸: ${movesUsed}`);\n        setCurrentPage('level-selector');\n        setCurrentLevel(null);\n      }\n    }, 1000); // 1ç§’å¾Œé¡¯ç¤ºå°è©±æ¡†\n  }, [audioManager, completedLevels, levelScores]);\n\n  const handleLevelFailed = useCallback((gameState: GameState) => {\n    const coverage = Math.round((gameState.coveredCells.size / (gameState.currentLevel.gridSize[0] * gameState.currentLevel.gridSize[1] - gameState.currentLevel.obstacles.length)) * 100);\n    \n    // æ’­æ”¾å¤±æ•—éŸ³æ•ˆ\n    audioManager.playSound('error');\n    \n    setTimeout(() => {\n      alert(`ðŸ˜” éŠæˆ²å¤±æ•—ï¼\\nè¦†è“‹çŽ‡: ${coverage}%\\nå†è©¦ä¸€æ¬¡å§ï¼`);\n      setCurrentPage('level-selector');\n      setCurrentLevel(null);\n    }, 1000);\n  }, [audioManager]);\n\n  const renderCurrentPage = () => {\n    switch (currentPage) {\n      case 'main-menu':\n        return (\n          <MainMenu\n            onStartGame={handleStartGame}\n            onShowRules={handleShowRules}\n          />\n        );\n      \n      case 'rules':\n        return (\n          <RulesPage\n            onBack={handleBackToMainMenu}\n          />\n        );\n      \n      case 'level-selector':\n        return (\n          <NewLevelSelector\n            levels={levelsData as unknown as Level[]}\n            completedLevels={completedLevels}\n            levelScores={levelScores}\n            onLevelSelect={handleLevelSelect}\n            onResetProgress={handleResetProgress}\n            onBack={handleBackToMainMenu}\n          />\n        );\n      \n      case 'game':\n        return currentLevel ? (\n          <NewGame\n            level={currentLevel}\n            onLevelComplete={handleLevelComplete}\n            onLevelFailed={handleLevelFailed}\n            onBack={handleBackToLevelSelector}\n          />\n        ) : (\n          <div className=\"loading\">è¼‰å…¥ä¸­...</div>\n        );\n      \n      default:\n        return (\n          <MainMenu\n            onStartGame={handleStartGame}\n            onShowRules={handleShowRules}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      {renderCurrentPage()}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"qIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAE/D,OAASC,mBAAmB,KAAQ,mBAAmB,CACvD,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,gBAAgB,KAAM,+BAA+B,CAC5D,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,WAAW,CAElB;AACA,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5C,KAAM,CAAAC,GAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAW,WAAW,CAAC,CACrE,KAAM,CAACe,YAAY,CAAEC,eAAe,CAAC,CAAGhB,QAAQ,CAAe,IAAI,CAAC,CACpE,KAAM,CAACiB,eAAe,CAAEC,kBAAkB,CAAC,CAAGlB,QAAQ,CAAc,GAAI,CAAAmB,GAAG,CAAC,CAAC,CAAC,CAC9E,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGrB,QAAQ,CAAmD,CAAC,CAAC,CAAC,CAEpG;AACA,KAAM,CAACsB,YAAY,CAAC,CAAGtB,QAAQ,CAAC,IAAMI,YAAY,CAACmB,WAAW,CAAC,CAAC,CAAC,CAEjE;AACAtB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuB,cAAc,CAAGC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAC9D,KAAM,CAAAC,WAAW,CAAGF,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAEvD,GAAIF,cAAc,CAAE,CAClB,GAAI,CACFN,kBAAkB,CAAC,GAAI,CAAAC,GAAG,CAACS,IAAI,CAACC,KAAK,CAACL,cAAc,CAAC,CAAC,CAAC,CACzD,CAAE,MAAOM,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACzD,CACF,CAEA,GAAIH,WAAW,CAAE,CACf,GAAI,CACFN,cAAc,CAACO,IAAI,CAACC,KAAK,CAACF,WAAW,CAAC,CAAC,CACzC,CAAE,MAAOG,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CACF,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA7B,SAAS,CAAC,IAAM,CACdwB,YAAY,CAACO,OAAO,CAAC,iBAAiB,CAAEJ,IAAI,CAACK,SAAS,CAAC,CAAC,GAAGhB,eAAe,CAAC,CAAC,CAAC,CAC/E,CAAC,CAAE,CAACA,eAAe,CAAC,CAAC,CAErBhB,SAAS,CAAC,IAAM,CACdwB,YAAY,CAACO,OAAO,CAAC,aAAa,CAAEJ,IAAI,CAACK,SAAS,CAACb,WAAW,CAAC,CAAC,CAClE,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAEjB;AACAnB,SAAS,CAAC,IAAM,CACd8B,OAAO,CAACG,GAAG,CAAC,4BAA4B,CAAEZ,YAAY,CAACa,cAAc,CAAC,CAAC,CAAC,CAExE;AACA,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7BL,OAAO,CAACG,GAAG,CAAC,iCAAiC,CAAC,CAC9CZ,YAAY,CAACe,mBAAmB,CAAC,CAAC,CAClCC,QAAQ,CAACC,mBAAmB,CAAC,OAAO,CAAEH,gBAAgB,CAAC,CACvDE,QAAQ,CAACC,mBAAmB,CAAC,SAAS,CAAEH,gBAAgB,CAAC,CAC3D,CAAC,CAEDE,QAAQ,CAACE,gBAAgB,CAAC,OAAO,CAAEJ,gBAAgB,CAAC,CACpDE,QAAQ,CAACE,gBAAgB,CAAC,SAAS,CAAEJ,gBAAgB,CAAC,CAEtD,MAAO,IAAM,CACXE,QAAQ,CAACC,mBAAmB,CAAC,OAAO,CAAEH,gBAAgB,CAAC,CACvDE,QAAQ,CAACC,mBAAmB,CAAC,SAAS,CAAEH,gBAAgB,CAAC,CAC3D,CAAC,CACH,CAAC,CAAE,CAACd,YAAY,CAAC,CAAC,CAElB,KAAM,CAAAmB,eAAe,CAAGA,CAAA,GAAM,CAC5B;AACAnB,YAAY,CAACoB,SAAS,CAAC,OAAO,CAAC,CAC/BpB,YAAY,CAACe,mBAAmB,CAAC,CAAC,CAClCvB,cAAc,CAAC,gBAAgB,CAAC,CAClC,CAAC,CAED,KAAM,CAAA6B,eAAe,CAAGA,CAAA,GAAM,CAC5BrB,YAAY,CAACoB,SAAS,CAAC,OAAO,CAAC,CAC/B5B,cAAc,CAAC,OAAO,CAAC,CACzB,CAAC,CAED,KAAM,CAAA8B,oBAAoB,CAAGA,CAAA,GAAM,CACjC9B,cAAc,CAAC,WAAW,CAAC,CAC3BE,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAED,KAAM,CAAA6B,iBAAiB,CAAIC,KAAY,EAAK,CAC1C;AACA,KAAM,CAAAC,cAAqB,CAAAC,aAAA,CAAAA,aAAA,IACtBF,KAAK,MACRG,SAAS,CAAEH,KAAK,CAACG,SAAS,CAACC,GAAG,CAAEC,GAAQ,GAAM,CAAEC,GAAG,CAAED,GAAG,CAAC,CAAC,CAAC,CAAEE,GAAG,CAAEF,GAAG,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAC5EG,MAAM,CAAER,KAAK,CAACQ,MAAM,CAACJ,GAAG,CAAEK,KAAU,GAAM,CAAEH,GAAG,CAAEG,KAAK,CAAC,CAAC,CAAC,CAAEF,GAAG,CAAEE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,EAC7E,CACDvC,eAAe,CAAC+B,cAAc,CAAC,CAC/BjC,cAAc,CAAC,MAAM,CAAC,CACxB,CAAC,CAED,KAAM,CAAA0C,yBAAyB,CAAGA,CAAA,GAAM,CACtC1C,cAAc,CAAC,gBAAgB,CAAC,CAChCE,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAED,KAAM,CAAAyC,mBAAmB,CAAGA,CAAA,GAAM,CAChCvC,kBAAkB,CAAC,GAAI,CAAAC,GAAG,CAAC,CAAC,CAAC,CAC7BE,cAAc,CAAC,CAAC,CAAC,CAAC,CAClBI,YAAY,CAACiC,UAAU,CAAC,iBAAiB,CAAC,CAC1CjC,YAAY,CAACiC,UAAU,CAAC,aAAa,CAAC,CACxC,CAAC,CAED,KAAM,CAAAC,mBAAmB,CAAGzD,WAAW,CAAE0D,SAAoB,EAAK,CAChE,KAAM,CAAAC,OAAO,CAAGD,SAAS,CAAC7C,YAAY,CAAC+C,EAAE,CACzC,KAAM,CAAAC,SAAS,CAAGH,SAAS,CAACI,WAAW,CAAG,CAAC,CAC3C,KAAM,CAAAC,UAAU,CAAG9D,mBAAmB,CAACyD,SAAS,CAAC,CAEjD;AACAtC,YAAY,CAACoB,SAAS,QAAAwB,MAAA,CAAQD,UAAU,CAACE,KAAK,CAAE,CAAC,CAEjD;AACA,KAAM,CAAAC,kBAAkB,CAAG,GAAI,CAAAjD,GAAG,CAAC,CAAC,GAAGF,eAAe,CAAE4C,OAAO,CAAC,CAAC,CACjE3C,kBAAkB,CAACkD,kBAAkB,CAAC,CAEtC;AACA,GAAI,CAAAC,aAAa,CAAGjD,WAAW,CAC/BC,cAAc,CAACiD,IAAI,EAAI,CACrB,KAAM,CAAAC,YAAY,CAAGD,IAAI,CAACT,OAAO,CAAC,CAClC,GAAI,CAACU,YAAY,EAAIN,UAAU,CAACE,KAAK,CAAGI,YAAY,CAACJ,KAAK,EACrDF,UAAU,CAACE,KAAK,GAAKI,YAAY,CAACJ,KAAK,EAAIJ,SAAS,CAAGQ,YAAY,CAACC,KAAM,CAAE,CAC/EH,aAAa,CAAArB,aAAA,CAAAA,aAAA,IACRsB,IAAI,MACP,CAACT,OAAO,EAAG,CACTM,KAAK,CAAEF,UAAU,CAACE,KAAK,CACvBK,KAAK,CAAET,SACT,CAAC,EACF,CACD,MAAO,CAAAM,aAAa,CACtB,CACA,MAAO,CAAAC,IAAI,CACb,CAAC,CAAC,CAEF;AACA,KAAM,CAAAG,MAAM,CAAGhE,UAAgC,CAC/C,KAAM,CAAAiE,aAAa,CAAGN,kBAAkB,CAACO,IAAI,GAAKF,MAAM,CAACG,MAAM,CAC/D,KAAM,CAAAC,UAAU,CAAGC,MAAM,CAACC,MAAM,CAACV,aAAa,CAAC,CAACW,MAAM,CAAC,CAACC,GAAG,CAAEC,KAAK,GAAKD,GAAG,CAAGC,KAAK,CAACf,KAAK,CAAE,CAAC,CAAC,CAE5F;AACA,KAAM,CAAAgB,YAAY,CAAGV,MAAM,CAACW,SAAS,CAACtC,KAAK,EAAIA,KAAK,CAACgB,EAAE,GAAKD,OAAO,CAAC,CACpE,KAAM,CAAAwB,YAAY,CAAGF,YAAY,CAAGV,MAAM,CAACG,MAAM,CAAG,CAAC,CACrD,KAAM,CAAAU,SAAS,CAAGD,YAAY,CAAGZ,MAAM,CAACU,YAAY,CAAG,CAAC,CAAC,CAAG,IAAI,CAEhE;AACAI,UAAU,CAAC,IAAM,CACf,GAAIb,aAAa,CAAE,CACjB;AACApD,YAAY,CAACoB,SAAS,CAAC,aAAa,CAAC,CACrC8C,KAAK,8GAAAtB,MAAA,CAAyBW,UAAU,6BAAO,CAAC,CAChD/D,cAAc,CAAC,gBAAgB,CAAC,CAChCE,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,IAAM,IAAIqE,YAAY,CAAE,CACvB,KAAM,CAAAI,UAAU,CAAGC,MAAM,CAACC,OAAO,iEAAAzB,MAAA,CAAoBL,OAAO,qBAAAK,MAAA,CAASD,UAAU,CAACE,KAAK,YAAAD,MAAA,CAAKD,UAAU,CAAC2B,WAAW,iCAAA1B,MAAA,CAAWH,SAAS,6EAAAG,MAAA,CAAoBoB,SAAS,CAAExB,EAAE,+EAAiB,CAAC,CACvL,GAAI2B,UAAU,EAAIH,SAAS,CAAE,CAC3B;AACA,KAAM,CAAAvC,cAAqB,CAAAC,aAAA,CAAAA,aAAA,IACtBsC,SAAS,MACZrC,SAAS,CAAEqC,SAAS,CAACrC,SAAS,CAACC,GAAG,CAAEC,GAAQ,GAAM,CAAEC,GAAG,CAAED,GAAG,CAAC,CAAC,CAAC,CAAEE,GAAG,CAAEF,GAAG,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAChFG,MAAM,CAAEgC,SAAS,CAAChC,MAAM,CAACJ,GAAG,CAAEK,KAAU,GAAM,CAAEH,GAAG,CAAEG,KAAK,CAAC,CAAC,CAAC,CAAEF,GAAG,CAAEE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,EACjF,CACDvC,eAAe,CAAC+B,cAAc,CAAC,CACjC,CAAC,IAAM,CACL;AACAjC,cAAc,CAAC,gBAAgB,CAAC,CAChCE,eAAe,CAAC,IAAI,CAAC,CACvB,CACF,CAAC,IAAM,CACL;AACAwE,KAAK,iEAAAtB,MAAA,CAAoBL,OAAO,qBAAAK,MAAA,CAASD,UAAU,CAACE,KAAK,YAAAD,MAAA,CAAKD,UAAU,CAAC2B,WAAW,iCAAA1B,MAAA,CAAWH,SAAS,CAAE,CAAC,CAC3GjD,cAAc,CAAC,gBAAgB,CAAC,CAChCE,eAAe,CAAC,IAAI,CAAC,CACvB,CACF,CAAC,CAAE,IAAI,CAAC,CAAE;AACZ,CAAC,CAAE,CAACM,YAAY,CAAEL,eAAe,CAAEG,WAAW,CAAC,CAAC,CAEhD,KAAM,CAAAyE,iBAAiB,CAAG3F,WAAW,CAAE0D,SAAoB,EAAK,CAC9D,KAAM,CAAAkC,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAAEpC,SAAS,CAACqC,YAAY,CAACtB,IAAI,EAAIf,SAAS,CAAC7C,YAAY,CAACmF,QAAQ,CAAC,CAAC,CAAC,CAAGtC,SAAS,CAAC7C,YAAY,CAACmF,QAAQ,CAAC,CAAC,CAAC,CAAGtC,SAAS,CAAC7C,YAAY,CAACkC,SAAS,CAAC2B,MAAM,CAAC,CAAI,GAAG,CAAC,CAEtL;AACAtD,YAAY,CAACoB,SAAS,CAAC,OAAO,CAAC,CAE/B6C,UAAU,CAAC,IAAM,CACfC,KAAK,qEAAAtB,MAAA,CAAmB4B,QAAQ,2CAAW,CAAC,CAC5ChF,cAAc,CAAC,gBAAgB,CAAC,CAChCE,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAAE,CAACM,YAAY,CAAC,CAAC,CAElB,KAAM,CAAA6E,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,OAAQtF,WAAW,EACjB,IAAK,WAAW,CACd,mBACEF,IAAA,CAACN,QAAQ,EACP+F,WAAW,CAAE3D,eAAgB,CAC7B4D,WAAW,CAAE1D,eAAgB,CAC9B,CAAC,CAGN,IAAK,OAAO,CACV,mBACEhC,IAAA,CAACL,SAAS,EACRgG,MAAM,CAAE1D,oBAAqB,CAC9B,CAAC,CAGN,IAAK,gBAAgB,CACnB,mBACEjC,IAAA,CAACJ,gBAAgB,EACfkE,MAAM,CAAEhE,UAAiC,CACzCQ,eAAe,CAAEA,eAAgB,CACjCG,WAAW,CAAEA,WAAY,CACzBmF,aAAa,CAAE1D,iBAAkB,CACjC2D,eAAe,CAAE/C,mBAAoB,CACrC6C,MAAM,CAAE1D,oBAAqB,CAC9B,CAAC,CAGN,IAAK,MAAM,CACT,MAAO,CAAA7B,YAAY,cACjBJ,IAAA,CAACH,OAAO,EACNsC,KAAK,CAAE/B,YAAa,CACpB0F,eAAe,CAAE9C,mBAAoB,CACrC+C,aAAa,CAAEb,iBAAkB,CACjCS,MAAM,CAAE9C,yBAA0B,CACnC,CAAC,cAEF7C,IAAA,QAAKgG,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,uBAAM,CAAK,CACrC,CAEH,QACE,mBACEjG,IAAA,CAACN,QAAQ,EACP+F,WAAW,CAAE3D,eAAgB,CAC7B4D,WAAW,CAAE1D,eAAgB,CAC9B,CAAC,CAER,CACF,CAAC,CAED,mBACEhC,IAAA,QAAKgG,SAAS,CAAC,KAAK,CAAAC,QAAA,CACjBT,iBAAiB,CAAC,CAAC,CACjB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvF,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}