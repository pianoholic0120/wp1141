# Chat History - User Instructions

*整理自開發過程中的用戶指示*

## 專案初始化與需求

### 1. UI 組件規劃

**要求**: 查看 `@course-selection.md` 並使用 shadcn/ui 製作 UI 實作，說明在 UI 結構中會使用哪些組件以及在哪裡使用。只寫出適當的組件名稱，不要寫程式碼。確保包含更多組件讓網站看起來更高級。

### 2. 實作規範

**要求**:

- 將 `@implementation.md` 實作到 `@hw3/` 目錄中
- ShadCN 已安裝，只允許 HTML、CSS、React.ts、TypeScript，不允許 JavaScript
- 原始資料由一個 .csv 檔案組成，存放在 `hw3/src/public/data` 下
- 服務設計應確保當用戶編輯或修改 .csv 檔案並更新到儲存庫時，服務應自動更新（透過熱重載或應用程式重啟），無需更改其他程式碼

### 3. 基本程式設計要求

**要求**:

- 程式語言除了必要的 HTML、CSS 之外，動態網頁部分規定使用 React.ts（TypeScript 版本的 React），而不是 pure JavaScript 或 React.js
- Spreadsheet 原始應為一個 .csv 檔案，存放在 `hw3/src/public/data` 底下
- 服務應該要做到當使用者編輯/更改 .csv 檔案，更新到 repo 以後，服務應該會自動更新（either hot reload, or restart app），不需要改動其他的程式碼
- 適時地將 code refactoring，例如不要把產生畫面與操作資料的邏輯混在一起，應該要把 code 分成 hooks、components 等，以利閱讀與維護
- 如果有多個 components 需要 access 同樣的一些資料，請把他們放到 context 底下，以利管理
- 不要使用 JavaScript

## 功能修正與改進

### 4. 資料連結問題

**問題**: 網路服務沒有正確連結到 `/Users/arthurlin/Desktop/網服/wp1141/hw3/src/public/data/hw3-ntucourse-data-1002.csv` 的資料，課程資料都是由他來取得的，也就是題目「A Single-Page Application Made from a Spreadsheet」的意義，並且現在無法利用 filter 來做篩選會變成白屏幕，而且現在還存在例如 postcss.config.js、tailwind.config.js 等等 JavaScript 檔案

### 5. 效能與功能問題

**問題**:

- 執行速度實在太慢
- 無法把課程加入計劃裡面
- filter 按下去之後會直接跳轉畫面並且整個白屏無法操作
- 搜尋系統不太對，無法根據不同項目（例如老師、課號、系所）等等來做查找
- 查找結果也不對

### 6. 篩選功能修正

**問題**: 按下 filter 會跳到發生錯誤的畫面，錯誤為「A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.」，同時現在按下課程下方的 + add 無法正確加到計劃中，請修正，可以的話也讓版面和瀏覽器相合

### 7. 篩選介面改進

**問題**:

- filter 點下選擇會覆蓋到課程的字，請避免
- 在選擇 filter 項目後加入一個確認 filter 的按鍵
- 年級選擇有誤
- 選完後沒有按鈕可以進到下一個 step，現在只能在 browse 這個步驟沒辦法進到後面幾個步驟（planning、submitted、modify 等）

### 8. 按鈕與視窗樣式

**要求**:

- 按鈕請 follow `@shad-cn.mdc` 來使用 shadcn UI 來實作
- 現在的按鈕按下去會不知道是否有按到，缺乏按下去之後的反饋，請加入
- 現在的提示視窗文字和底色太相近看不到字，也請一併修正

### 9. 分頁功能

**要求**: 現在沒辦法一次處理所有課程，可以以每 1000 筆作為一個頁面，可以藉由切換頁面看到其他所有課程資訊，這樣是不是就可以避免跑太慢的問題，或是換成一頁可以顯示 500 個課程

### 10. 時間解析修正

**要求**: 現在課程沒有正確從 csv 檔案中讀取上課時間出來，請依照下面規則來更正：

| 節次代號 | 上課時間      |
| -------- | ------------- |
| 0        | 07:10 - 08:00 |
| 1        | 08:10 - 09:00 |
| 2        | 09:10 - 10:00 |
| 3        | 10:20 - 11:10 |
| 4        | 11:20 - 12:10 |
| 5        | 12:20 - 13:10 |
| 6        | 13:20 - 14:10 |
| 7        | 14:20 - 15:10 |
| 8        | 15:30 - 16:20 |
| 9        | 16:30 - 17:20 |
| A        | 18:25 - 19:15 |
| B        | 19:20 - 20:10 |
| C        | 20:15 - 21:05 |
| D        | 21:10 - 22:00 |

### 11. 篩選選項修正

**問題**:

- filter 會出現如圖的狀況
- 學分的下拉選項不應該有 20 學分這種選擇出現
- 時間資訊還未被加上去，仍然沒有從 csv 檔案中讀取並取得上課時間
- 從 day1（星期一）、day2（星期二）、day3（星期三）... 裡面會寫例如 12 就是第 1 和第 2 節要上課，根據時間和上課節次對照表就可以找到正確上課時間了
- 這樣選課的 planning 階段就可以把要上課的時段用顏色等等做標記了

### 12. Twitter 主題安裝

**要求**:

```bash
pnpm dlx shadcn@latest add https://tweakcn.com/r/themes/twitter.json
```

install this and implement this

### 13. 檔案格式修正

**要求**: 將 .mjs 檔案修改成 .ts 檔案

### 14. Git 設定

**要求**: 正確寫好 .gitignore

### 15. 頁面大小調整

**要求**: 請讓整體頁面可以大一些，不然很多地方字會太小

### 16. 對話框透明度問題

**問題**: 跳出的視窗太過透明且顏色會很黯淡，螢幕顯示色調也變暗，這都讓風格不一致且難以看到上面的字

### 17. 選單透明度修正

**要求**: filter 部分的選單以及 modification 的 modification type 選單也都一併修正太過透明且顏色會很黯淡的問題

### 18. 功能完整性修正

**問題**:

- 現在 start new registration 可以看到沒有確認的按鈕
- modification 階段想要加入新課程應該跳到 browse 頁面，請修改
- 現在的 filter 功能並未正確實作，即使輸入了文字按下 enter 後沒有正確進行篩選
- 若用選定的系級、科目類別、學分數等等也未能篩選出符合條件的課程，請更正篩選機制的實作
- 時間資訊還是未被加上去，表示程式碼仍然沒有從 csv 檔案中讀取並取得上課時間
- 從檔案的 day1（星期一）、day2（星期二）、day3（星期三）... 裡面會寫例如 12 就是第 1 和第 2 節要上課
- 不用理會 st1、st2、st3... 的資訊，由 day1、day2 判斷星期幾並由該欄位內的資訊判斷上課節數
- 例如有 st1: S、day1: 12 就表示上課時間是星期一的第 12 節課上課，以此類推

### 19. 介面佈局調整

**要求**:

- 改成把節次-時間對照表放在 browse 介面左側或右側然後課程資訊裡面標示節次代號即可
- follow shadcn UI
- 更正 go to planning 部分的風格
- 現在使用任何 filter 功能最上面總是會有專項運動的課程，請確保這可以被 filter 正確過濾掉
- 保留原先 filter 功能的確認鍵，讓使用者可以決定是否正確 apply 設定的 filtering

### 20. TypeScript 嚴格要求

**要求**: 請記得我不要且不能使用 JavaScript，是 TypeScript

### 21. JSX 語法錯誤修正

**錯誤**:

```
[plugin:vite:react-babel] Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?
```

### 22. 篩選結果修正

**問題**:

- 即使系統顯示找到 2 堂課卻有 5 堂課顯示出來，但只有前兩堂是需要保留的，後面是不該在篩選下保留的
- 若是使用打字而不是使用 department、year、credits 等等做為篩選時，希望藉由按下 enter 鍵就能夠觸發套用篩選的效果
- 讓介面整體在寬一些，貼近並動態適配瀏覽器的大小

### 23. 介面高度調整

**要求**:

- 適度加高介面，進入課程計劃按鈕往下一些
- 確保最下方的「© 2025 National Taiwan University Course Registration System Data updates automatically」還完整在介面內即可
- 按下套用篩選後應該把 filters 的介面自動收回
- 若使用者原本已經篩選後想要再修改篩選條件時應該保留所有條件供選擇
- 現在已經有上課時間成功從 csv 檔案中提取並顯示在課程資訊上了，但是選課之後，進到 planning 階段卻無法看到選的課出現在上課時間表的對應位置

### 24. 課程顯示區域調整

**要求**:

- 讓課程部分範圍高一點，把按鈕往下放至，空出多點空間給課程顯示
- 現在按下一頁時有時候會卡住沒有反應，或是按了很多頁還是卡在同一頁畫面，請修正

## 導航與功能改進

### 25. Planning 階段導航

**要求**: 即使還沒有加入課程也可以進到 planning 的階段，所以最上面的四個階段的按鈕，planning 一開始就要能夠按鈕進入

### 26. 課程刪除功能

**要求**: weekly schedule 鼠標放到課程上面後會顯示出垃圾桶符號，按下會馬上刪除，請先跳出提示確認後再讓使用者決定是否刪除以免誤觸。submitted 的 weekly schedule 鼠標放到課程上面則不應該顯示出垃圾桶符號

### 27. 對話框透明度修正

**問題**: planning 介面按下課程上的垃圾桶跳出的提示會讓畫面變灰，請修正並注意透明度問題

### 28. 視窗清晰度改善

**要求**: 要讓提示視窗看得清楚，不要變灰，請確保字看得清楚

### 29. 提示視窗大小調整

**要求**: 現在一些提示視窗可以用大一些，並確保網路服務中英文中文奘語言的人都可以使用

### 30. 文字溢出問題

**問題**: 開始新的註冊的提示和文字超出視窗大小

### 31. 重置功能修正

**要求**: 現在按下開始新的註冊按鈕後，原先的 planning 資料就要清空

### 32. 資料清除驗證

**問題**: 現在按下 submitted 介面下方的開始新的註冊按鈕並確定後會跳轉回 browse 介面，但此時按 planning 仍可以看到前面的資料，沒有正確清空

### 33. 按鈕回饋增強

**要求**: 增加所有按鍵的回饋感，讓使用者也能直覺地感覺到是否有按到按鍵

### 34. Twitter Tweak UI 風格

**要求**: 可以 follow Twitter 的 tweak UI 風格，讓整體更一致

### 35. README 文件完善

**要求**: 幫我詳細完成我的 README.md 以及 `/Users/arthurlin/Desktop/網服/wp1141/README.md`

### 36. 聊天記錄整理

**要求**: 請幫我修整 chat-history.md，只保留 user 所下的指示，而不用保留你的回覆，並且架構要清晰易讀

---

## 總結

本聊天記錄整理了整個開發過程中用戶提出的所有指示和要求，包括：

1. **專案初始化**: UI 組件規劃、實作規範、基本程式設計要求
2. **功能修正**: 資料連結、效能問題、篩選功能、時間解析
3. **介面改進**: 按鈕樣式、對話框透明度、頁面大小調整
4. **功能完善**: 導航改進、課程刪除、重置功能、按鈕回饋
5. **文件完善**: README 更新、聊天記錄整理

這些指示反映了從專案初期到最終完成的完整開發流程，確保了專案的質量和用戶體驗。
